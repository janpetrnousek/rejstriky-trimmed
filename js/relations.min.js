var labelType,useGradients,nativeTextSupport,animate;function calculateHeaderHeight(){return $(window).height()>headerHeightBreak?90:0}!function(){this.$jit=function(e){for(var t in e=e||window,$jit)$jit[t].$extend&&(e[t]=$jit[t])},$jit.version="2.0.1";var B=function(e){return document.getElementById(e)};B.empty=function(){},B.extend=function(e,t){for(var i in t||{})e[i]=t[i];return e},B.lambda=function(e){return"function"==typeof e?e:function(){return e}},B.time=Date.now||function(){return+new Date},B.splat=function(e){var t=B.type(e);return t?"array"!=t?[e]:e:[]},(B.type=function(e){var t=B.type.s.call(e).match(/^\[object\s(.*)\]$/)[1].toLowerCase();return"object"!=t?t:e&&e.$$family?e.$$family:e&&9==e.nodeType?"htmldocument":e&&e.nodeName&&1==e.nodeType?"element":t}).s=Object.prototype.toString,B.each=function(e,t){if("object"==B.type(e))for(var i in e)t(e[i],i);else for(var n=0,a=e.length;n<a;n++)t(e[n],n)},B.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},B.map=function(e,i){var n=[];return B.each(e,function(e,t){n.push(i(e,t))}),n},B.reduce=function(e,t,i){var n=e.length;if(0==n)return i;for(var a=3==arguments.length?i:e[--n];n--;)a=t(a,e[n]);return a},B.merge=function(){for(var e={},t=0,i=arguments.length;t<i;t++){var n=arguments[t];if("object"==B.type(n))for(var a in n){var o=n[a],r=e[a];e[a]=r&&"object"==B.type(o)&&"object"==B.type(r)?B.merge(r,o):B.unlink(o)}}return e},B.unlink=function(e){var t;switch(B.type(e)){case"object":for(var i in t={},e)t[i]=B.unlink(e[i]);break;case"array":t=[];for(var n=0,a=e.length;n<a;n++)t[n]=B.unlink(e[n]);break;default:return e}return t},B.zip=function(){if(0===arguments.length)return[];for(var e=0,t=[],i=arguments.length,n=arguments[0].length;e<n;e++){for(var a=0,o=[];a<i;a++)o.push(arguments[a][e]);t.push(o)}return t},B.rgbToHex=function(e,t){if(e.length<3)return null;if(4==e.length&&0==e[3]&&!t)return"transparent";for(var i=[],n=0;n<3;n++){var a=(e[n]-0).toString(16);i.push(1==a.length?"0"+a:a)}return t?i:"#"+i.join("")},B.hexToRgb=function(e){if(7==e.length)return[(e=parseInt(e.slice(1),16))>>16,e>>8&255,255&e];if((e=e.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/)).shift(),3!=e.length)return null;for(var t=[],i=0;i<3;i++){var n=e[i];1==n.length&&(n+=n),t.push(parseInt(n,16))}return t},B.destroy=function(e){B.clean(e),e.parentNode&&e.parentNode.removeChild(e),e.clearAttributes&&e.clearAttributes()},B.clean=function(e){for(var t=e.childNodes,i=0,n=t.length;i<n;i++)B.destroy(t[i])},B.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},B.addEvents=function(e,t){for(var i in t)B.addEvent(e,i,t[i])},B.hasClass=function(e,t){return-1<(" "+e.className+" ").indexOf(" "+t+" ")},B.addClass=function(e,t){B.hasClass(e,t)||(e.className=e.className+" "+t)},B.removeClass=function(e,t){e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1")},B.getPos=function(e){var t=function(e){var t={x:0,y:0};for(;e&&!n(e);)t.x+=e.offsetLeft,t.y+=e.offsetTop,e=e.offsetParent;return t}(e),i=function(e){var t={x:0,y:0};for(;e&&!n(e);)t.x+=e.scrollLeft,t.y+=e.scrollTop,e=e.parentNode;return t}(e);return{x:t.x-i.x,y:t.y-i.y};function n(e){return/^(?:body|html)$/i.test(e.tagName)}},B.event={get:function(e,t){return t=t||window,e||t.event},getWheel:function(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3},isRightClick:function(e){return 3==e.which||2==e.button},getPos:function(e,t){t=t||window,e=e||t.event;var i=t.document;return i=i.documentElement||i.body,e.touches&&e.touches.length&&(e=e.touches[0]),{x:e.pageX||e.clientX+i.scrollLeft,y:e.pageY||e.clientY+i.scrollTop}},stop:function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1}},$jit.util=$jit.id=B;var r=function(e){e=e||{};var i=function(){for(var e in this)"function"!=typeof this[e]&&(this[e]=B.unlink(this[e]));if(this.constructor=i,r.prototyping)return this;var t=this.initialize?this.initialize.apply(this,arguments):this;return this.$$family="class",t};for(var t in r.Mutators)e[t]&&delete(e=r.Mutators[t](e,e[t]))[t];return B.extend(i,this),i.constructor=r,i.prototype=e,i};r.Mutators={Implements:function(n,e){return B.each(B.splat(e),function(e){var t="function"==typeof(r.prototyping=e)?new e:e;for(var i in t)i in n||(n[i]=t[i]);delete r.prototyping}),n}},B.extend(r,{inherit:function(e,t){for(var i in t){var n=t[i],a=e[i],o=B.type(n);a&&"function"==o?n!=a&&r.override(e,i,n):e[i]="object"==o?B.merge(a,n):n}return e},override:function(i,n,a){var o=r.prototyping;o&&i[n]!=o[n]&&(o=null);i[n]=function(){var e=this.parent;this.parent=o?o[n]:i[n];var t=a.apply(this,arguments);return this.parent=e,t}}}),r.prototype.implement=function(){var t=this.prototype;return B.each(Array.prototype.slice.call(arguments||[]),function(e){r.inherit(t,e)}),this},$jit.Class=r,$jit.json={prune:function(e,i){this.each(e,function(e,t){t==i&&e.children&&(delete e.children,e.children=[])})},getParent:function(e,t){if(e.id==t)return!1;var i=e.children;if(i&&0<i.length)for(var n=0;n<i.length;n++){if(i[n].id==t)return e;var a=this.getParent(i[n],t);if(a)return a}return!1},getSubtree:function(e,t){if(e.id==t)return e;for(var i=0,n=e.children;n&&i<n.length;i++){var a=this.getSubtree(n[i],t);if(null!=a)return a}return null},eachLevel:function(e,t,i,n){if(t<=i){if(n(e,t),!e.children)return;for(var a=0,o=e.children;a<o.length;a++)this.eachLevel(o[a],t+1,i,n)}},each:function(e,t){this.eachLevel(e,0,Number.MAX_VALUE,t)}},$jit.Trans={$extend:!0,linear:function(e){return e}};var i,s=$jit.Trans;i=function(t,i){return i=B.splat(i),B.extend(t,{easeIn:function(e){return t(e,i)},easeOut:function(e){return 1-t(1-e,i)},easeInOut:function(e){return e<=.5?t(2*e,i)/2:(2-t(2*(1-e),i))/2}})},B.each({Pow:function(e,t){return Math.pow(e,t[0]||6)},Expo:function(e){return Math.pow(2,8*(e-1))},Circ:function(e){return 1-Math.sin(Math.acos(e))},Sine:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Back:function(e,t){return t=t[0]||1.618,Math.pow(e,2)*((t+1)*e-t)},Bounce:function(e){for(var t,i=0,n=1;;i+=n,n/=2)if((7-4*i)/11<=e){t=n*n-Math.pow((11-6*i-11*e)/4,2);break}return t},Elastic:function(e,t){return Math.pow(2,10*--e)*Math.cos(20*e*Math.PI*(t[0]||1)/3)}},function(e,t){s[t]=i(e)}),B.each(["Quad","Cubic","Quart","Quint"],function(e,t){s[e]=i(function(e){return Math.pow(e,[t+2])})});var d=new r({initialize:function(e){this.setOptions(e)},setOptions:function(e){var t={duration:2500,fps:40,transition:s.Quart.easeInOut,compute:B.empty,complete:B.empty,link:"ignore"};return this.opt=B.merge(t,e||{}),this},step:function(){var e=B.time(),t=this.opt;if(e<this.time+t.duration){var i=t.transition((e-this.time)/t.duration);t.compute(i)}else this.timer=clearInterval(this.timer),t.compute(1),t.complete()},start:function(){return this.check()&&(this.time=0,this.startTimer()),this},startTimer:function(){var e=this,t=this.opt.fps;return!this.timer&&(this.time=B.time()-this.time,this.timer=setInterval(function(){e.step()},Math.round(1e3/t)),!0)},pause:function(){return this.stopTimer(),this},resume:function(){return this.startTimer(),this},stopTimer:function(){return!!this.timer&&(this.time=B.time()-this.time,this.timer=clearInterval(this.timer),!0)},check:function(){return!this.timer||"cancel"==this.opt.link&&(this.stopTimer(),!0)}}),o=function(){for(var e=arguments,t=0,i=e.length,n={};t<i;t++){var a=o[e[t]];a.$extend?B.extend(n,a):n[e[t]]=a}return n};o.AreaChart={$extend:!0,animate:!0,labelOffset:3,type:"stacked",Tips:{enable:!1,onShow:B.empty,onHide:B.empty},Events:{enable:!1,onClick:B.empty},selectOnHover:!0,showAggregates:!0,showLabels:!0,filterOnClick:!1,restoreOnRightClick:!1},o.Margin={$extend:!1,top:0,left:0,right:0,bottom:0},o.Canvas={$extend:!0,injectInto:"id",type:"2D",width:!1,height:!1,useCanvas:!1,withLabels:!0,background:!1,Scene:{Lighting:{enable:!1,ambient:[1,1,1],directional:{direction:{x:-100,y:-100,z:-100},color:[.5,.3,.1]}}}},o.Tree={$extend:!0,orientation:"left",subtreeOffset:8,siblingOffset:5,indent:10,multitree:!1,align:"center",levelSpacing:"even"},o.Node={$extend:!1,overridable:!1,type:"circle",color:"#ccb",alpha:1,dim:3,height:20,width:90,autoHeight:!1,autoWidth:!1,lineWidth:1,transform:!0,align:"center",angularWidth:1,span:1,CanvasStyles:{}},o.Edge={$extend:!1,overridable:!1,type:"line",color:"#ccb",lineWidth:1,dim:15,alpha:1,epsilon:7,CanvasStyles:{}},o.Fx={$extend:!0,fps:40,duration:2500,transition:$jit.Trans.Quart.easeInOut,clearCanvas:!0},o.Label={$extend:!1,overridable:!1,type:"HTML",style:" ",size:10,family:"sans-serif",textAlign:"center",textBaseline:"alphabetic",color:"#fff"},o.Tips={$extend:!1,enable:!1,type:"auto",offsetX:20,offsetY:20,force:!1,onShow:B.empty,onHide:B.empty},o.NodeStyles={$extend:!1,enable:!1,type:"auto",stylesHover:!1,stylesClick:!1},o.Events={$extend:!1,enable:!1,enableForEdges:!1,type:"auto",onClick:B.empty,onRightClick:B.empty,onMouseMove:B.empty,onMouseEnter:B.empty,onMouseLeave:B.empty,onDragStart:B.empty,onDragMove:B.empty,onDragCancel:B.empty,onDragEnd:B.empty,onTouchStart:B.empty,onTouchMove:B.empty,onTouchEnd:B.empty,onTouchCancel:B.empty,onMouseWheel:B.empty},o.Navigation={$extend:!1,enable:!1,type:"auto",panning:!1,zooming:!1},o.Controller={$extend:!0,onBeforeCompute:B.empty,onAfterCompute:B.empty,onCreateLabel:B.empty,onPlaceLabel:B.empty,onComplete:B.empty,onBeforePlotLine:B.empty,onAfterPlotLine:B.empty,onBeforePlotNode:B.empty,onAfterPlotNode:B.empty,onBeforeRemoveNode:B.empty,request:!1};var p,e={initialize:function(e,t){this.viz=t,this.canvas=t.canvas,this.config=t.config[e],this.nodeTypes=t.fx.nodeTypes;var i=this.config.type;this.dom="auto"==i?"Native"!=t.config.Label.type:"Native"!=i,this.labelContainer=this.dom&&t.labels.getLabelContainer(),this.isEnabled()&&this.initializePost()},initializePost:B.empty,setAsProperty:B.lambda(!1),isEnabled:function(){return this.config.enable},isLabel:function(e,t,i){e=B.event.get(e,t);var n=this.labelContainer,a=e.target||e.srcElement,o=e.relatedTarget;return i?o&&o==this.viz.canvas.getCtx().canvas&&!!a&&this.isDescendantOf(a,n):this.isDescendantOf(a,n)},isDescendantOf:function(e,t){for(;e&&e.parentNode;){if(e.parentNode==t)return e;e=e.parentNode}return!1}},t={onMouseUp:B.empty,onMouseDown:B.empty,onMouseMove:B.empty,onMouseOver:B.empty,onMouseOut:B.empty,onMouseWheel:B.empty,onTouchStart:B.empty,onTouchMove:B.empty,onTouchEnd:B.empty,onTouchCancel:B.empty},a=new r({initialize:function(e){this.viz=e,this.canvas=e.canvas,this.node=!1,this.edge=!1,this.registeredObjects=[],this.attachEvents()},attachEvents:function(){var e=this.canvas.getElement(),a=this;e.oncontextmenu=B.lambda(!1),B.addEvents(e,{mouseup:function(e,t){var i=B.event.get(e,t);a.handleEvent("MouseUp",e,t,a.makeEventObject(e,t),B.event.isRightClick(i))},mousedown:function(e,t){var i=B.event.get(e,t);a.handleEvent("MouseDown",e,t,a.makeEventObject(e,t),B.event.isRightClick(i))},mousemove:function(e,t){a.handleEvent("MouseMove",e,t,a.makeEventObject(e,t))},mouseover:function(e,t){a.handleEvent("MouseOver",e,t,a.makeEventObject(e,t))},mouseout:function(e,t){a.handleEvent("MouseOut",e,t,a.makeEventObject(e,t))},touchstart:function(e,t){a.handleEvent("MouseDown",e,t,a.makeEventObject(e,t))},touchmove:function(e,t){a.handleEvent("MouseMove",e,t,a.makeEventObject(e,t))},touchend:function(e,t){a.handleEvent("MouseUp",e,t,a.makeEventObject(e,t))}});var t=function(e,t){var i=B.event.get(e,t),n=B.event.getWheel(i);a.handleEvent("MouseWheel",e,t,n)};document.getBoxObjectFor||null!=window.mozInnerScreenX?e.addEventListener("DOMMouseScroll",t,!1):B.addEvent(e,"mousewheel",t)},register:function(e){this.registeredObjects.push(e)},handleEvent:function(){for(var e=Array.prototype.slice.call(arguments),t=e.shift(),i=0,n=this.registeredObjects,a=n.length;i<a;i++)n[i]["on"+t].apply(n[i],e)},makeEventObject:function(h,l){var c=this,s=this.viz.graph,d=this.viz.fx,a=d.nodeTypes,g=d.edgeTypes;return{pos:!1,node:!1,edge:!1,contains:!1,getNodeCalled:!1,getEdgeCalled:!1,getPos:function(){var e=c.viz.canvas,t=e.getSize(),i=e.getPos(),n=e.translateOffsetX,a=e.translateOffsetY,o=e.scaleOffsetX,r=e.scaleOffsetY,s=B.event.getPos(h,l);return this.pos={x:1*(s.x-i.x-t.width/2-n)/o,y:1*(s.y-i.y-t.height/2-a)/r},this.pos},getNode:function(){if(this.getNodeCalled)return this.node;for(var e in this.getNodeCalled=!0,s.nodes){var t=s.nodes[e],i=t&&a[t.getData("type")],n=i&&i.contains&&i.contains.call(d,t,this.getPos());if(n)return this.contains=n,c.node=this.node=t}return c.node=this.node=!1},getEdge:function(){if(this.getEdgeCalled)return this.edge;this.getEdgeCalled=!0;var e={};for(var t in s.edges){var i=s.edges[t];for(var n in e[t]=!0,i)if(!(n in e)){var a=i[n],o=a&&g[a.getData("type")],r=o&&o.contains&&o.contains.call(d,a,this.getPos());if(r)return this.contains=r,c.edge=this.edge=a}}return c.edge=this.edge=!1},getContains:function(){return this.getNodeCalled||this.getNode(),this.contains}}}}),g={initializeExtras:function(){var i=new a(this),n=this;B.each(["NodeStyles","Tips","Navigation","Events"],function(e){var t=new g.Classes[e](e,n);t.isEnabled()&&i.register(t),t.setAsProperty()&&(n[e.toLowerCase()]=t)})}};g.Classes={},g.Classes.Events=new r({Implements:[e,t],initializePost:function(){this.fx=this.viz.fx,this.ntypes=this.viz.fx.nodeTypes,this.etypes=this.viz.fx.edgeTypes,this.hovered=!1,this.pressed=!1,this.touched=!1,this.touchMoved=!1,this.moved=!1},setAsProperty:B.lambda(!0),onMouseUp:function(e,t,i,n){var a=B.event.get(e,t);this.moved||(n?this.config.onRightClick(this.hovered,i,a):this.config.onClick(this.pressed,i,a)),this.pressed&&(this.moved?this.config.onDragEnd(this.pressed,i,a):this.config.onDragCancel(this.pressed,i,a),this.pressed=this.moved=!1)},onMouseOut:function(e,t,i){var n,a=B.event.get(e,t);if(this.dom&&(n=this.isLabel(e,t,!0)))return this.config.onMouseLeave(this.viz.graph.getNode(n.id),i,a),void(this.hovered=!1);for(var o=a.relatedTarget,r=this.canvas.getElement();o&&o.parentNode;){if(r==o.parentNode)return;o=o.parentNode}this.hovered&&(this.config.onMouseLeave(this.hovered,i,a),this.hovered=!1)},onMouseOver:function(e,t,i){var n,a=B.event.get(e,t);this.dom&&(n=this.isLabel(e,t,!0))&&(this.hovered=this.viz.graph.getNode(n.id),this.config.onMouseEnter(this.hovered,i,a))},onMouseMove:function(e,t,i){var n=B.event.get(e,t);if(this.pressed)return this.moved=!0,void this.config.onDragMove(this.pressed,i,n);if(this.dom)this.config.onMouseMove(this.hovered,i,n);else{if(this.hovered){var a=this.hovered,o=a.nodeFrom?this.etypes[a.getData("type")]:this.ntypes[a.getData("type")];if(o&&o.contains&&o.contains.call(this.fx,a,i.getPos()))return void this.config.onMouseMove(a,i,n);this.config.onMouseLeave(a,i,n),this.hovered=!1}(this.hovered=i.getNode()||this.config.enableForEdges&&i.getEdge())?this.config.onMouseEnter(this.hovered,i,n):this.config.onMouseMove(!1,i,n)}},onMouseWheel:function(e,t,i){this.config.onMouseWheel(i,B.event.get(e,t))},onMouseDown:function(e,t,i){var n,a=B.event.get(e,t);this.dom?(n=this.isLabel(e,t))&&(this.pressed=this.viz.graph.getNode(n.id)):this.pressed=i.getNode()||this.config.enableForEdges&&i.getEdge(),this.pressed&&this.config.onDragStart(this.pressed,i,a)},onTouchStart:function(e,t,i){var n,a=B.event.get(e,t);this.dom&&(n=this.isLabel(e,t))?this.touched=this.viz.graph.getNode(n.id):this.touched=i.getNode()||this.config.enableForEdges&&i.getEdge(),this.touched&&this.config.onTouchStart(this.touched,i,a)},onTouchMove:function(e,t,i){var n=B.event.get(e,t);this.touched&&(this.touchMoved=!0,this.config.onTouchMove(this.touched,i,n))},onTouchEnd:function(e,t,i){var n=B.event.get(e,t);this.touched&&(this.touchMoved?this.config.onTouchEnd(this.touched,i,n):this.config.onTouchCancel(this.touched,i,n),this.touched=this.touchMoved=!1)}}),g.Classes.Tips=new r({Implements:[e,t],initializePost:function(){if(document.body){var e=B("_tooltip")||document.createElement("div");e.id="_tooltip",e.className="tip",B.extend(e.style,{position:"absolute",display:"none",zIndex:13e3}),document.body.appendChild(e),this.tip=e,this.node=!1}},setAsProperty:B.lambda(!0),onMouseOut:function(e,t){B.event.get(e,t);if(this.dom&&this.isLabel(e,t,!0))this.hide(!0);else{for(var i=e.relatedTarget,n=this.canvas.getElement();i&&i.parentNode;){if(n==i.parentNode)return;i=i.parentNode}this.hide(!1)}},onMouseOver:function(e,t){var i;this.dom&&(i=this.isLabel(e,t,!1))&&(this.node=this.viz.graph.getNode(i.id),this.config.onShow(this.tip,this.node,i))},onMouseMove:function(e,t,i){if(this.dom&&this.isLabel(e,t)&&this.setTooltipPosition(B.event.getPos(e,t)),!this.dom){var n=i.getNode();if(!n)return void this.hide(!0);!this.config.force&&this.node&&this.node.id==n.id||(this.node=n,this.config.onShow(this.tip,n,i.getContains())),this.setTooltipPosition(B.event.getPos(e,t))}},setTooltipPosition:function(e){var t=this.tip,i=t.style,n=this.config;i.display="";var a="CSS1Compat"===document.compatMode&&document.documentElement||document.body||document.documentElement,o=a.clientWidth,r=a.clientHeight,s=window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0,h=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0,l=t.offsetWidth,c=t.offsetHeight,d=n.offsetX,g=n.offsetY;i.top=(e.y+c+g>r+h?e.y-c-g:e.y+g)+"px",i.left=(e.x+l+d>o+s?e.x-l-d:e.x+d)+"px"},hide:function(e){this.tip.style.display="none",e&&this.config.onHide()}}),g.Classes.NodeStyles=new r({Implements:[e,t],initializePost:function(){this.fx=this.viz.fx,this.types=this.viz.fx.nodeTypes,this.nStyles=this.config,this.nodeStylesOnHover=this.nStyles.stylesHover,this.nodeStylesOnClick=this.nStyles.stylesClick,this.hoveredNode=!1,this.fx.nodeFxAnimation=new d,this.down=!1,this.move=!1},onMouseOut:function(e,t){if(this.down=this.move=!1,this.hoveredNode){this.dom&&this.isLabel(e,t,!0)&&this.toggleStylesOnHover(this.hoveredNode,!1);for(var i=e.relatedTarget,n=this.canvas.getElement();i&&i.parentNode;){if(n==i.parentNode)return;i=i.parentNode}this.toggleStylesOnHover(this.hoveredNode,!1),this.hoveredNode=!1}},onMouseOver:function(e,t){var i;if(this.dom&&(i=this.isLabel(e,t,!0))){var n=this.viz.graph.getNode(i.id);if(n.selected)return;this.hoveredNode=n,this.toggleStylesOnHover(this.hoveredNode,!0)}},onMouseDown:function(e,t,i,n){var a;n||(this.dom&&(a=this.isLabel(e,t))?this.down=this.viz.graph.getNode(a.id):this.dom||(this.down=i.getNode()),this.move=!1)},onMouseUp:function(e,t,i,n){n||(this.move||this.onClick(i.getNode()),this.down=this.move=!1)},getRestoredStyles:function(e,t){var i={},n=this["nodeStylesOn"+t];for(var a in n)i[a]=e.styles["$"+a];return i},toggleStylesOnHover:function(e,t){this.nodeStylesOnHover&&this.toggleStylesOn("Hover",e,t)},toggleStylesOnClick:function(e,t){this.nodeStylesOnClick&&this.toggleStylesOn("Click",e,t)},toggleStylesOn:function(e,t,i){var n=this.viz;this.nStyles;if(i){for(var a in t.styles||(t.styles=B.merge(t.data,{})),this["nodeStylesOn"+e]){var o="$"+a;o in t.styles||(t.styles[o]=t.getData(a))}n.fx.nodeFx(B.extend({elements:{id:t.id,properties:this["nodeStylesOn"+e]},transition:s.Quart.easeOut,duration:300,fps:40},this.config))}else{var r=this.getRestoredStyles(t,e);n.fx.nodeFx(B.extend({elements:{id:t.id,properties:r},transition:s.Quart.easeOut,duration:300,fps:40},this.config))}},onClick:function(e){if(e){var i=this.nodeStylesOnClick;i&&(e.selected?(this.toggleStylesOnClick(e,!1),delete e.selected):(this.viz.graph.eachNode(function(e){if(e.selected){for(var t in i)e.setData(t,e.styles["$"+t],"end");delete e.selected}}),this.toggleStylesOnClick(e,!0),e.selected=!0,delete e.hovered,this.hoveredNode=!1))}},onMouseMove:function(e,t,i){if(this.down&&(this.move=!0),!this.dom||!this.isLabel(e,t)){var n=this.nodeStylesOnHover;if(n&&!this.dom){if(this.hoveredNode){var a=this.types[this.hoveredNode.getData("type")];if(a&&a.contains&&a.contains.call(this.fx,this.hoveredNode,i.getPos()))return}var o=i.getNode();if(!this.hoveredNode&&!o)return;if(o.hovered)return;o&&!o.selected?(this.fx.nodeFxAnimation.stopTimer(),this.viz.graph.eachNode(function(e){if(e.hovered&&!e.selected){for(var t in n)e.setData(t,e.styles["$"+t],"end");delete e.hovered}}),o.hovered=!0,this.hoveredNode=o,this.toggleStylesOnHover(o,!0)):this.hoveredNode&&!this.hoveredNode.selected&&(this.fx.nodeFxAnimation.stopTimer(),this.toggleStylesOnHover(this.hoveredNode,!1),delete this.hoveredNode.hovered,this.hoveredNode=!1)}}}}),g.Classes.Navigation=new r({Implements:[e,t],initializePost:function(){this.pos=!1,this.pressed=!1},onMouseWheel:function(e,t,i){if(this.config.zooming){B.event.stop(B.event.get(e,t));var n=1+i*(this.config.zooming/1e3);this.canvas.scale(n,n)}},onMouseDown:function(e,t,i){if(this.config.panning&&(e.preventDefault?e.preventDefault():e.returnValue=!1,B.addClass(this.canvas.getElement(),"grabbing"),"avoid nodes"!=this.config.panning||!(this.dom?this.isLabel(e,t):i.getNode()||i.getEdge()))){this.pressed=!0,this.pos=i.getPos();var n=this.canvas,a=n.translateOffsetX,o=n.translateOffsetY,r=n.scaleOffsetX,s=n.scaleOffsetY;this.pos.x*=r,this.pos.x+=a,this.pos.y*=s,this.pos.y+=o}},onMouseMove:function(e,t,i){if(this.config.panning&&this.pressed&&("avoid nodes"!=this.config.panning||(this.dom?!this.isLabel(e,t):!i.getNode()))){var n=this.pos,a=i.getPos(),o=this.canvas,r=o.translateOffsetX,s=o.translateOffsetY,h=o.scaleOffsetX,l=o.scaleOffsetY;a.x*=h,a.y*=l,a.x+=r,a.y+=s;var c=a.x-n.x,d=a.y-n.y;this.pos=a,this.canvas.translate(1*c/h,1*d/l)}},onMouseUp:function(e,t,i,n){this.config.panning&&(B.removeClass(this.canvas.getElement(),"grabbing"),this.pressed=!1)}}),function(){var e=typeof HTMLCanvasElement,o="object"==e||"function"==e;function u(e,t){var i=document.createElement(e);for(var n in t)"object"==typeof t[n]?B.extend(i[n],t[n]):i[n]=t[n];return"canvas"==e&&!o&&G_vmlCanvasManager&&(i=G_vmlCanvasManager.initElement(document.body.appendChild(i))),i}$jit.Canvas=p=new r({canvases:[],pos:!1,element:!1,labelContainer:!1,translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(t,e){this.viz=t,this.opt=this.config=e;var i="string"==B.type(e.injectInto)?e.injectInto:e.injectInto.id,n=e.type,a=i+"-label",o=B(i),r=e.width||o.offsetWidth,s=e.height||o.offsetHeight,h={injectInto:this.id=i,width:r,height:s};this.element=u("div",{id:i+"-canvaswidget",style:{position:"relative",width:r+"px",height:s+"px"}}),this.labelContainer=this.createLabelContainer(e.Label.type,a,h),this.canvases.push(new p.Base[n]({config:B.extend({idSuffix:"-canvas"},h),plot:function(e){t.fx.plot()},resize:function(){t.refresh()}}));var l=e.background;if(l){var c=new p.Background[l.type](t,B.extend(l,h));this.canvases.push(new p.Base[n](c))}for(var d=this.canvases.length;d--;)this.element.appendChild(this.canvases[d].canvas),0<d&&this.canvases[d].plot();this.element.appendChild(this.labelContainer),o.appendChild(this.element);var g=null,f=this;B.addEvent(window,"scroll",function(){clearTimeout(g),g=setTimeout(function(){f.getPos(!0)},500)})},getCtx:function(e){return this.canvases[e||0].getCtx()},getConfig:function(){return this.opt},getElement:function(){return this.element},getSize:function(e){return this.canvases[e||0].getSize()},resize:function(e,t){this.getPos(!0),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1;for(var i=0,n=this.canvases.length;i<n;i++)this.canvases[i].resize(e,t);var a=this.element.style;a.width=e+"px",a.height=t+"px",this.labelContainer&&(this.labelContainer.style.width=e+"px")},translate:function(e,t,i){this.translateOffsetX+=e*this.scaleOffsetX,this.translateOffsetY+=t*this.scaleOffsetY;for(var n=0,a=this.canvases.length;n<a;n++)this.canvases[n].translate(e,t,i)},scale:function(e,t,i){var n=this.scaleOffsetX*e,a=this.scaleOffsetY*t,o=this.translateOffsetX*(e-1)/n,r=this.translateOffsetY*(t-1)/a;this.scaleOffsetX=n,this.scaleOffsetY=a;for(var s=0,h=this.canvases.length;s<h;s++)this.canvases[s].scale(e,t,!0);this.translate(o,r,!1)},getZoom:function(){return new v(this.scaleOffsetX,this.scaleOffsetY)},setZoom:function(e,t,i){var n=this.getZoom(),a=e/n.x,o=t/n.y;this.scale(a,o,i)},getPos:function(e){return e||!this.pos?this.pos=B.getPos(this.getElement()):this.pos},clear:function(e){this.canvases[e||0].clear()},path:function(e,t){var i=this.canvases[0].getCtx();i.beginPath(),t(i),i[e](),i.closePath()},createLabelContainer:function(e,t,i){var n="http://www.w3.org/2000/svg";if("HTML"==e||"Native"==e)return u("div",{id:t,style:{overflow:"visible",position:"absolute",top:0,left:0,width:i.width+"px",height:0}});if("SVG"==e){var a=document.createElementNS(n,"svg:svg");a.setAttribute("width",i.width),a.setAttribute("height",i.height);var o=a.style;o.position="absolute",o.left=o.top="0px";var r=document.createElementNS(n,"svg:g");return r.setAttribute("width",i.width),r.setAttribute("height",i.height),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("id",t),a.appendChild(r),a}}}),p.Base={},p.Base["2D"]=new r({translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(e){this.viz=e,this.opt=e.config,this.size=!1,this.createCanvas(),this.translateToCenter()},createCanvas:function(){var e=this.opt,t=e.width,i=e.height;this.canvas=u("canvas",{id:e.injectInto+e.idSuffix,width:t,height:i,style:{position:"absolute",top:0,left:0,width:t+"px",height:i+"px"}})},getCtx:function(){return this.ctx?this.ctx:this.ctx=this.canvas.getContext("2d")},getSize:function(){if(this.size)return this.size;var e=this.canvas;return this.size={width:e.width,height:e.height}},translateToCenter:function(e){var t=this.getSize(),i=e?t.width-e.width-2*this.translateOffsetX:t.width;height=e?t.height-e.height-2*this.translateOffsetY:t.height;var n=this.getCtx();e&&n.scale(1/this.scaleOffsetX,1/this.scaleOffsetY),n.translate(i/2,height/2)},resize:function(e,t){var i=this.getSize(),n=this.canvas,a=n.style;this.size=!1,n.width=e,n.height=t,a.width=e+"px",a.height=t+"px",o?this.translateToCenter():this.translateToCenter(i),this.translateOffsetX=this.translateOffsetY=0,this.scaleOffsetX=this.scaleOffsetY=1,this.clear(),this.viz.resize(e,t,this)},translate:function(e,t,i){var n=this.scaleOffsetX,a=this.scaleOffsetY;this.translateOffsetX+=e*n,this.translateOffsetY+=t*a,this.getCtx().translate(e,t),!i&&this.plot()},scale:function(e,t,i){this.scaleOffsetX*=e,this.scaleOffsetY*=t,this.getCtx().scale(e,t),!i&&this.plot()},clear:function(){var e=this.getSize(),t=this.translateOffsetX,i=this.translateOffsetY,n=this.scaleOffsetX,a=this.scaleOffsetY;this.getCtx().clearRect(1*(-e.width/2-t)/n,1*(-e.height/2-i)/a,1*e.width/n,1*e.height/a)},plot:function(){this.clear(),this.viz.plot(this)}}),p.Background={},p.Background.Circles=new r({initialize:function(e,t){this.viz=e,this.config=B.merge({idSuffix:"-bkcanvas",levelDistance:this.viz.config.levelDistance,numberOfCircles:8,CanvasStyles:{},offset:0},t)},resize:function(e,t,i){this.plot(i)},plot:function(e){e.canvas;var t=e.getCtx(),i=this.config,n=i.CanvasStyles;for(var a in n)t[a]=n[a];var o=i.numberOfCircles,r=i.levelDistance,s=r/2;t.fillStyle=i.CanvasStyles.fillStyle,t.beginPath();for(var h=1;h<=o;h++)t.arc(0,0,r*h-s,0,2*Math.PI,h%2==1);t.fill(),t.closePath()}})}();var P=function(e,t){this.theta=e||0,this.rho=t||0};($jit.Polar=P).prototype={getc:function(e){return this.toComplex(e)},getp:function(){return this},set:function(e){e=e.getp(),this.theta=e.theta,this.rho=e.rho},setc:function(e,t){this.rho=Math.sqrt(e*e+t*t),this.theta=Math.atan2(t,e),this.theta<0&&(this.theta+=2*Math.PI)},setp:function(e,t){this.theta=e,this.rho=t},clone:function(){return new P(this.theta,this.rho)},toComplex:function(e){var t=Math.cos(this.theta)*this.rho,i=Math.sin(this.theta)*this.rho;return e?{x:t,y:i}:new v(t,i)},add:function(e){return new P(this.theta+e.theta,this.rho+e.rho)},scale:function(e){return new P(this.theta,this.rho*e)},equals:function(e){return this.theta==e.theta&&this.rho==e.rho},$add:function(e){return this.theta=this.theta+e.theta,this.rho+=e.rho,this},$madd:function(e){return this.theta=(this.theta+e.theta)%(2*Math.PI),this.rho+=e.rho,this},$scale:function(e){return this.rho*=e,this},isZero:function(){var e=Math.abs;return e(this.theta)<1e-4&&e(this.rho)<1e-4},interpolate:function(e,t){var i=Math.PI,n=2*i,a=function(e){return e<0?e%n+n:e%n},o=this.theta,r=e.theta,s=Math.abs(o-r);return{theta:a(s==i?r<o?r+(o-n-r)*t:r-n+(o-r)*t:i<=s?r<o?r+(o-n-r)*t:r-n+(o-(r-n))*t:r+(o-r)*t),rho:(this.rho-e.rho)*t+e.rho}}};var y=function(e,t){return new P(e,t)};P.KER=y(0,0);var v=function(e,t){this.x=e||0,this.y=t||0};($jit.Complex=v).prototype={getc:function(){return this},getp:function(e){return this.toPolar(e)},set:function(e){e=e.getc(!0),this.x=e.x,this.y=e.y},setc:function(e,t){this.x=e,this.y=t},setp:function(e,t){this.x=Math.cos(e)*t,this.y=Math.sin(e)*t},clone:function(){return new v(this.x,this.y)},toPolar:function(e){var t=this.norm(),i=Math.atan2(this.y,this.x);return i<0&&(i+=2*Math.PI),e?{theta:i,rho:t}:new P(i,t)},norm:function(){return Math.sqrt(this.squaredNorm())},squaredNorm:function(){return this.x*this.x+this.y*this.y},add:function(e){return new v(this.x+e.x,this.y+e.y)},prod:function(e){return new v(this.x*e.x-this.y*e.y,this.y*e.x+this.x*e.y)},conjugate:function(){return new v(this.x,-this.y)},scale:function(e){return new v(this.x*e,this.y*e)},equals:function(e){return this.x==e.x&&this.y==e.y},$add:function(e){return this.x+=e.x,this.y+=e.y,this},$prod:function(e){var t=this.x,i=this.y;return this.x=t*e.x-i*e.y,this.y=i*e.x+t*e.y,this},$conjugate:function(){return this.y=-this.y,this},$scale:function(e){return this.x*=e,this.y*=e,this},$div:function(e){var t=this.x,i=this.y,n=e.squaredNorm();return this.x=t*e.x+i*e.y,this.y=i*e.x-t*e.y,this.$scale(1/n)},isZero:function(){var e=Math.abs;return e(this.x)<1e-4&&e(this.y)<1e-4}};var A=function(e,t){return new v(e,t)};v.KER=A(0,0),v.IM=A(0,1),$jit.Graph=new r({initialize:function(e,t,i,n){var a={klass:v,Node:{}};this.Node=t,this.Edge=i,this.Label=n,this.opt=B.merge(a,e||{}),this.nodes={},this.edges={};var o=this;for(var r in this.nodeList={},h)o.nodeList[r]=function(i){return function(){var t=Array.prototype.slice.call(arguments);o.eachNode(function(e){e[i].apply(e,t)})}}(r)},getNode:function(e){return!!this.hasNode(e)&&this.nodes[e]},get:function(e){return this.getNode(e)},getByName:function(e){for(var t in this.nodes){var i=this.nodes[t];if(i.name==e)return i}return!1},getAdjacence:function(e,t){return e in this.edges&&this.edges[e][t]},addNode:function(e){if(!this.nodes[e.id]){var t=this.edges[e.id]={};this.nodes[e.id]=new u.Node(B.extend({id:e.id,name:e.name,data:B.merge(e.data||{},{}),adjacencies:t},this.opt.Node),this.opt.klass,this.Node,this.Edge,this.Label)}return this.nodes[e.id]},addAdjacence:function(e,t,i){if(this.hasNode(e.id)||this.addNode(e),this.hasNode(t.id)||this.addNode(t),e=this.nodes[e.id],t=this.nodes[t.id],e.adjacentTo(t))return this.edges[e.id][t.id];var n=this.edges[e.id]=this.edges[e.id]||{},a=this.edges[t.id]=this.edges[t.id]||{};return n[t.id]=a[e.id]=new u.Adjacence(e,t,i,this.Edge,this.Label),n[t.id]},removeNode:function(e){if(this.hasNode(e)){delete this.nodes[e];var t=this.edges[e];for(var i in t)delete this.edges[i][e];delete this.edges[e]}},removeAdjacence:function(e,t){delete this.edges[e][t],delete this.edges[t][e]},hasNode:function(e){return e in this.nodes},empty:function(){this.nodes={},this.edges={}}});var h,n,l,f,u=$jit.Graph;n=function(e,t,i,n,a){var o;e="$"+(e?e+"-":""),"current"==(i=i||"current")?o=this.data:"start"==i?o=this.startData:"end"==i&&(o=this.endData);var r=e+t;return n?o[r]:this.Config.overridable?r in o?o[r]:r in this.data?this.data[r]:a[t]||0:a[t]||0},l=function(e,t,i,n){var a;e="$"+(e?e+"-":""),"current"==(n=n||"current")?a=this.data:"start"==n?a=this.startData:"end"==n&&(a=this.endData),a[e+t]=i},f=function(i,e){i="$"+(i?i+"-":"");var n=this;B.each(e,function(e){var t=i+e;delete n.data[t],delete n.endData[t],delete n.startData[t]})},h={getData:function(e,t,i){return n.call(this,"",e,t,i,this.Config)},setData:function(e,t,i){l.call(this,"",e,t,i)},setDataset:function(e,t){for(var i in e=B.splat(e),t)for(var n=0,a=B.splat(t[i]),o=e.length;n<o;n++)this.setData(i,a[n],e[n])},removeData:function(){f.call(this,"",Array.prototype.slice.call(arguments))},getCanvasStyle:function(e,t,i){return n.call(this,"canvas",e,t,i,this.Config.CanvasStyles)},setCanvasStyle:function(e,t,i){l.call(this,"canvas",e,t,i)},setCanvasStyles:function(e,t){for(var i in e=B.splat(e),t)for(var n=0,a=B.splat(t[i]),o=e.length;n<o;n++)this.setCanvasStyle(i,a[n],e[n])},removeCanvasStyle:function(){f.call(this,"canvas",Array.prototype.slice.call(arguments))},getLabelData:function(e,t,i){return n.call(this,"label",e,t,i,this.Label)},setLabelData:function(e,t,i){l.call(this,"label",e,t,i)},setLabelDataset:function(e,t){for(var i in e=B.splat(e),t)for(var n=0,a=B.splat(t[i]),o=e.length;n<o;n++)this.setLabelData(i,a[n],e[n])},removeLabelData:function(){f.call(this,"label",Array.prototype.slice.call(arguments))}},u.Node=new r({initialize:function(e,t,i,n,a){var o={id:"",name:"",data:{},startData:{},endData:{},adjacencies:{},selected:!1,drawn:!1,exist:!1,angleSpan:{begin:0,end:0},pos:new t,startPos:new t,endPos:new t};B.extend(this,B.extend(o,e)),this.Config=this.Node=i,this.Edge=n,this.Label=a},adjacentTo:function(e){return e.id in this.adjacencies},adjacentWithDirectionTo:function(e){return e.id in this.adjacencies&&this.adjacencies[e.id].data.$direction[0]===this.id},getAdjacency:function(e){return this.adjacencies[e]},getPos:function(e){return"current"==(e=e||"current")?this.pos:"end"==e?this.endPos:"start"==e?this.startPos:void 0},setPos:function(e,t){var i;"current"==(t=t||"current")?i=this.pos:"end"==t?i=this.endPos:"start"==t&&(i=this.startPos),i.set(e)}}),u.Node.implement(h),u.Adjacence=new r({initialize:function(e,t,i,n,a){this.nodeFrom=e,this.nodeTo=t,this.data=i||{},this.startData={},this.endData={},this.Config=this.Edge=n,this.Label=a}}),u.Adjacence.implement(h),u.Util={filter:function(e){if(!e||"string"!=B.type(e))return function(){return!0};var i=e.split(" ");return function(e){for(var t=0;t<i.length;t++)if(e[i[t]])return!1;return!0}},getNode:function(e,t){return e.nodes[t]},eachNode:function(e,t,i){var n=this.filter(i);for(var a in e.nodes)n(e.nodes[a])&&t(e.nodes[a])},each:function(e,t,i){this.eachNode(e,t,i)},eachAdjacency:function(e,t,i){var n=e.adjacencies,a=this.filter(i);for(var o in n){var r=n[o];if(a(r)){if(r.nodeFrom!=e){var s=r.nodeFrom;r.nodeFrom=r.nodeTo,r.nodeTo=s}t(r,o)}}},computeLevels:function(e,t,i,n){i=i||0;var a=this.filter(n);this.eachNode(e,function(e){e._flag=!1,e._depth=-1},n);var o=e.getNode(t);o._depth=i;for(var r=[o];0!=r.length;){var s=r.pop();s._flag=!0,this.eachAdjacency(s,function(e){var t=e.nodeTo;0==t._flag&&a(t)&&!e._hiding&&(t._depth<0&&(t._depth=s._depth+1+i),r.unshift(t))},n)}},eachBFS:function(e,t,i,n){var a=this.filter(n);this.clean(e);for(var o=[e.getNode(t)];0!=o.length;){var r=o.pop();if(!r)return;r._flag=!0,i(r,r._depth),this.eachAdjacency(r,function(e){var t=e.nodeTo;0==t._flag&&a(t)&&!e._hiding&&(t._flag=!0,o.unshift(t))},n)}},eachLevel:function(e,t,i,r,n){var a=e._depth,s=this.filter(n),h=this,l=!0;(function i(e,n,a){if(l){var t,o=e._depth;n<=o&&o<=a&&s(e)&&(t=r(e,o)),void 0!==t&&(l=t),l&&o<a&&h.eachAdjacency(e,function(e){var t=e.nodeTo;t._depth>o&&i(t,n,a)})}})(e,t+a,(i=!1===i?Number.MAX_VALUE-a:i)+a)},eachSubgraph:function(e,t,i){this.eachLevel(e,0,!1,t,i)},eachSubnode:function(e,t,i){this.eachLevel(e,1,1,t,i)},anySubnode:function(e,t,i){var n=!1;t=t||B.lambda(!0);var a="string"==B.type(t)?function(e){return e[t]}:t;return this.eachSubnode(e,function(e){a(e)&&(n=!0)},i),n},getSubnodes:function(e,t,i){var n,a,o=[];return a="array"==B.type(t=t||0)?(n=t[0],t[1]):(n=t,Number.MAX_VALUE-e._depth),this.eachLevel(e,n,a,function(e){o.push(e)},i),o},getParents:function(i){var n=[];return this.eachAdjacency(i,function(e){var t=e.nodeTo;t._depth<i._depth&&n.push(t)}),n},isDescendantOf:function(e,t){if(e.id==t)return!0;for(var i=this.getParents(e),n=!1,a=0;!n&&a<i.length;a++)n=n||this.isDescendantOf(i[a],t);return n},clean:function(e){this.eachNode(e,function(e){e._flag=!1})},getClosestNodeToOrigin:function(e,t,i){return this.getClosestNodeToPos(e,P.KER,t,i)},getClosestNodeToPos:function(e,t,i,n){var a=null;i=i||"current",t=t&&t.getc(!0)||v.KER;var o=function(e,t){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n};return this.eachNode(e,function(e){a=null==a||o(e.getPos(i).getc(!0),t)<o(a.getPos(i).getc(!0),t)?e:a},n),a}},B.each(["get","getNode","each","eachNode","computeLevels","eachBFS","clean","getClosestNodeToPos","getClosestNodeToOrigin"],function(e){u.prototype[e]=function(){return u.Util[e].apply(u.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),B.each(["eachAdjacency","eachLevel","eachSubgraph","eachSubnode","anySubnode","getSubnodes","getParents","isDescendantOf"],function(e){u.Node.prototype[e]=function(){return u.Util[e].apply(u.Util,[this].concat(Array.prototype.slice.call(arguments)))}}),u.Op={options:{type:"nothing",duration:2e3,hideLabels:!0,fps:30},initialize:function(e){this.viz=e},removeNode:function(e,t){var i,n,a,o=this.viz,r=B.merge(this.options,o.controller,t),s=B.splat(e);switch(r.type){case"nothing":for(i=0;i<s.length;i++)r.onBeforeRemoveNode(o.graph.getNode(s[i])),o.graph.removeNode(s[i]);break;case"replot":this.removeNode(s,{type:"nothing"}),o.labels.clearLabels(),o.refresh(!0);break;case"fade:seq":case"fade":for(n=this,i=0;i<s.length;i++)(a=o.graph.getNode(s[i])).setData("alpha",0,"end");o.fx.animate(B.merge(r,{modes:["node-property:alpha"],onComplete:function(){n.removeNode(s,{type:"nothing"}),o.labels.clearLabels(),o.reposition(),o.fx.animate(B.merge(r,{modes:["linear"]}))}}));break;case"fade:con":for(n=this,i=0;i<s.length;i++)(a=o.graph.getNode(s[i])).setData("alpha",0,"end"),a.ignore=!0;o.reposition(),o.fx.animate(B.merge(r,{modes:["node-property:alpha","linear"],onComplete:function(){n.removeNode(s,{type:"nothing"}),r.onComplete&&r.onComplete()}}));break;case"iter":n=this,o.fx.sequence({condition:function(){return 0!=s.length},step:function(){n.removeNode(s.shift(),{type:"nothing"}),o.labels.clearLabels()},onComplete:function(){r.onComplete&&r.onComplete()},duration:Math.ceil(r.duration/s.length)});break;default:this.doError()}},removeEdge:function(e,t){var i,n,a,o=this.viz,r=B.merge(this.options,o.controller,t),s="string"==B.type(e[0])?[e]:e;switch(r.type){case"nothing":for(i=0;i<s.length;i++)o.graph.removeAdjacence(s[i][0],s[i][1]);break;case"replot":this.removeEdge(s,{type:"nothing"}),o.refresh(!0);break;case"fade:seq":case"fade":for(n=this,i=0;i<s.length;i++)(a=o.graph.getAdjacence(s[i][0],s[i][1]))&&a.setData("alpha",0,"end");o.fx.animate(B.merge(r,{modes:["edge-property:alpha"],onComplete:function(){n.removeEdge(s,{type:"nothing"}),o.reposition(),o.fx.animate(B.merge(r,{modes:["linear"]}))}}));break;case"fade:con":for(n=this,i=0;i<s.length;i++)(a=o.graph.getAdjacence(s[i][0],s[i][1]))&&(a.setData("alpha",0,"end"),a.ignore=!0);o.reposition(),o.fx.animate(B.merge(r,{modes:["edge-property:alpha","linear"],onComplete:function(){n.removeEdge(s,{type:"nothing"}),r.onComplete&&r.onComplete()}}));break;case"iter":n=this,o.fx.sequence({condition:function(){return 0!=s.length},step:function(){n.removeEdge(s.shift(),{type:"nothing"}),o.labels.clearLabels()},onComplete:function(){r.onComplete()},duration:Math.ceil(r.duration/s.length)});break;default:this.doError()}},sum:function(e,t){var i,n=this.viz,a=B.merge(this.options,n.controller,t),o=n.root;switch(n.root=t.id||n.root,a.type){case"nothing":(i=n.construct(e)).eachNode(function(e){e.eachAdjacency(function(e){n.graph.addAdjacence(e.nodeFrom,e.nodeTo,e.data)})});break;case"replot":n.refresh(!0),this.sum(e,{type:"nothing"}),n.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,i=n.construct(e);var r=this.preprocessSum(i)?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];n.reposition(),"fade:con"!=a.type?n.fx.animate(B.merge(a,{modes:["linear"],onComplete:function(){n.fx.animate(B.merge(a,{modes:r,onComplete:function(){a.onComplete()}}))}})):(n.graph.eachNode(function(e){e.id!=o&&e.pos.isZero()&&(e.pos.set(e.endPos),e.startPos.set(e.endPos))}),n.fx.animate(B.merge(a,{modes:["linear"].concat(r)})));break;default:this.doError()}},morph:function(e,t,i){i=i||{};var a,o=this.viz,n=B.merge(this.options,o.controller,t),r=o.root;switch(o.root=t.id||o.root,n.type){case"nothing":(a=o.construct(e)).eachNode(function(e){var t=o.graph.hasNode(e.id);if(e.eachAdjacency(function(e){var t=!!o.graph.getAdjacence(e.nodeFrom.id,e.nodeTo.id);if(o.graph.addAdjacence(e.nodeFrom,e.nodeTo,e.data),t){var i=o.graph.getAdjacence(e.nodeFrom.id,e.nodeTo.id);for(var n in e.data||{})i.data[n]=e.data[n]}}),t){var i=o.graph.getNode(e.id);for(var n in e.data||{})i.data[n]=e.data[n]}}),o.graph.eachNode(function(e){e.eachAdjacency(function(e){a.getAdjacence(e.nodeFrom.id,e.nodeTo.id)||o.graph.removeAdjacence(e.nodeFrom.id,e.nodeTo.id)}),a.hasNode(e.id)||o.graph.removeNode(e.id)});break;case"replot":o.labels.clearLabels(!0),this.morph(e,{type:"nothing"}),o.refresh(!0),o.refresh(!0);break;case"fade:seq":case"fade":case"fade:con":that=this,a=o.construct(e);var s="node-property"in i&&B.map(B.splat(i["node-property"]),function(e){return"$"+e});o.graph.eachNode(function(e){var t=a.getNode(e.id);if(t){var i=t.data;for(var n in i)s&&-1<B.indexOf(s,n)?e.endData[n]=i[n]:e.data[n]=i[n]}else e.setData("alpha",1),e.setData("alpha",1,"start"),e.setData("alpha",0,"end"),e.ignore=!0}),o.graph.eachNode(function(e){e.ignore||e.eachAdjacency(function(e){if(!e.nodeFrom.ignore&&!e.nodeTo.ignore){var t=a.getNode(e.nodeFrom.id),i=a.getNode(e.nodeTo.id);if(t.adjacentTo(i))e.data.$direction&&e.data.$direction[0]===t.id&&(t.adjacentWithDirectionTo(i)||(e._reversing=!0));else{e=o.graph.getAdjacence(t.id,i.id);h=!0,e.setData("alpha",1),e.setData("alpha",1,"start"),e.setData("alpha",0,"end"),e._hiding=!0}}})});var h=this.preprocessSum(a),l=h?["node-property:alpha","edge-property:alpha"]:["node-property:alpha"];l[0]=l[0]+("node-property"in i?":"+B.splat(i["node-property"]).join(":"):""),l[1]=(l[1]||"edge-property:alpha")+("edge-property"in i?":"+B.splat(i["edge-property"]).join(":"):""),"label-property"in i&&l.push("label-property:"+B.splat(i["label-property"]).join(":")),o.reposition?o.reposition():o.compute("end"),this._updateDirectedEdges(),o.graph.eachNode(function(e){e.id!=r&&e.pos.getp().equals(P.KER)&&(e.pos.set(e.endPos),e.startPos.set(e.endPos))}),o.fx.animate(B.merge(n,{modes:[i.position||"polar"].concat(l),onComplete:function(){o.graph.eachNode(function(e){e.ignore&&o.graph.removeNode(e.id)}),o.graph.eachNode(function(e){e.eachAdjacency(function(e){e.ignore&&o.graph.removeAdjacence(e.nodeFrom.id,e.nodeTo.id)})}),n.onComplete()}}))}},_updateDirectedEdges:function(){var o=this.viz.graph;o.eachNode(function(e){e.eachAdjacency(function(e){if((!e.data.$direction||e.nodeFrom.id===e.data.$direction[0])&&(e._hiding&&o.removeAdjacence(e.nodeFrom.id,e.nodeTo.id),e._reversing)){var t=e.nodeFrom.id,i=e.nodeTo.id,n=o.edges[t][i],a=o.edges[i][t];n.data.$direction=[i,t],a.data.$direction=[i,t],e._reversing=void 0}})})},contract:function(i,n){var e=this.viz;!i.collapsed&&i.anySubnode(B.lambda(!0))&&(n=B.merge(this.options,e.config,n||{},{modes:["node-property:alpha:span","linear"]}),i.collapsed=!0,function t(e){e.eachSubnode(function(e){e.ignore=!0,e.setData("alpha",0,"animate"==n.type?"end":"current"),t(e)})}(i),"animate"==n.type?(e.compute("end"),e.rotated&&e.rotate(e.rotated,"none",{property:"end"}),function t(e){e.eachSubnode(function(e){e.setPos(i.getPos("end"),"end"),t(e)})}(i),e.fx.animate(n)):"replot"==n.type&&e.refresh())},expand:function(e,i){if("collapsed"in e){var t=this.viz;i=B.merge(this.options,t.config,i||{},{modes:["node-property:alpha:span","linear"]}),delete e.collapsed,function t(e){e.eachSubnode(function(e){delete e.ignore,e.setData("alpha",1,"animate"==i.type?"end":"current"),t(e)})}(e),"animate"==i.type?(t.compute("end"),t.rotated&&t.rotate(t.rotated,"none",{property:"end"}),t.fx.animate(i)):"replot"==i.type&&t.refresh()}},preprocessSum:function(e){var n=this.viz;e.eachNode(function(e){if(!n.graph.hasNode(e.id)){n.graph.addNode(e);var t=n.graph.getNode(e.id);t.setData("alpha",0),t.setData("alpha",0,"start"),t.setData("alpha",1,"end")}});var a=!1;return e.eachNode(function(e){e.eachAdjacency(function(e){var t=n.graph.getNode(e.nodeFrom.id),i=n.graph.getNode(e.nodeTo.id);if(!t.adjacentTo(i)){e=n.graph.addAdjacence(t,i,e.data);t.startAlpha==t.endAlpha&&i.startAlpha==i.endAlpha&&(a=!0,e.setData("alpha",0),e.setData("alpha",0,"start"),e.setData("alpha",1,"end"))}})}),a}};var m={none:{render:B.empty,contains:B.lambda(!1)},circle:{render:function(e,t,i,n){var a=n.getCtx();a.beginPath(),a.arc(t.x,t.y,i,0,2*Math.PI,!0),a.closePath(),a[e]()},contains:function(e,t,i){var n=e.x-t.x,a=e.y-t.y;return n*n+a*a<=i*i}},ellipse:{render:function(e,t,i,n,a){var o=a.getCtx(),r=1,s=1,h=1,l=1,c=0;n<i?(c=i/2,s=n/i,l=i/n):(c=n/2,r=i/n,h=n/i),o.save(),o.scale(r,s),o.beginPath(),o.arc(t.x*h,t.y*l,c,0,2*Math.PI,!0),o.closePath(),o[e](),o.restore()},contains:function(e,t,i,n){var a,o,r=0,s=1,h=1;return n<i?(r=i/2,h=n/i):(r=n/2,s=i/n),(a=(e.x-t.x)*(1/s))*a+(o=(e.y-t.y)*(1/h))*o<=r*r}},square:{render:function(e,t,i,n){n.getCtx()[e+"Rect"](t.x-i,t.y-i,2*i,2*i)},contains:function(e,t,i){return Math.abs(t.x-e.x)<=i&&Math.abs(t.y-e.y)<=i}},rectangle:{render:function(e,t,i,n,a){a.getCtx()[e+"Rect"](t.x-i/2,t.y-n/2,i,n)},contains:function(e,t,i,n){return Math.abs(t.x-e.x)<=i/2&&Math.abs(t.y-e.y)<=n/2}},triangle:{render:function(e,t,i,n){var a=n.getCtx(),o=t.x,r=t.y-i,s=o-i,h=t.y+i,l=o+i,c=h;a.beginPath(),a.moveTo(o,r),a.lineTo(s,h),a.lineTo(l,c),a.closePath(),a[e]()},contains:function(e,t,i){return m.circle.contains(e,t,i)}},star:{render:function(e,t,i,n){var a=n.getCtx(),o=Math.PI/5;a.save(),a.translate(t.x,t.y),a.beginPath(),a.moveTo(i,0);for(var r=0;r<9;r++)a.rotate(o),r%2==0?a.lineTo(i/.525731*.200811,0):a.lineTo(i,0);a.closePath(),a[e](),a.restore()},contains:function(e,t,i){return m.circle.contains(e,t,i)}}},b={line:{render:function(e,t,i){var n=i.getCtx();n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke()},contains:function(e,t,i,n){var a=Math.min,o=Math.max,r=a(e.x,t.x)-n,s=o(e.x,t.x)+n,h=a(e.y,t.y)-n,l=o(e.y,t.y)+n;if(i.x>=r&&i.x<=s&&i.y>=h&&i.y<=l){if(Math.abs(t.x-e.x)<=n)return!0;var c=(t.y-e.y)/(t.x-e.x)*(i.x-e.x)+e.y;return Math.abs(c-i.y)<=n}return!1}},arrow:{render:function(e,t,i,n,a,o){var r=a.getCtx();if(n){var s=e;e=t,t=s}var h,l=new v(t.x-e.x,t.y-e.y);switch(l.$scale(i/l.norm()),o){case"end":h=l;break;case"center":h=new v((t.x-e.x)/2,(t.y-e.y)/2)}var c=new v(t.x-h.x,t.y-h.y),d=new v(-l.y/2,l.x/2),g=c.add(l),f=c.add(d),u=c.$add(d.$scale(-1));r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.beginPath(),r.moveTo(f.x,f.y),r.moveTo(f.x,f.y),r.lineTo(u.x,u.y),r.lineTo(g.x,g.y),r.closePath(),r.fill()},contains:function(e,t,i,n){return b.line.contains(e,t,i,n)}},hyperline:{render:function(e,t,i,n){var a=n.getCtx(),o=function(e,t){var i=e.x*t.y-e.y*t.x,n=i,a=e.squaredNorm(),o=t.squaredNorm();if(0==i)return{x:0,y:0,ratio:-1};var r=(e.y*o-t.y*a+e.y-t.y)/i,s=(t.x*a-e.x*o+t.x-e.x)/n,h=-r/2,l=-s/2,c=(r*r+s*s)/4-1;if(c<0)return{x:0,y:0,ratio:-1};var d=Math.sqrt(c);return{x:h,y:l,ratio:1e3<d?-1:d,a:r,b:s}}(e,t);if(1e3<o.a||1e3<o.b||o.ratio<0)a.beginPath(),a.moveTo(e.x*i,e.y*i),a.lineTo(t.x*i,t.y*i),a.stroke();else{var r=Math.atan2(t.y-o.y,t.x-o.x),s=Math.atan2(e.y-o.y,e.x-o.x),h=h(r,s);a.beginPath(),a.arc(o.x*i,o.y*i,o.ratio*i,r,s,h),a.stroke()}function h(e,t){return e<t?!(e+Math.PI>t):t+Math.PI>e}},contains:B.lambda(!1)}};u.Plot={initialize:function(e,t){this.viz=e,this.config=e.config,this.node=e.config.Node,this.edge=e.config.Edge,this.animation=new d,this.nodeTypes=new t.Plot.NodeTypes,this.edgeTypes=new t.Plot.EdgeTypes,this.labels=e.labels},nodeHelper:m,edgeHelper:b,Interpolator:{map:{border:"color",color:"color",width:"number",height:"number",dim:"number",alpha:"number",lineWidth:"number",angularWidth:"number",span:"number",valueArray:"array-number",dimArray:"array-number",vertices:"polygon"},canvas:{globalAlpha:"number",fillStyle:"color",strokeStyle:"color",lineWidth:"number",shadowBlur:"number",shadowColor:"color",shadowOffsetX:"number",shadowOffsetY:"number",miterLimit:"number"},label:{size:"number",color:"color"},compute:function(e,t,i){return e+(t-e)*i},moebius:function(e,t,i,n){var a=n.scale(-i);if(a.norm()<1){var o=a.x,r=a.y,s=e.startPos.getc().moebiusTransformation(a);e.pos.setc(s.x,s.y),a.x=o,a.y=r}},linear:function(e,t,i){var n=e.startPos.getc(!0),a=e.endPos.getc(!0);e.pos.setc(this.compute(n.x,a.x,i),this.compute(n.y,a.y,i))},polar:function(e,t,i){var n=e.startPos.getp(!0),a=e.endPos.getp().interpolate(n,i);e.pos.setp(a.theta,a.rho)},number:function(e,t,i,n,a){var o=e[n](t,"start"),r=e[n](t,"end");e[a](t,this.compute(o,r,i))},color:function(e,t,i,n,a){var o=B.hexToRgb(e[n](t,"start")),r=B.hexToRgb(e[n](t,"end")),s=this.compute,h=B.rgbToHex([parseInt(s(o[0],r[0],i)),parseInt(s(o[1],r[1],i)),parseInt(s(o[2],r[2],i))]);e[a](t,h)},"array-number":function(e,t,i,n,a){for(var o=e[n](t,"start"),r=e[n](t,"end"),s=[],h=0,l=o.length;h<l;h++){var c=o[h],d=r[h];if(c.length){for(var g=0,f=c.length,u=[];g<f;g++)u.push(this.compute(c[g],d[g],i));s.push(u)}else s.push(this.compute(c,d,i))}e[a](t,s)},node:function(e,t,i,n,a,o){if(n=this[n],t)for(var r=t.length,s=0;s<r;s++){this[n[h=t[s]]](e,h,i,a,o)}else for(var h in n)this[n[h]](e,h,i,a,o)},edge:function(e,t,i,n,a,o){var r=e.adjacencies;for(var s in r)this.node(r[s],t,i,n,a,o)},"node-property":function(e,t,i){this.node(e,t,i,"map","getData","setData")},"edge-property":function(e,t,i){this.edge(e,t,i,"map","getData","setData")},"label-property":function(e,t,i){this.node(e,t,i,"label","getLabelData","setLabelData")},"node-style":function(e,t,i){this.node(e,t,i,"canvas","getCanvasStyle","setCanvasStyle")},"edge-style":function(e,t,i){this.edge(e,t,i,"canvas","getCanvasStyle","setCanvasStyle")},polygon:function(e,t,i,n,a){var o=e[n](t,"start"),r=e[n](t,"end"),s=[];if(void 0===o.offset)if(0===o)(o=B.map(r,function(){return new $jit.Complex(0,0)})).offset=0;else{for(0==o.length&&o.push(new $jit.Complex(0,0));o.length<r.length;)o.push(o[0]);for(;o.length>r.length;)r.push(r[0]||new $jit.Complex(0,0));if(0==o.length)return;for(var h=o.length,l=1e300,c=0;c<h;c++){for(var d=0,g=0;g<h;g++)d+=Geometry.dist2(o[(c+g)%h],r[g]);d<l&&(o.offset=c,l=d)}}for(g=0,h=o.length;g<h;g++){var f=o[(g+o.offset)%h],u=r[g];s.push(new $jit.Complex(this.compute(f.x,u.x,i),this.compute(f.y,u.y,i)))}e[a](t,s)}},sequence:function(e){var t=this;e=B.merge({condition:B.lambda(!1),step:B.empty,onComplete:B.empty,duration:200},e||{});var i=setInterval(function(){e.condition()?e.step():(clearInterval(i),e.onComplete()),t.viz.refresh(!0)},e.duration)},prepare:function(e){var t=this.viz.graph,r={"node-property":{getter:"getData",setter:"setData"},"edge-property":{getter:"getData",setter:"setData"},"node-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"},"edge-style":{getter:"getCanvasStyle",setter:"setCanvasStyle"}},s={};if("array"==B.type(e))for(var i=0,n=e.length;i<n;i++){var a=e[i].split(":");s[a.shift()]=a}else for(var o in e)"position"==o?s[e.position]=[]:s[o]=B.splat(e[o]);return t.eachNode(function(o){o.startPos.set(o.pos),B.each(["node-property","node-style"],function(e){if(e in s)for(var t=s[e],i=0,n=t.length;i<n;i++)o[r[e].setter](t[i],o[r[e].getter](t[i]),"start")}),B.each(["edge-property","edge-style"],function(n){if(n in s){var a=s[n];o.eachAdjacency(function(e){for(var t=0,i=a.length;t<i;t++)e[r[n].setter](a[t],e[r[n].getter](a[t]),"start")})}})}),s},animate:function(e,n){e=B.merge(this.viz.config,e||{});var t=this,a=this.viz.graph,o=this.Interpolator,i="nodefx"===e.type?this.nodeFxAnimation:this.animation,r=this.prepare(e.modes);e.hideLabels&&this.labels.hideLabels(!0),i.setOptions(B.extend(e,{$animating:!1,compute:function(i){a.eachNode(function(e){for(var t in r)o[t](e,r[t],i,n)}),t.plot(e,this.$animating,i),this.$animating=!0},complete:function(){e.hideLabels&&t.labels.hideLabels(!1),t.plot(e),e.onComplete()}})).start()},nodeFx:function(e){null==this.nodeFxAnimation&&(this.nodeFxAnimation=new d);var t=this.viz,n=t.graph,i=this.nodeFxAnimation,a=B.merge(this.viz.config,{elements:{id:!1,properties:{}},reposition:!1});e=B.merge(a,e||{},{onBeforeCompute:B.empty,onAfterCompute:B.empty}),i.stopTimer();var o=e.elements.properties;if(e.elements.id){var r=B.splat(e.elements.id);B.each(r,function(e){var t=n.getNode(e);if(t)for(var i in o)t.setData(i,o[i],"end")})}else n.eachNode(function(e){for(var t in o)e.setData(t,o[t],"end")});var s=[];for(var h in o)s.push(h);var l=["node-property:"+s.join(":")];e.reposition&&(l.push("linear"),t.compute("end")),this.animate(B.merge(e,{modes:l,type:"nodefx"}))},plot:function(n,a){var e=this.viz,t=e.graph,o=e.canvas,i=e.root,r=this;o.getCtx(),Math.min;(n=n||this.viz.controller).clearCanvas&&o.clear();var s=t.getNode(i);if(s){var h=!!s.visited;t.eachNode(function(i){var e=i.getData("alpha");i.eachAdjacency(function(e){var t=e.nodeTo;!!t.visited===h&&i.drawn&&t.drawn&&(!a&&n.onBeforePlotLine(e),r.plotLine(e,o,a),!a&&n.onAfterPlotLine(e))}),i.drawn&&(!a&&n.onBeforePlotNode(i),r.plotNode(i,o,a),!a&&n.onAfterPlotNode(i)),!r.labelsHidden&&n.withLabels&&(i.drawn&&.95<=e?r.labels.plotLabel(o,i,n):r.labels.hideLabel(i,!1)),i.visited=!h})}},plotTree:function(i,n,a){var o=this,r=this.viz.canvas,e=(this.config,r.getCtx(),i.getData("alpha"));i.eachSubnode(function(e){if(n.plotSubtree(i,e)&&e.exist&&e.drawn){var t=i.getAdjacency(e.id);!a&&n.onBeforePlotLine(t),o.plotLine(t,r,a),!a&&n.onAfterPlotLine(t),o.plotTree(e,n,a)}}),i.drawn?(!a&&n.onBeforePlotNode(i),this.plotNode(i,r,a),!a&&n.onAfterPlotNode(i),!n.hideLabels&&n.withLabels&&.95<=e?this.labels.plotLabel(r,i,n):this.labels.hideLabel(i,!1)):this.labels.hideLabel(i,!0)},plotNode:function(e,t,i){var n=e.getData("type"),a=this.node.CanvasStyles;if("none"!=n){var o=e.getData("lineWidth"),r=e.getData("color"),s=e.getData("alpha"),h=t.getCtx();for(var l in h.save(),h.lineWidth=o,h.fillStyle=h.strokeStyle=r,h.globalAlpha=s,a)h[l]=e.getCanvasStyle(l);this.nodeTypes[n].render.call(this,e,t,i),h.restore()}},plotLine:function(e,t,i){var n=e.getData("type"),a=this.edge.CanvasStyles;if("none"!=n){var o=e.getData("lineWidth"),r=e.getData("color"),s=t.getCtx(),h=e.nodeFrom,l=e.nodeTo;for(var c in s.save(),s.lineWidth=o,s.fillStyle=s.strokeStyle=r,s.globalAlpha=Math.min(h.getData("alpha"),l.getData("alpha"),e.getData("alpha")),a)s[c]=e.getCanvasStyle(c);this.edgeTypes[n].render.call(this,e,t,i),s.restore()}}},u.Plot3D=B.merge(u.Plot,{Interpolator:{linear:function(e,t,i){var n=e.startPos.getc(!0),a=e.endPos.getc(!0);e.pos.setc(this.compute(n.x,a.x,i),this.compute(n.y,a.y,i),this.compute(n.z,a.z,i))}},plotNode:function(e,t){"none"!=e.getData("type")&&this.plotElement(e,t,{getAlpha:function(){return e.getData("alpha")}})},plotLine:function(e,t){"none"!=e.getData("type")&&this.plotElement(e,t,{getAlpha:function(){return Math.min(e.nodeFrom.getData("alpha"),e.nodeTo.getData("alpha"),e.getData("alpha"))}})},plotElement:function(e,t,i){var n=t.getCtx(),a=new Matrix4,o=t.config.Scene.Lighting,r=t.canvases[0],s=r.program,h=r.camera;if(e.geometry||(e.geometry=new(O3D[e.getData("type")])),e.geometry.update(e),!e.webGLVertexBuffer){for(var l=[],c=[],d=[],g=0,f=e.geometry,u=0,p=f.vertices,v=f.faces,m=v.length;u<m;u++){var y=v[u],b=p[y.a],A=p[y.b],x=p[y.c],w=!!y.d&&p[y.d],C=y.normal;l.push(b.x,b.y,b.z),l.push(A.x,A.y,A.z),l.push(x.x,x.y,x.z),w&&l.push(w.x,w.y,w.z),d.push(C.x,C.y,C.z),d.push(C.x,C.y,C.z),d.push(C.x,C.y,C.z),w&&d.push(C.x,C.y,C.z),c.push(g,g+1,g+2),w?(c.push(g,g+2,g+3),g+=4):g+=3}e.webGLVertexBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.webGLVertexBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(l),n.STATIC_DRAW),e.webGLFaceBuffer=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.webGLFaceBuffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),n.STATIC_DRAW),e.webGLFaceCount=c.length,e.webGLNormalBuffer=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.webGLNormalBuffer),n.bufferData(n.ARRAY_BUFFER,new Float32Array(d),n.STATIC_DRAW)}a.multiply(h.matrix,e.geometry.matrix),n.uniformMatrix4fv(s.viewMatrix,!1,a.flatten()),n.uniformMatrix4fv(s.projectionMatrix,!1,h.projectionMatrix.flatten());var N=Matrix4.makeInvert(a);if(N.$transpose(),n.uniformMatrix4fv(s.normalMatrix,!1,N.flatten()),(E=B.hexToRgb(e.getData("color"))).push(i.getAlpha()),n.uniform4f(s.color,E[0]/255,E[1]/255,E[2]/255,E[3]),n.uniform1i(s.enableLighting,o.enable),o.enable){if(o.ambient){var D=o.ambient;n.uniform3f(s.ambientColor,D[0],D[1],D[2])}if(o.directional){var S=o.directional,E=S.color,L=S.direction,T=new Vector3(L.x,L.y,L.z).normalize().$scale(-1);n.uniform3f(s.lightingDirection,T.x,T.y,T.z),n.uniform3f(s.directionalColor,E[0],E[1],E[2])}}n.bindBuffer(n.ARRAY_BUFFER,e.webGLVertexBuffer),n.vertexAttribPointer(s.position,3,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,e.webGLNormalBuffer),n.vertexAttribPointer(s.normal,3,n.FLOAT,!1,0,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.webGLFaceBuffer),n.drawElements(n.TRIANGLES,e.webGLFaceCount,n.UNSIGNED_SHORT,0)}}),u.Label={},u.Label.Native=new r({initialize:function(e){this.viz=e},plotLabel:function(e,t,i){var n=e.getCtx();t.pos.getc(!0);n.font=t.getLabelData("style")+" "+t.getLabelData("size")+"px "+t.getLabelData("family"),n.textAlign=t.getLabelData("textAlign"),n.fillStyle=n.strokeStyle=t.getLabelData("color"),n.textBaseline=t.getLabelData("textBaseline"),this.renderLabel(e,t,i)},renderLabel:function(e,t,i){var n=e.getCtx(),a=t.pos.getc(!0);n.fillText(t.name,a.x,a.y+t.getData("height")/2)},hideLabel:function(e,t){e=B.splat(e);var i=!t;B.each(e,function(e){e._hideLabel=i})},hideLabels:B.empty}),u.Label.DOM=new r({labelsHidden:!1,labelContainer:!1,labels:{},getLabelContainer:function(){return this.labelContainer?this.labelContainer:this.labelContainer=document.getElementById(this.viz.config.labelContainer)},getLabel:function(e){return e in this.labels&&null!=this.labels[e]?this.labels[e]:this.labels[e]=document.getElementById(e)},hideLabels:function(e){var t=this.getLabelContainer();t.style.display=e?"none":"",this.labelsHidden=e},clearLabels:function(e){for(var t in this.labels)!e&&this.viz.graph.hasNode(t)||(this.disposeLabel(t),delete this.labels[t])},disposeLabel:function(e){var t=this.getLabel(e);t&&t.parentNode&&t.parentNode.removeChild(t)},hideLabel:function(e,t){e=B.splat(e);var i,n=t?"":"none",a=this;B.each(e,function(e){(i=a.getLabel(e.id))&&(i.style.display=n)})},fitsInCanvas:function(e,t){var i=t.getSize();if(e.w&&e.h){if(e.x>=i.width||e.x<-e.w||e.y>=i.height||e.y<-e.h)return!1}else if(e.x>=i.width||e.x<0||e.y>=i.height||e.y<0)return!1;return!0}}),u.Label.HTML=new r({Implements:u.Label.DOM,plotLabel:function(e,t,i){var n=t.id,a=this.getLabel(n);if(!a&&!(a=document.getElementById(n))){a=document.createElement("div");var o=this.getLabelContainer();a.id=n,a.className="node",a.style.position="absolute",i.onCreateLabel(a,t),o.appendChild(a),this.labels[t.id]=a}this.placeLabel(a,t,i)}}),u.Label.SVG=new r({Implements:u.Label.DOM,plotLabel:function(e,t,i){var n=t.id,a=this.getLabel(n);if(!a&&!(a=document.getElementById(n))){var o="http://www.w3.org/2000/svg";a=document.createElementNS(o,"svg:text");var r=document.createElementNS(o,"svg:tspan");a.appendChild(r);var s=this.getLabelContainer();a.setAttribute("id",n),a.setAttribute("class","node"),s.appendChild(a),i.onCreateLabel(a,t),this.labels[t.id]=a}this.placeLabel(a,t,i)}}),u.Geom=new r({initialize:function(e){this.viz=e,this.config=e.config,this.node=e.config.Node,this.edge=e.config.Edge},translate:function(i,e){e=B.splat(e),this.viz.graph.eachNode(function(t){B.each(e,function(e){t.getPos(e).$add(i)})})},setRightLevelToShow:function(i,e,t){var n=this.getRightLevelToShow(i,e),a=this.viz.labels,o=B.merge({execShow:!0,execHide:!0,onHide:B.empty,onShow:B.empty},t||{});i.eachLevel(0,this.config.levelsToShow,function(e){var t=e._depth-i._depth;n<t?(o.onHide(e),o.execHide&&(e.drawn=!1,e.exist=!1,a.hideLabel(e,!1))):(o.onShow(e),o.execShow&&(e.exist=!0))}),i.drawn=!0},getRightLevelToShow:function(e,t){var i=this.config,n=i.levelsToShow;if(!i.constrained)return n;for(;!this.treeFitsInCanvas(e,t,n)&&1<n;)n--;return n}});var x,w,C={construct:function(e){var t="array"==B.type(e),i=new u(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label);return t?function(a,o){for(var e=function(e){for(var t=0,i=o.length;t<i;t++)if(o[t].id==e)return o[t];var n={id:e,name:e};return a.addNode(n)},t=0,i=o.length;t<i;t++){a.addNode(o[t]);var n=o[t].adjacencies;if(n)for(var r=0,s=n.length;r<s;r++){var h=n[r],l={};"string"!=typeof n[r]&&(l=B.merge(h.data,{}),h=h.nodeTo),a.addAdjacence(o[t],e(h),l)}}}(i,e):function(e,t){if(e.addNode(t),t.children)for(var i=0,n=t.children;i<n.length;i++)e.addAdjacence(t,n[i]),arguments.callee(e,n[i])}(i,e),i},loadJSON:function(e,t){this.json=e,this.labels&&this.labels.clearLabels&&this.labels.clearLabels(!0),this.graph=this.construct(e),"array"!=B.type(e)?this.root=e.id:this.root=e[t||0].id},toJSON:function(e){if("tree"==(e=e||"tree")){var i={},t=this.graph.getNode(this.root);return i=function t(e){var i={};i.id=e.id,i.name=e.name,i.data=e.data;var n=[];return e.eachSubnode(function(e){n.push(t(e))}),i.children=n,i}(t)}i=[];var a=!!this.graph.getNode(this.root).visited;return this.graph.eachNode(function(e){var t={};t.id=e.id,t.name=e.name,t.data=e.data;var n=[];e.eachAdjacency(function(e){var t=e.nodeTo;if(!!t.visited===a){var i={};i.nodeTo=t.id,i.data=e.data,n.push(i)}}),t.adjacencies=n,i.push(t),e.visited=!a}),i}},N=$jit.Layouts={},D={label:null,compute:function(e,t,i){this.initializeLabel(i);var l=this.label,c=l.style;e.eachNode(function(e){var t=e.getData("autoWidth"),i=e.getData("autoHeight");if(t||i){delete e.data.$width,delete e.data.$height,delete e.data.$dim;var n=e.getData("width"),a=e.getData("height");c.width=t?"auto":n+"px",c.height=i?"auto":a+"px",l.innerHTML=e.name;var o=l.offsetWidth,r=l.offsetHeight,s=e.getData("type");if(-1===B.indexOf(["circle","square","triangle","star"],s))e.setData("width",o),e.setData("height",r);else{var h=r<o?o:r;e.setData("width",h),e.setData("height",h),e.setData("dim",h)}}})},initializeLabel:function(e){this.label||(this.label=document.createElement("div"),document.body.appendChild(this.label)),this.setLabelStyles(e)},setLabelStyles:function(e){B.extend(this.label.style,{visibility:"hidden",position:"absolute",width:"auto",height:"auto"}),this.label.className="jit-autoadjust-label"}};N.Tree=function(){var f=Array.prototype.slice;function M(e,t){var i=[];return B.each(e,function(e){(e=f.call(e))[0]+=t,e[1]+=t,i.push(e)}),i}function z(e,t){if(0==e.length)return t;if(0==t.length)return e;var i=e.shift(),n=t.shift();return[[i[0],n[1]]].concat(z(e,t))}function u(e,t,i,n,a){if(e.length<=a||t.length<=a)return 0;var o=e[a][1],r=t[a][0];return Math.max(u(e,t,i,n,++a)+i,o-r+n)}function O(e,t,i,n){var a,r,s,h,l,o=(h=t,l=i,function e(t,i,n){if(i.length<=n)return[];var a=i[n],o=u(t,a,h,l,0);return[o].concat(e(z(t,M(a,o)),i,++n))}([],e,0)),c=(a=e,r=t,s=i,function e(t,i,n){if(i.length<=n)return[];var a=i[n],o=-u(a,t,r,s,0);return[o].concat(e(z(M(a,o),t),i,++n))}([],(a=f.call(a)).reverse(),0).reverse());"left"==n?c=o:"right"==n&&(o=c);for(var d=0,g=[];d<o.length;d++)g[d]=(o[d]+c[d])/2;return g}function c(b,e,A,x,w){var C=x.multitree,t=["x","y"],i=["width","height"],n=+("left"==w||"right"==w),N=t[n],D=t[1-n],S=(x.Node,i[n]),E=i[1-n],L=x.siblingOffset,T=x.subtreeOffset,I=x.align;!function i(e,t,n){var a=e.getData(S,A),o=t||e.getData(E,A),r=[],s=[],h=!1,l=o+x.levelDistance;e.eachSubnode(function(e){if(e.exist&&(!C||"$orn"in e.data&&e.data.$orn==w)){"even"==x.levelSpacing?h||(h=function(e,t,n,a,o){var i=t.Node,r=t.multitree;if(i.overridable){var s=-1,h=-1;return e.eachNode(function(e){if(e._depth==n&&(!r||"$orn"in e.data&&e.data.$orn==a)){var t=e.getData("width",o),i=e.getData("height",o);s=s<t?t:s,h=h<i?i:h}}),{width:s<0?i.width:s,height:h<0?i.height:h}}return i}(b,x,e._depth,w,A)):h={width:e.getData("width"),height:e.getData("height")};var t=i(e,h[E],n+l);r.push(t.tree),s.push(t.extent)}});for(var c,d,g,f,u,p=O(s,T,L,I),v=0,m=[];v<r.length;v++)c=r[v],d=A,g=p[v],u="left"==(f=w)||"right"==f?"y":"x",c.getPos(d)[u]+=g,m.push(M(s[v],p[v]));var y=[[-a/2,a/2]].concat(function e(t,i){return i=i||[],0==t.length?i:e(t,z(t.pop(),i))}(m));return e.getPos(A)[N]=0,e.getPos(A)[D]="top"==w||"left"==w?n:-n,{tree:e,extent:y}}(e,!1,0)}return new r({compute:function(e,t){var i=e||"start",n=this.graph.getNode(this.root);B.extend(n,{drawn:!0,exist:!0,selected:!0}),D.compute(this.graph,i,this.config),!t&&"_depth"in n||this.graph.computeLevels(this.root,0,"ignore"),this.computePositions(n,i)},computePositions:function(e,o){var t=this.config,r=t.multitree,s=t.align,h="center"!==s&&t.indent,i=t.orientation,l=this;B.each(r?["top","right","bottom","left"]:[i],function(n){c(l.graph,e,o,l.config,n);var a=["x","y"][+("left"==n||"right"==n)];!function t(i){i.eachSubnode(function(e){e.exist&&(!r||"$orn"in e.data&&e.data.$orn==n)&&(e.getPos(o)[a]+=i.getPos(o)[a],h&&(e.getPos(o)[a]+="left"==s?h:-h),t(e))})}(e)})}})}(),$jit.ST=function(){var l=[];function h(t){if(t=t||this.clickedNode,!this.config.constrained)return[];var e=this.geom,i=this.graph,n=this.canvas,a=t._depth,o=[];i.eachNode(function(e){e.exist&&!e.selected&&(e.isDescendantOf(t.id)?e._depth<=a&&o.push(e):o.push(e))});var r=e.getRightLevelToShow(t,n);t.eachLevel(r,r,function(e){e.exist&&!e.selected&&o.push(e)});for(var s=0;s<l.length;s++){var h=this.graph.getNode(l[s]);h.isDescendantOf(t.id)||o.push(h)}return o}function c(e){var t=[],i=this.config;return e=e||this.clickedNode,this.clickedNode.eachLevel(0,i.levelsToShow,function(e){!i.multitree||"$orn"in e.data||!e.anySubnode(function(e){return e.exist&&!e.drawn})?e.drawn&&!e.anySubnode("drawn")&&t.push(e):t.push(e)}),t}return new r({Implements:[C,g,N.Tree],initialize:function(e){var t=$jit.ST;this.controller=this.config=B.merge(o("Canvas","Fx","Tree","Node","Edge","Controller","Tips","NodeStyles","Events","Navigation","Label"),{levelsToShow:2,levelDistance:30,constrained:!0,Node:{type:"rectangle"},duration:700,offsetX:0,offsetY:0},e);var i=this.config;i.useCanvas?(this.canvas=i.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(i.background&&(i.background=B.merge({type:"Circles"},i.background)),this.canvas=new p(this,i),this.config.labelContainer=("string"==typeof i.injectInto?i.injectInto:i.injectInto.id)+"-label"),this.graphOptions={klass:v},this.graph=new u(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new t.Label[i.Label.type](this),this.fx=new t.Plot(this,t),this.op=new t.Op(this),this.group=new t.Group(this),this.geom=new t.Geom(this),this.clickedNode=null,this.initializeExtras()},plot:function(){this.fx.plot(this.controller)},switchPosition:function(e,t,i){var n=this.geom,a=this.fx,o=this;a.busy||(a.busy=!0,this.contract({onComplete:function(){n.switchOrientation(e),o.compute("end",!1),a.busy=!1,"animate"==t?o.onClick(o.clickedNode.id,i):"replot"==t&&o.select(o.clickedNode.id,i)}},e))},switchAlignment:function(e,t,i){this.config.align=e,"animate"==t?this.select(this.clickedNode.id,i):"replot"==t&&this.onClick(this.clickedNode.id,i)},addNodeInPath:function(e){l.push(e),this.select(this.clickedNode&&this.clickedNode.id||this.root)},clearNodesInPath:function(e){l.length=0,this.select(this.clickedNode&&this.clickedNode.id||this.root)},refresh:function(){this.reposition(),this.select(this.clickedNode&&this.clickedNode.id||this.root)},reposition:function(){if(this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(this.clickedNode,this.canvas),this.graph.eachNode(function(e){e.exist&&(e.drawn=!0)}),this.compute("end"),this.clickedNode){var e={x:this.canvas.translateOffsetX+this.config.offsetX||0,y:this.canvas.translateOffsetY+this.config.offsetY||0};this.geom.translate(this.clickedNode.endPos.add(e).$scale(-1),"end")}},requestNodes:function(e,t){var i=B.merge(this.controller,t),n=this.config.levelsToShow;if(i.request){var a=[],o=e._depth;e.eachLevel(0,n,function(e){e.drawn&&!e.anySubnode()&&(a.push(e),e._level=n-(e._depth-o))}),this.group.requestNodes(a,i)}else i.onComplete()},contract:function(e,t){var i=this.config.orientation,n=this.geom,a=this.group;t&&n.switchOrientation(t);var o=h.call(this);t&&n.switchOrientation(i),a.contract(o,B.merge(this.controller,e))},move:function(e,t){this.compute("end",!1);var i=t.Move,n={x:i.offsetX,y:i.offsetY};i.enable?this.geom.translate(e.endPos.add(n).$scale(-1),"end"):this.geom.translate(A(n.x,n.y).$scale(-1),"end"),this.fx.animate(B.merge(this.controller,{modes:["linear"]},t))},expand:function(e,t){var i=c.call(this,e);this.group.expand(i,B.merge(this.controller,t))},selectPath:function(e){var i=this;function n(e){if(null!=e&&!e.selected){e.selected=!0,B.each(i.group.getSiblings([e])[e.id],function(e){e.exist=!0,e.drawn=!0});var t=e.getParents();n(t=0<t.length?t[0]:null)}}this.graph.eachNode(function(e){e.selected=!1});for(var t=0,a=[e.id].concat(l);t<a.length;t++)n(this.graph.getNode(a[t]))},setRoot:function(n,e,t){if(!this.busy){this.busy=!0;var a=this,o=this.canvas,r=this.graph.getNode(this.root),s=this.graph.getNode(n);delete r.data.$orns,"animate"==e?(i.call(this),a.selectPath(s)):"replot"==e&&(i.call(this),this.select(this.root))}function i(){if(this.config.multitree&&s.data.$orn){var i={left:"right",right:"left",top:"bottom",bottom:"top"}[s.data.$orn];r.data.$orn=i,function t(e){e.eachSubnode(function(e){e.id!=n&&(e.data.$orn=i,t(e))})}(r),delete s.data.$orn}this.root=n,this.clickedNode=s,this.graph.computeLevels(this.root,0,"ignore"),this.geom.setRightLevelToShow(s,o,{execHide:!1,onShow:function(e){e.drawn||(e.drawn=!0,e.setData("alpha",1,"end"),e.setData("alpha",0),e.pos.setc(s.pos.x,s.pos.y))}}),this.compute("end"),this.busy=!0,this.fx.animate({modes:["linear","node-property:alpha"],onComplete:function(){a.busy=!1,a.onClick(n,{onComplete:function(){t&&t.onComplete()}})}})}},addSubtree:function(e,t,i){"replot"==t?this.op.sum(e,B.extend({type:"replot"},i||{})):"animate"==t&&this.op.sum(e,B.extend({type:"fade:seq"},i||{}))},removeSubtree:function(e,t,i,n){var a=this.graph.getNode(e),o=[];a.eachLevel(+!t,!1,function(e){o.push(e.id)}),"replot"==i?this.op.removeNode(o,B.extend({type:"replot"},n||{})):"animate"==i&&this.op.removeNode(o,B.extend({type:"fade:seq"},n||{}))},select:function(e,t){var i=this.group,n=this.geom,a=this.graph.getNode(e),o=this.canvas,r=(this.graph.getNode(this.root),B.merge(this.controller,t)),s=this;r.onBeforeCompute(a),this.selectPath(a),this.clickedNode=a,this.requestNodes(a,{onComplete:function(){i.hide(i.prepare(h.call(s)),r),n.setRightLevelToShow(a,o),s.compute("current"),s.graph.eachNode(function(e){var t=e.pos.getc(!0);e.startPos.setc(t.x,t.y),e.endPos.setc(t.x,t.y),e.visited=!1});var e={x:r.offsetX,y:r.offsetY};s.geom.translate(a.endPos.add(e).$scale(-1),["start","current","end"]),i.show(c.call(s)),s.plot(),r.onAfterCompute(s.clickedNode),r.onComplete()}})},onClick:function(e,t){var i=this.canvas,n=this,a=this.geom,o=this.config,r={Move:{enable:!0,offsetX:i.translateOffsetX+o.offsetX||0,offsetY:i.translateOffsetY+o.offsetY||0},setRightLevelToShowConfig:!1,onBeforeRequest:B.empty,onBeforeContract:B.empty,onBeforeMove:B.empty,onBeforeExpand:B.empty},s=B.merge(this.controller,r,t);if(!this.busy){this.busy=!0;var h=this.graph.getNode(e);this.selectPath(h,this.clickedNode),this.clickedNode=h,s.onBeforeCompute(h),s.onBeforeRequest(h),this.requestNodes(h,{onComplete:function(){s.onBeforeContract(h),n.contract({onComplete:function(){a.setRightLevelToShow(h,i,s.setRightLevelToShowConfig),s.onBeforeMove(h),n.move(h,{Move:s.Move,onComplete:function(){s.onBeforeExpand(h),n.expand(h,{onComplete:function(){n.busy=!1,s.onAfterCompute(e),s.onComplete()}})}})}})}})}}})}(),$jit.ST.$extend=!0,$jit.ST.Op=new r({Implements:u.Op}),$jit.ST.Group=new r({initialize:function(e){this.viz=e,this.canvas=e.canvas,this.config=e.config,this.animation=new d,this.nodes=null},requestNodes:function(e,t){var i=0,n=e.length,a={},o=function(){t.onComplete()},r=this.viz;0==n&&o();for(var s=0;s<n;s++)a[e[s].id]=e[s],t.request(e[s].id,e[s]._level,{onComplete:function(e,t){t&&t.children&&(t.id=e,r.op.sum(t,{type:"nothing"})),++i==n&&(r.graph.computeLevels(r.root,0),o())}})},contract:function(e,t){this.viz;var i=this;e=this.prepare(e),this.animation.setOptions(B.merge(t,{$animating:!1,compute:function(e){1==e&&(e=.99),i.plotStep(1-e,t,this.$animating),this.$animating="contract"},complete:function(){i.hide(e,t)}})).start()},hide:function(e,t){this.viz;for(var i=0;i<e.length;i++){e[i].eachLevel(1,!1,function(e){e.exist&&B.extend(e,{drawn:!1,exist:!1})})}t.onComplete()},expand:function(e,t){var i=this;this.show(e),this.animation.setOptions(B.merge(t,{$animating:!1,compute:function(e){i.plotStep(e,t,this.$animating),this.$animating="expand"},complete:function(){i.plotStep(void 0,t,!1),t.onComplete()}})).start()},show:function(e){var i=this.config;this.prepare(e),B.each(e,function(e){if(i.multitree&&!("$orn"in e.data)){delete e.data.$orns;var t=" ";e.eachSubnode(function(e){"$orn"in e.data&&t.indexOf(e.data.$orn)<0&&e.exist&&!e.drawn&&(t+=e.data.$orn+" ")}),e.data.$orns=t}e.eachLevel(0,i.levelsToShow,function(e){e.exist&&(e.drawn=!0)})})},prepare:function(e){return this.nodes=this.getNodesWithChildren(e),this.nodes},getNodesWithChildren:function(e){var t=[],i=this.config;this.viz.root;e.sort(function(e,t){return(e._depth<=t._depth)-(e._depth>=t._depth)});for(var n=0;n<e.length;n++)if(e[n].anySubnode("exist")){for(var a=n+1,o=!1;!o&&a<e.length;a++)(!i.multitree||"$orn"in e[a].data)&&(o=o||e[n].isDescendantOf(e[a].id));o||t.push(e[n])}return t},plotStep:function(e,t,i){var n,a,o=this.viz,r=this.config,s=o.canvas.getCtx(),h=this.nodes,l={};for(n=0;n<h.length;n++){a=h[n],l[a.id]=[];var c=r.multitree&&!("$orn"in a.data),d=c&&a.data.$orns;a.eachSubgraph(function(e){c&&d&&0<d.indexOf(e.data.$orn)&&e.drawn?(e.drawn=!1,l[a.id].push(e)):c&&d||!e.drawn||(e.drawn=!1,l[a.id].push(e))}),a.drawn=!0}for(n in 0<h.length&&o.fx.plot(),l)B.each(l[n],function(e){e.drawn=!0});for(n=0;n<h.length;n++)a=h[n],s.save(),o.fx.plotSubtree(a,t,e,i),s.restore()},getSiblings:function(e){var n={};return B.each(e,function(e){var t=e.getParents();if(0==t.length)n[e.id]=[e];else{var i=[];t[0].eachSubnode(function(e){i.push(e)}),n[e.id]=i}}),n}}),$jit.ST.Geom=new r({Implements:u.Geom,switchOrientation:function(e){this.config.orientation=e},dispatch:function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),i=e.length,n=function(e){return"function"==typeof e?e():e};if(2==i)return n("top"==t||"bottom"==t?e[0]:e[1]);if(4==i)switch(t){case"top":return n(e[0]);case"right":return n(e[1]);case"bottom":return n(e[2]);case"left":return n(e[3])}},getSize:function(e,t){var i=e.data,n=this.config,a=n.siblingOffset,o=n.multitree&&"$orn"in i&&i.$orn||n.orientation,r=e.getData("width")+a,s=e.getData("height")+a;return t?this.dispatch(o,r,s):this.dispatch(o,s,r)},getTreeBaseSize:function(e,t,i){var n=this.getSize(e,!0),a=0,o=this;return i(t,e)?n:0===t?0:(e.eachSubnode(function(e){a+=o.getTreeBaseSize(e,t-1,i)}),(a<n?n:a)+this.config.subtreeOffset)},getEdge:function(i,e,t){var n=function(e,t){return function(){return i.pos.add(new v(e,t))}},a=this.node,o=i.getData("width"),r=i.getData("height");if("begin"==e){if("center"==a.align)return this.dispatch(t,n(0,r/2),n(-o/2,0),n(0,-r/2),n(o/2,0));if("left"==a.align)return this.dispatch(t,n(0,r),n(0,0),n(0,0),n(o,0));if("right"==a.align)return this.dispatch(t,n(0,0),n(-o,0),n(0,-r),n(0,0));throw"align: not implemented"}if("end"==e){if("center"==a.align)return this.dispatch(t,n(0,-r/2),n(o/2,0),n(0,r/2),n(-o/2,0));if("left"==a.align)return this.dispatch(t,n(0,0),n(o,0),n(0,r),n(0,0));if("right"==a.align)return this.dispatch(t,n(0,-r),n(0,0),n(0,0),n(-o,0));throw"align: not implemented"}},getScaledTreePosition:function(i,n){var e=this.node,t=i.getData("width"),a=i.getData("height"),o=this.config.multitree&&"$orn"in i.data&&i.data.$orn||this.config.orientation,r=function(e,t){return function(){return i.pos.add(new v(e,t)).$scale(1-n)}};if("left"==e.align)return this.dispatch(o,r(0,a),r(0,0),r(0,0),r(t,0));if("center"==e.align)return this.dispatch(o,r(0,a/2),r(-t/2,0),r(0,-a/2),r(t/2,0));if("right"==e.align)return this.dispatch(o,r(0,0),r(-t,0),r(0,-a),r(0,0));throw"align: not implemented"},treeFitsInCanvas:function(e,t,i){var n=t.getSize(),a=this.config.multitree&&"$orn"in e.data&&e.data.$orn||this.config.orientation,o=this.dispatch(a,n.width,n.height);return this.getTreeBaseSize(e,i,function(e,t){return 0===e||!t.anySubnode()})<o}}),$jit.ST.Plot=new r({Implements:u.Plot,plotSubtree:function(a,e,t,i){var n=this.viz,o=n.canvas,r=n.config;if(0<=(t=Math.min(Math.max(.001,t),1))){a.drawn=!1;var s=o.getCtx(),h=n.geom.getScaledTreePosition(a,t);s.translate(h.x,h.y),s.scale(t,t)}this.plotTree(a,B.merge(e,{withLabels:!0,hideLabels:!!t,plotSubtree:function(e,t){var i=r.multitree&&!("$orn"in a.data),n=i&&a.getData("orns");return!i||-1<n.indexOf(a.getData("orn"))}}),i),0<=t&&(a.drawn=!0)},getAlignedPos:function(e,t,i){var n,a,o=this.node;if("center"==o.align)n={x:e.x-t/2,y:e.y-i/2};else if("left"==o.align)n="bottom"==(a=this.config.orientation)||"top"==a?{x:e.x-t/2,y:e.y}:{x:e.x,y:e.y-i/2};else{if("right"!=o.align)throw"align: not implemented";n="bottom"==(a=this.config.orientation)||"top"==a?{x:e.x-t/2,y:e.y-i}:{x:e.x-t,y:e.y-i/2}}return n},getOrientation:function(e){var t=this.config,i=t.orientation;if(t.multitree){var n=e.nodeFrom,a=e.nodeTo;i="$orn"in n.data&&n.data.$orn||"$orn"in a.data&&a.data.$orn}return i}}),$jit.ST.Label={},$jit.ST.Label.Native=new r({Implements:u.Label.Native,renderLabel:function(e,t,i){var n=e.getCtx(),a=t.pos.getc(!0),o=t.getData("width"),r=t.getData("height"),s=this.viz.fx.getAlignedPos(a,o,r);n.fillText(t.name,s.x+o/2,s.y+r/2)}}),$jit.ST.Label.DOM=new r({Implements:u.Label.DOM,placeLabel:function(e,t,i){var n,a,o=t.pos.getc(!0),r=this.viz.config,s=r.Node,h=this.viz.canvas,l=t.getData("width"),c=t.getData("height"),d=h.getSize(),g=h.translateOffsetX,f=h.translateOffsetY,u=h.scaleOffsetX,p=h.scaleOffsetY,v=o.x*u+g,m=o.y*p+f;if("center"==s.align)n={x:Math.round(v-l/2+d.width/2),y:Math.round(m-c/2+d.height/2)};else if("left"==s.align)n="bottom"==(a=r.orientation)||"top"==a?{x:Math.round(v-l/2+d.width/2),y:Math.round(m+d.height/2)}:{x:Math.round(v+d.width/2),y:Math.round(m-c/2+d.height/2)};else{if("right"!=s.align)throw"align: not implemented";n="bottom"==(a=r.orientation)||"top"==a?{x:Math.round(v-l/2+d.width/2),y:Math.round(m-c+d.height/2)}:{x:Math.round(v-l+d.width/2),y:Math.round(m-c/2+d.height/2)}}n.w=l,n.h=c;var y=e.style;y.left=n.x+"px",y.top=n.y+"px",y.display=this.fitsInCanvas(n,h)?"":"none",i.onPlaceLabel(e,t)}}),$jit.ST.Label.SVG=new r({Implements:[$jit.ST.Label.DOM,u.Label.SVG],initialize:function(e){this.viz=e}}),$jit.ST.Label.HTML=new r({Implements:[$jit.ST.Label.DOM,u.Label.HTML],initialize:function(e){this.viz=e}}),$jit.ST.Plot.NodeTypes=new r({none:{render:B.empty,contains:B.lambda(!1)},circle:{render:function(e,t){var i=e.getData("dim"),n=this.getAlignedPos(e.pos.getc(!0),i,i),a=i/2;this.nodeHelper.circle.render("fill",{x:n.x+a,y:n.y+a},a,t)},contains:function(e,t){var i=e.getData("dim"),n=this.getAlignedPos(e.pos.getc(!0),i,i),a=i/2;return this.nodeHelper.circle.contains({x:n.x+a,y:n.y+a},t,a)}},square:{render:function(e,t){var i=e.getData("dim"),n=i/2,a=this.getAlignedPos(e.pos.getc(!0),i,i);this.nodeHelper.square.render("fill",{x:a.x+n,y:a.y+n},n,t)},contains:function(e,t){var i=e.getData("dim"),n=this.getAlignedPos(e.pos.getc(!0),i,i),a=i/2;return this.nodeHelper.square.contains({x:n.x+a,y:n.y+a},t,a)}},ellipse:{render:function(e,t){var i=e.getData("width"),n=e.getData("height"),a=this.getAlignedPos(e.pos.getc(!0),i,n);this.nodeHelper.ellipse.render("fill",{x:a.x+i/2,y:a.y+n/2},i,n,t)},contains:function(e,t){var i=e.getData("width"),n=e.getData("height"),a=this.getAlignedPos(e.pos.getc(!0),i,n);return this.nodeHelper.ellipse.contains({x:a.x+i/2,y:a.y+n/2},t,i,n)}},rectangle:{render:function(e,t){var i=e.getData("width"),n=e.getData("height"),a=this.getAlignedPos(e.pos.getc(!0),i,n);this.nodeHelper.rectangle.render("fill",{x:a.x+i/2,y:a.y+n/2},i,n,t)},contains:function(e,t){var i=e.getData("width"),n=e.getData("height"),a=this.getAlignedPos(e.pos.getc(!0),i,n);return this.nodeHelper.rectangle.contains({x:a.x+i/2,y:a.y+n/2},t,i,n)}}}),$jit.ST.Plot.EdgeTypes=new r({none:B.empty,line:{render:function(e,t){var i=this.getOrientation(e),n=e.nodeFrom,a=e.nodeTo,o=n._depth<a._depth,r=this.viz.geom.getEdge(o?n:a,"begin",i),s=this.viz.geom.getEdge(o?a:n,"end",i);this.edgeHelper.line.render(r,s,t)},contains:function(e,t){var i=this.getOrientation(e),n=e.nodeFrom,a=e.nodeTo,o=n._depth<a._depth,r=this.viz.geom.getEdge(o?n:a,"begin",i),s=this.viz.geom.getEdge(o?a:n,"end",i);return this.edgeHelper.line.contains(r,s,t,this.edge.epsilon)}},arrow:{render:function(e,t){var i=this.getOrientation(e),n=e.nodeFrom,a=e.nodeTo,o=n._depth<a._depth,r=e.getData("dim"),s=this.viz.geom.getEdge(o?n:a,"begin",i),h=this.viz.geom.getEdge(o?a:n,"end",i),l=e.data.$direction,c=l&&1<l.length&&l[0]!=n.id;this.edgeHelper.arrow.render(s,h,r,c,t)},contains:function(e,t){var i=this.getOrientation(e),n=e.nodeFrom,a=e.nodeTo,o=n._depth<a._depth,r=this.viz.geom.getEdge(o?n:a,"begin",i),s=this.viz.geom.getEdge(o?a:n,"end",i);return this.edgeHelper.arrow.contains(r,s,t,this.edge.epsilon)}},"quadratic:begin":{render:function(e,t){var i=this.getOrientation(e),n=e.nodeFrom,a=e.nodeTo,o=n._depth<a._depth,r=this.viz.geom.getEdge(o?n:a,"begin",i),s=this.viz.geom.getEdge(o?a:n,"end",i),h=e.getData("dim"),l=t.getCtx();switch(l.beginPath(),l.moveTo(r.x,r.y),i){case"left":l.quadraticCurveTo(r.x+h,r.y,s.x,s.y);break;case"right":l.quadraticCurveTo(r.x-h,r.y,s.x,s.y);break;case"top":l.quadraticCurveTo(r.x,r.y+h,s.x,s.y);break;case"bottom":l.quadraticCurveTo(r.x,r.y-h,s.x,s.y)}l.stroke()}},"quadratic:end":{render:function(e,t){var i=this.getOrientation(e),n=e.nodeFrom,a=e.nodeTo,o=n._depth<a._depth,r=this.viz.geom.getEdge(o?n:a,"begin",i),s=this.viz.geom.getEdge(o?a:n,"end",i),h=e.getData("dim"),l=t.getCtx();switch(l.beginPath(),l.moveTo(r.x,r.y),i){case"left":l.quadraticCurveTo(s.x-h,s.y,s.x,s.y);break;case"right":l.quadraticCurveTo(s.x+h,s.y,s.x,s.y);break;case"top":l.quadraticCurveTo(s.x,s.y-h,s.x,s.y);break;case"bottom":l.quadraticCurveTo(s.x,s.y+h,s.x,s.y)}l.stroke()}},bezier:{render:function(e,t){var i=this.getOrientation(e),n=e.nodeFrom,a=e.nodeTo,o=n._depth<a._depth,r=this.viz.geom.getEdge(o?n:a,"begin",i),s=this.viz.geom.getEdge(o?a:n,"end",i),h=e.getData("dim"),l=t.getCtx();switch(l.beginPath(),l.moveTo(r.x,r.y),i){case"left":l.bezierCurveTo(r.x+h,r.y,s.x-h,s.y,s.x,s.y);break;case"right":l.bezierCurveTo(r.x-h,r.y,s.x+h,s.y,s.x,s.y);break;case"top":l.bezierCurveTo(r.x,r.y+h,s.x,s.y-h,s.x,s.y);break;case"bottom":l.bezierCurveTo(r.x,r.y-h,s.x,s.y+h,s.x,s.y)}l.stroke()}}}),$jit.ST.Plot.NodeTypes.implement({"areachart-stacked":{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height"),o=this.getAlignedPos(i,n,a),r=o.x,s=o.y,h=e.getData("stringArray"),l=e.getData("dimArray"),c=e.getData("valueArray"),d=B.reduce(c,function(e,t){return e+t[0]},0),g=B.reduce(c,function(e,t){return e+t[1]},0),f=e.getData("colorArray"),u=f.length,p=e.getData("config"),v=e.getData("gradient"),m=p.showLabels,y=p.showAggregates,b=p.Label,A=e.getData("prev"),x=t.getCtx(),w=e.getData("border");if(f&&l&&h){for(var C=0,N=l.length,D=0,S=0,E=0;C<N;C++){if(x.fillStyle=x.strokeStyle=f[C%u],x.save(),v&&(0<l[C][0]||0<l[C][1])){var L=D+l[C][0],T=S+l[C][1],I=Math.atan((T-L)/n),M=x.createLinearGradient(r+n/2,s-(L+T)/2,r+n/2+55*Math.sin(I),s-(L+T)/2+55*Math.cos(I)),z=B.rgbToHex(B.map(B.hexToRgb(f[C%u].slice(1)),function(e){return.85*e>>0}));M.addColorStop(0,f[C%u]),M.addColorStop(1,z),x.fillStyle=M}if(x.beginPath(),x.moveTo(r,s-D),x.lineTo(r+n,s-S),x.lineTo(r+n,s-S-l[C][1]),x.lineTo(r,s-D-l[C][0]),x.lineTo(r,s-D),x.fill(),x.restore(),w){var O=w.name==h[C],P=O?.7:.8;z=B.rgbToHex(B.map(B.hexToRgb(f[C%u].slice(1)),function(e){return e*P>>0}));x.strokeStyle=z,x.lineWidth=O?4:1,x.save(),x.beginPath(),0===w.index?(x.moveTo(r,s-D),x.lineTo(r,s-D-l[C][0])):(x.moveTo(r+n,s-S),x.lineTo(r+n,s-S-l[C][1])),x.stroke(),x.restore()}D+=l[C][0]||0,S+=l[C][1]||0,0<l[C][0]&&(E+=c[C][0]||0)}if(A&&"Native"==b.type){x.save(),x.beginPath(),x.fillStyle=x.strokeStyle=b.color,x.font=b.style+" "+b.size+"px "+b.family,x.textAlign="center",x.textBaseline="middle";var k=y(e.name,d,g,e,E);!1!==k&&x.fillText(!0!==k?k:E,r,s-D-p.labelOffset-b.size/2,n);var j=m(e.name,d,g,e);!1!==j&&x.fillText(!0!==j?j:e.name,r,s+b.size/2+p.labelOffset),x.restore()}}},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height"),o=this.getAlignedPos(i,n,a),r=o.x,s=o.y,h=e.getData("dimArray"),l=t.x-r;if(t.x<r||t.x>r+n||t.y>s||t.y<s-a)return!1;for(var c=0,d=h.length,g=s,f=s;c<d;c++){var u=h[c],p=(g-=u[0])+((f-=u[1])-g)*l/n;if(t.y>=p){var v=+(n/2<l);return{name:e.getData("stringArray")[c],color:e.getData("colorArray")[c],value:e.getData("valueArray")[c][v],index:v}}}return!1}}}),$jit.AreaChart=new r({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(e){this.controller=this.config=B.merge(o("Canvas","Margin","Label","AreaChart"),{Label:{type:"Native"}},e);var t=this.config.showLabels,i=B.type(t),n=this.config.showAggregates,a=B.type(n);this.config.showLabels="function"==i?t:B.lambda(t),this.config.showAggregates="function"==a?n:B.lambda(n),this.initializeViz()},initializeViz:function(){var m=this.config,a=this,e=m.type.split(":")[0],y={},t=new $jit.ST({injectInto:m.injectInto,width:m.width,height:m.height,orientation:"bottom",levelDistance:0,siblingOffset:0,subtreeOffset:0,withLabels:"Native"!=m.Label.type,useCanvas:m.useCanvas,Label:{type:m.Label.type},Node:{overridable:!0,type:"areachart-"+e,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:m.Tips.enable,type:"Native",force:!0,onShow:function(e,t,i){var n=i;m.Tips.onShow(e,n,t)}},Events:{enable:!0,type:"Native",onClick:function(e,t,i){if(m.filterOnClick||m.Events.enable){var n=t.getContains();n&&m.filterOnClick&&a.filter(n.name),m.Events.enable&&m.Events.onClick(n,t,i)}},onRightClick:function(e,t,i){m.restoreOnRightClick&&a.restore()},onMouseMove:function(e,t,i){if(m.selectOnHover)if(e){var n=t.getContains();a.select(e.id,n.name,n.index)}else a.select(!1,!1,!1)}},onCreateLabel:function(e,t){var i=m.Label,n=t.getData("valueArray"),a=B.reduce(n,function(e,t){return e+t[0]},0),o=B.reduce(n,function(e,t){return e+t[1]},0);if(t.getData("prev")){var r={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},s=r.wrapper,h=r.label,l=r.aggregate,c=s.style,d=h.style,g=l.style;y[t.id]=r,s.appendChild(h),s.appendChild(l),m.showLabels(t.name,a,o,t)||(h.style.display="none"),m.showAggregates(t.name,a,o,t)||(l.style.display="none"),c.position="relative",c.overflow="visible",c.fontSize=i.size+"px",c.fontFamily=i.family,c.color=i.color,c.textAlign="center",g.position=d.position="absolute",e.style.width=t.getData("width")+"px",e.style.height=t.getData("height")+"px",h.innerHTML=t.name,e.appendChild(s)}},onPlaceLabel:function(e,t){if(t.getData("prev")){var i=y[t.id],n=i.wrapper.style,a=i.label.style,o=i.aggregate.style,r=t.getData("width"),s=(t.getData("height"),t.getData("dimArray")),h=t.getData("valueArray"),l=B.reduce(h,function(e,t){return e+t[0]},0),c=B.reduce(h,function(e,t){return e+t[1]},0),d=parseInt(n.fontSize,10);e.style;if(s&&h){m.showLabels(t.name,l,c,t)?a.display="":a.display="none";var g=m.showAggregates(t.name,l,c,t);o.display=!1!==g?"":"none",n.width=o.width=a.width=e.style.width=r+"px",o.left=a.left=-r/2+"px";for(var f=0,u=h.length,p=0,v=0;f<u;f++)0<s[f][0]&&(p+=h[f][0],v+=s[f][0]);o.top=-d-m.labelOffset+"px",a.top=m.labelOffset+v+"px",e.style.top=parseInt(e.style.top,10)-v+"px",e.style.height=n.height=v+"px",i.aggregate.innerHTML=!0!==g?g:p}}}}),i=t.canvas.getSize(),n=m.Margin;t.config.offsetY=-i.height/2+n.bottom+(m.showLabels&&m.labelOffset+m.Label.size),t.config.offsetX=(n.right-n.left)/2,this.delegate=t,this.canvas=this.delegate.canvas},loadJSON:function(e){for(var t=B.time(),i=[],n=this.delegate,a=B.splat(e.label),o=B.splat(e.color||this.colors),r=this.config,s=!!r.type.split(":")[1],h=r.animate,l=0,c=e.values,d=c.length;l<d-1;l++){var g=c[l],f=c[l-1],u=c[l+1],p=B.splat(c[l].values),v=B.splat(c[l+1].values),m=B.zip(p,v);i.push({id:t+g.label,name:g.label,data:{value:m,$valueArray:m,$colorArray:o,$stringArray:a,$next:u.label,$prev:!!f&&f.label,$config:r,$gradient:s},children:[]})}var y={id:t+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:i};n.loadJSON(y),this.normalizeDims(),n.compute(),n.select(n.root),h&&n.fx.animate({modes:["node-property:height:dimArray"],duration:1500})},updateJSON:function(e,t){if(!this.busy){this.busy=!0;for(var i=this.delegate,n=i.graph,o=e.label&&B.splat(e.label),a=e.values,r=this.config.animate,s=this,h={},l=0,c=a.length;l<c;l++)h[a[l].label]=a[l];n.eachNode(function(e){var i=h[e.name],n=e.getData("stringArray"),t=e.getData("valueArray"),a=e.getData("next");i&&(i.values=B.splat(i.values),B.each(t,function(e,t){e[0]=i.values[t],o&&(n[t]=o[t])}),e.setData("valueArray",t)),a&&(i=h[a])&&B.each(t,function(e,t){e[1]=i.values[t]})}),this.normalizeDims(),i.compute(),i.select(i.root),r&&i.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){s.busy=!1,t&&t.onComplete()}})}},filter:function(e,t){if(!this.busy){this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1);var a=B.splat(e),i=this.delegate.graph.getNode(this.delegate.root),n=this;this.normalizeDims(),i.eachAdjacency(function(e){var t=e.nodeTo,i=t.getData("dimArray","end"),n=t.getData("stringArray");t.setData("dimArray",B.map(i,function(e,t){return-1<B.indexOf(a,n[t])?e:[0,0]}),"end")}),this.delegate.fx.animate({modes:["node-property:dimArray"],duration:1500,onComplete:function(){n.busy=!1,t&&t.onComplete()}})}},restore:function(e){if(!this.busy){this.busy=!0,this.config.Tips.enable&&this.delegate.tips.hide(),this.select(!1,!1,!1),this.normalizeDims();var t=this;this.delegate.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){t.busy=!1,e&&e.onComplete()}})}},select:function(e,t,i){if(this.config.selectOnHover){var n=this.selected;if(n.id!=e||n.name!=t||n.index!=i){if(n.id=e,n.name=t,n.index=i,this.delegate.graph.eachNode(function(e){e.setData("border",!1)}),e){var a=this.delegate.graph.getNode(e);a.setData("border",n);var o=0===i?"prev":"next";(o=a.getData(o))&&(a=this.delegate.graph.getByName(o))&&a.setData("border",{name:t,index:1-i})}this.delegate.plot()}}},getLegend:function(){var t,i={};this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(e){t=e.nodeTo});var n=t.getData("colorArray"),a=n.length;return B.each(t.getData("stringArray"),function(e,t){i[e]=n[t%a]}),i},getMaxValue:function(){var o=0;return this.delegate.graph.eachNode(function(e){var t=e.getData("valueArray"),i=0,n=0;B.each(t,function(e){i+=+e[0],n+=+e[1]});var a=i<n?n:i;o=a<o?o:a}),o},normalizeDims:function(){var e=this.delegate.graph.getNode(this.delegate.root),t=0;e.eachAdjacency(function(){t++});var o=this.getMaxValue()||1,i=this.delegate.canvas.getSize(),n=this.config,a=n.Margin,r=n.labelOffset+n.Label.size,s=(i.width-(a.left+a.right))/t,h=n.animate,l=i.height-(a.top+a.bottom)-(n.showAggregates&&r)-(n.showLabels&&r);this.delegate.graph.eachNode(function(e){var t=0,i=0,n=[];B.each(e.getData("valueArray"),function(e){t+=+e[0],i+=+e[1],n.push([0,0])});var a=t<i?i:t;(e.setData("width",s),h)?(e.setData("height",a*l/o,"end"),e.setData("dimArray",B.map(e.getData("valueArray"),function(e){return[e[0]*l/o,e[1]*l/o]}),"end"),e.getData("dimArray")||e.setData("dimArray",n)):(e.setData("height",a*l/o),e.setData("dimArray",B.map(e.getData("valueArray"),function(e){return[e[0]*l/o,e[1]*l/o]})))})}}),o.BarChart={$extend:!0,animate:!0,type:"stacked",labelOffset:3,barsOffset:0,hoveredColor:"#9fd4ff",orientation:"horizontal",showAggregates:!0,showLabels:!0,Tips:{enable:!1,onShow:B.empty,onHide:B.empty},Events:{enable:!1,onClick:B.empty}},$jit.ST.Plot.NodeTypes.implement({"barchart-stacked":{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height"),o=this.getAlignedPos(i,n,a),r=o.x,s=o.y,h=e.getData("dimArray"),l=e.getData("valueArray"),c=e.getData("colorArray"),d=c.length,g=e.getData("stringArray"),f=t.getCtx(),u={},p=e.getData("border"),v=e.getData("gradient"),m=e.getData("config"),y="horizontal"==m.orientation,b=m.showAggregates,A=m.showLabels,x=m.Label;if(c&&h&&g){for(var w=0,C=h.length,N=0,D=0;w<C;w++){if(f.fillStyle=f.strokeStyle=c[w%d],v){var S;S=y?f.createLinearGradient(r+N+h[w]/2,s,r+N+h[w]/2,s+a):f.createLinearGradient(r,s-N-h[w]/2,r+n,s-N-h[w]/2);var E=B.rgbToHex(B.map(B.hexToRgb(c[w%d].slice(1)),function(e){return.5*e>>0}));S.addColorStop(0,E),S.addColorStop(.5,c[w%d]),S.addColorStop(1,E),f.fillStyle=S}y?f.fillRect(r+N,s,h[w],a):f.fillRect(r,s-N-h[w],n,h[w]),p&&p.name==g[w]&&(u.acum=N,u.dimValue=h[w]),N+=h[w]||0,D+=l[w]||0}if(p&&(f.save(),f.lineWidth=2,f.strokeStyle=p.color,y?f.strokeRect(r+u.acum+1,s+1,u.dimValue-2,a-2):f.strokeRect(r+1,s-u.acum-u.dimValue+1,n-2,u.dimValue-2),f.restore()),"Native"==x.type){f.save(),f.fillStyle=f.strokeStyle=x.color,f.font=x.style+" "+x.size+"px "+x.family,f.textBaseline="middle";var L=b(e.name,D,e);!1!==L&&(L=!0!==L?L:D,y?(f.textAlign="right",f.fillText(L,r+N-m.labelOffset,s+a/2)):(f.textAlign="center",f.fillText(L,r+n/2,s-a-x.size/2-m.labelOffset))),A(e.name,D,e)&&(y?(f.textAlign="center",f.translate(r-m.labelOffset-x.size/2,s+a/2),f.rotate(Math.PI/2),f.fillText(e.name,0,0)):(f.textAlign="center",f.fillText(e.name,r+n/2,s+x.size/2+m.labelOffset))),f.restore()}}},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height"),o=this.getAlignedPos(i,n,a),r=o.x,s=o.y,h=e.getData("dimArray"),l=e.getData("config"),c=(t.x,"horizontal"==l.orientation);if(c){if(t.x<r||t.x>r+n||t.y>s+a||t.y<s)return!1}else if(t.x<r||t.x>r+n||t.y>s||t.y<s-a)return!1;for(var d=0,g=h.length,f=c?r:s;d<g;d++){var u=h[d];if(c){var p=f+=u;if(t.x<=p)return{name:e.getData("stringArray")[d],color:e.getData("colorArray")[d],value:e.getData("valueArray")[d],label:e.name}}else{p=f-=u;if(t.y>=p)return{name:e.getData("stringArray")[d],color:e.getData("colorArray")[d],value:e.getData("valueArray")[d],label:e.name}}}return!1}},"barchart-grouped":{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height"),o=this.getAlignedPos(i,n,a),r=o.x,s=o.y,h=e.getData("dimArray"),l=e.getData("valueArray"),c=l.length,d=e.getData("colorArray"),g=d.length,f=e.getData("stringArray"),u=t.getCtx(),p={},v=e.getData("border"),m=e.getData("gradient"),y=e.getData("config"),b="horizontal"==y.orientation,A=y.showAggregates,x=y.showLabels,w=y.Label,C=(b?a:n)/c;if(d&&h&&f){for(var N=0,D=c,S=0;N<D;N++){if(u.fillStyle=u.strokeStyle=d[N%g],m){var E;E=b?u.createLinearGradient(r+h[N]/2,s+C*N,r+h[N]/2,s+C*(N+1)):u.createLinearGradient(r+C*N,s-h[N]/2,r+C*(N+1),s-h[N]/2);var L=B.rgbToHex(B.map(B.hexToRgb(d[N%g].slice(1)),function(e){return.5*e>>0}));E.addColorStop(0,L),E.addColorStop(.5,d[N%g]),E.addColorStop(1,L),u.fillStyle=E}b?u.fillRect(r,s+C*N,h[N],C):u.fillRect(r+C*N,s-h[N],C,h[N]),v&&v.name==f[N]&&(p.acum=C*N,p.dimValue=h[N]),h[N]||0,S+=l[N]||0}if(v&&(u.save(),u.lineWidth=2,u.strokeStyle=v.color,b?u.strokeRect(r+1,s+p.acum+1,p.dimValue-2,C-2):u.strokeRect(r+p.acum+1,s-p.dimValue+1,C-2,p.dimValue-2),u.restore()),"Native"==w.type){u.save(),u.fillStyle=u.strokeStyle=w.color,u.font=w.style+" "+w.size+"px "+w.family,u.textBaseline="middle";var T=A(e.name,S,e);!1!==T&&(T=!0!==T?T:S,b?(u.textAlign="right",u.fillText(T,r+Math.max.apply(null,h)-y.labelOffset,s+a/2)):(u.textAlign="center",u.fillText(T,r+n/2,s-Math.max.apply(null,h)-w.size/2-y.labelOffset)));var I=x(e.name,S,e);!1!==I&&(I=!0!==I?I:e.name,b?(u.textAlign="center",u.translate(r-y.labelOffset-w.size/2,s+a/2),u.rotate(Math.PI/2),u.fillText(I,0,0)):(u.textAlign="center",u.fillText(I,r+n/2,s+w.size/2+y.labelOffset))),u.restore()}}},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height"),o=this.getAlignedPos(i,n,a),r=o.x,s=o.y,h=e.getData("dimArray"),l=h.length,c=e.getData("config"),d=(t.x,"horizontal"==c.orientation),g=(d?a:n)/l;if(d){if(t.x<r||t.x>r+n||t.y>s+a||t.y<s)return!1}else if(t.x<r||t.x>r+n||t.y>s||t.y<s-a)return!1;for(var f=0,u=h.length;f<u;f++){var p=h[f];if(d){var v=s+g*f;if(t.x<=r+p&&t.y>=v&&t.y<=v+g)return{name:e.getData("stringArray")[f],color:e.getData("colorArray")[f],value:e.getData("valueArray")[f],label:e.name}}else{v=r+g*f;if(t.x>=v&&t.x<=v+g&&t.y>=s-p)return{name:e.getData("stringArray")[f],color:e.getData("colorArray")[f],value:e.getData("valueArray")[f],label:e.name}}}return!1}}}),$jit.BarChart=new r({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(e){this.controller=this.config=B.merge(o("Canvas","Margin","Label","BarChart"),{Label:{type:"Native"}},e);var t=this.config.showLabels,i=B.type(t),n=this.config.showAggregates,a=B.type(n);this.config.showLabels="function"==i?t:B.lambda(t),this.config.showAggregates="function"==a?n:B.lambda(n),this.initializeViz()},initializeViz:function(){var m=this.config,a=this,e=m.type.split(":")[0],t="horizontal"==m.orientation,y={},i=new $jit.ST({injectInto:m.injectInto,width:m.width,height:m.height,orientation:t?"left":"bottom",levelDistance:0,siblingOffset:m.barsOffset,subtreeOffset:0,withLabels:"Native"!=m.Label.type,useCanvas:m.useCanvas,Label:{type:m.Label.type},Node:{overridable:!0,type:"barchart-"+e,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:m.Tips.enable,type:"Native",force:!0,onShow:function(e,t,i){var n=i;m.Tips.onShow(e,n,t)}},Events:{enable:!0,type:"Native",onClick:function(e,t,i){if(m.Events.enable){var n=t.getContains();m.Events.onClick(n,t,i)}},onMouseMove:function(e,t,i){if(m.hoveredColor)if(e){var n=t.getContains();a.select(e.id,n.name,n.index)}else a.select(!1,!1,!1)}},onCreateLabel:function(e,t){var i=m.Label,n=t.getData("valueArray"),a=B.reduce(n,function(e,t){return e+t},0),o={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")},r=o.wrapper,s=o.label,h=o.aggregate,l=r.style,c=s.style,d=h.style;y[t.id]=o,r.appendChild(s),r.appendChild(h),m.showLabels(t.name,a,t)||(c.display="none"),m.showAggregates(t.name,a,t)||(d.display="none"),l.position="relative",l.overflow="visible",l.fontSize=i.size+"px",l.fontFamily=i.family,l.color=i.color,l.textAlign="center",d.position=c.position="absolute",e.style.width=t.getData("width")+"px",e.style.height=t.getData("height")+"px",d.left=c.left="0px",s.innerHTML=t.name,e.appendChild(r)},onPlaceLabel:function(e,t){if(y[t.id]){var i=y[t.id],n=i.wrapper.style,a=i.label.style,o=i.aggregate.style,r="grouped"==m.type.split(":")[0],s="horizontal"==m.orientation,h=t.getData("dimArray"),l=t.getData("valueArray"),c=r&&s?Math.max.apply(null,h):t.getData("width"),d=r&&!s?Math.max.apply(null,h):t.getData("height"),g=parseInt(n.fontSize,10);e.style;if(h&&l){n.width=o.width=a.width=e.style.width=c+"px";for(var f=0,u=l.length,p=0;f<u;f++)0<h[f]&&(p+=l[f]);m.showLabels(t.name,p,t)?a.display="":a.display="none";var v=m.showAggregates(t.name,p,t);o.display=!1!==v?"":"none","horizontal"==m.orientation?(o.textAlign="right",a.textAlign="left",a.textIndex=o.textIndent=m.labelOffset+"px",o.top=a.top=(d-g)/2+"px"):(o.top=-g-m.labelOffset+"px",a.top=m.labelOffset+d+"px",e.style.top=parseInt(e.style.top,10)-d+"px"),e.style.height=n.height=d+"px",i.aggregate.innerHTML=!0!==v?v:p}}}}),n=i.canvas.getSize(),o=m.Margin;t?(i.config.offsetX=n.width/2-o.left-(m.showLabels&&m.labelOffset+m.Label.size),i.config.offsetY=(o.bottom-o.top)/2):(i.config.offsetY=-n.height/2+o.bottom+(m.showLabels&&m.labelOffset+m.Label.size),i.config.offsetX=(o.right-o.left)/2),this.delegate=i,this.canvas=this.delegate.canvas},loadJSON:function(e){if(!this.busy){this.busy=!0;for(var t=B.time(),i=[],n=this.delegate,a=B.splat(e.label),o=B.splat(e.color||this.colors),r=this.config,s=!!r.type.split(":")[1],h=r.animate,l="horizontal"==r.orientation,c=this,d=0,g=e.values,f=g.length;d<f;d++){var u=g[d],p=B.splat(g[d].values);void 0===u.id&&(u.id=u.label),i.push({id:t+u.id,name:u.label,data:{value:p,$valueArray:p,$colorArray:o,$stringArray:a,$gradient:s,$config:r},children:[]})}var v={id:t+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:i};n.loadJSON(v),this.normalizeDims(),n.compute(),n.select(n.root),h?l?n.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){c.busy=!1}}):n.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){c.busy=!1}}):this.busy=!1}},updateJSON:function(i,e){if(!this.busy){this.busy=!0,this.select(!1,!1,!1);var t=this.delegate,n=t.graph,a=i.values,o=this.config.animate,r=this,s="horizontal"==this.config.orientation;B.each(a,function(e){var t=n.getByName(e.label);t&&(t.setData("valueArray",B.splat(e.values)),i.label&&t.setData("stringArray",B.splat(i.label)))}),this.normalizeDims(),t.compute(),t.select(t.root),o&&(s?t.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){r.busy=!1,e&&e.onComplete()}}):t.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){r.busy=!1,e&&e.onComplete()}}))}},select:function(t,e){if(this.config.hoveredColor){var i=this.selected;i.id==t&&i.name==e||(i.id=t,i.name=e,i.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(e){t==e.id?e.setData("border",i):e.setData("border",!1)}),this.delegate.plot())}},getLegend:function(){var t,i={};this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(e){t=e.nodeTo});var n=t.getData("colorArray"),a=n.length;return B.each(t.getData("stringArray"),function(e,t){i[e]=n[t%a]}),i},getMaxValue:function(){var n=0,a="stacked"==this.config.type.split(":")[0];return this.delegate.graph.eachNode(function(e){var t=e.getData("valueArray"),i=0;t&&(a?B.each(t,function(e){i+=+e}):i=Math.max.apply(null,t),n=i<n?n:i)}),n},setBarType:function(e){this.config.type=e,this.delegate.config.Node.type="barchart-"+e.split(":")[0]},normalizeDims:function(){var e=this.delegate.graph.getNode(this.delegate.root),t=0;e.eachAdjacency(function(){t++});var n=this.getMaxValue()||1,i=this.delegate.canvas.getSize(),a=this.config,o=a.Margin,r=o.left+o.right,s=o.top+o.bottom,h="horizontal"==a.orientation,l=(i[h?"height":"width"]-(h?s:r)-(t-1)*a.barsOffset)/t,c=a.animate,d=i[h?"width":"height"]-(h?r:s)-(!h&&a.showAggregates&&a.Label.size+a.labelOffset)-(a.showLabels&&a.Label.size+a.labelOffset),g=h?"height":"width",f=h?"width":"height";this.delegate.graph.eachNode(function(e){var t=0,i=[];(B.each(e.getData("valueArray"),function(e){t+=+e,i.push(0)}),e.setData(g,l),c)?(e.setData(f,t*d/n,"end"),e.setData("dimArray",B.map(e.getData("valueArray"),function(e){return e*d/n}),"end"),e.getData("dimArray")||e.setData("dimArray",i)):(e.setData(f,t*d/n),e.setData("dimArray",B.map(e.getData("valueArray"),function(e){return e*d/n})))})}}),o.PieChart={$extend:!0,animate:!0,offset:25,sliceOffset:0,labelOffset:3,type:"stacked",hoveredColor:"#9fd4ff",Events:{enable:!1,onClick:B.empty},Tips:{enable:!1,onShow:B.empty,onHide:B.empty},showLabels:!0,resizeLabels:!1,updateHeights:!1},N.Radial=new r({compute:function(e){var t=B.splat(e||["current","start","end"]);D.compute(this.graph,t,this.config),this.graph.computeLevels(this.root,0,"ignore");var i=this.createLevelDistanceFunc();this.computeAngularWidths(t),this.computePositions(t,i)},computePositions:function(e,p){for(var v=e,t=this.graph,i=t.getNode(this.root),m=this.parent,n=(this.config,0),a=v.length;n<a;n++){var o=v[n];i.setPos(y(0,0),o),i.setData("span",2*Math.PI,o)}i.angleSpan={begin:0,end:2*Math.PI},t.eachBFS(this.root,function(e){var t=e.angleSpan.end-e.angleSpan.begin,i=e.angleSpan.begin,n=p(e),o=0,r=[],s={};e.eachSubnode(function(e){o+=e._treeAngularWidth;for(var t=0,i=v.length;t<i;t++){var n=v[t],a=e.getData("dim",n);s[n]=n in s?a>s[n]?a:s[n]:a}r.push(e)},"ignore"),m&&m.id==e.id&&0<r.length&&r[0].dist&&r.sort(function(e,t){return(e.dist>=t.dist)-(e.dist<=t.dist)});for(var a=0,h=r.length;a<h;a++){var l=r[a];if(!l._flag){for(var c=l._treeAngularWidth/o*t,d=i+c/2,g=0,f=v.length;g<f;g++){var u=v[g];l.setPos(y(d,n),u),l.setData("span",c,u),l.setData("dim-quotient",l.getData("dim",u)/s[u],u)}l.angleSpan={begin:i,end:i+c},i+=c}}},"ignore")},setAngularWidthForNodes:function(n){this.graph.eachBFS(this.root,function(e,t){var i=e.getData("angularWidth",n[0])||5;e._angularWidth=i/t},"ignore")},setSubtreesAngularWidth:function(){var t=this;this.graph.eachNode(function(e){t.setSubtreeAngularWidth(e)},"ignore")},setSubtreeAngularWidth:function(e){var t=this,i=e._angularWidth,n=0;e.eachSubnode(function(e){t.setSubtreeAngularWidth(e),n+=e._treeAngularWidth},"ignore"),e._treeAngularWidth=Math.max(i,n)},computeAngularWidths:function(e){this.setAngularWidthForNodes(e),this.setSubtreesAngularWidth()}}),$jit.Sunburst=new r({Implements:[C,g,N.Radial],initialize:function(e){var t=$jit.Sunburst;this.controller=this.config=B.merge(o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),{interpolation:"linear",levelDistance:100,Node:{type:"multipie",height:0},Edge:{type:"none"},Label:{textAlign:"start",textBaseline:"middle"}},e);var i=this.config;i.useCanvas?(this.canvas=i.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(i.background&&(i.background=B.merge({type:"Circles"},i.background)),this.canvas=new p(this,i),this.config.labelContainer=("string"==typeof i.injectInto?i.injectInto:i.injectInto.id)+"-label"),this.graphOptions={klass:P,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new u(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new t.Label[i.Label.type](this),this.fx=new t.Plot(this,t),this.op=new t.Op(this),this.json=null,this.root=null,this.rotated=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var t=this.config.levelDistance;return function(e){return(e._depth+1)*t}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},rotate:function(e,t,i){var n=e.getPos(i.property||"current").getp(!0).theta;this.rotated=e,this.rotateAngle(-n,t,i)},rotateAngle:function(i,e,t){var n=B.merge(this.config,t||{},{modes:["polar"]}),a=t.property||("animate"===e?"end":"current");"animate"===e&&this.fx.animation.pause(),this.graph.eachNode(function(e){var t=e.getPos(a);t.theta+=i,t.theta<0&&(t.theta+=2*Math.PI)}),"animate"==e?this.fx.animate(n):"replot"==e&&(this.fx.plot(),this.busy=!1)},plot:function(){this.fx.plot()}}),$jit.Sunburst.$extend=!0,(x=$jit.Sunburst).Op=new r({Implements:u.Op}),x.Plot=new r({Implements:u.Plot}),x.Label={},x.Label.Native=new r({Implements:u.Label.Native,initialize:function(e){this.viz=e,this.label=e.config.Label,this.config=e.config},renderLabel:function(e,t,i){var n=t.getData("span");if(!(n<Math.PI/2&&Math.tan(n)*this.config.levelDistance*t._depth<10)){var a=e.getCtx(),o=a.measureText(t.name);if(t.id==this.viz.root)var r=-o.width/2,s=0,h=0;else{i.levelDistance;var l=t.pos.clone();l.rho+=5;var c=l.getp(!0),d=l.getc(!0),g=(r=d.x,s=d.y,Math.PI),f=c.theta>g/2&&c.theta<3*g/2;h=f?c.theta+g:c.theta,f?(r-=Math.abs(Math.cos(c.theta)*o.width),s+=Math.sin(c.theta)*o.width):t.id==this.viz.root&&(r-=o.width/2)}a.save(),a.translate(r,s),a.rotate(h),a.fillText(t.name,0,0),a.restore()}}}),x.Label.SVG=new r({Implements:u.Label.SVG,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz,o=this.viz.canvas.getSize(),r={x:Math.round(n.x+o.width/2),y:Math.round(n.y+o.height/2)};e.setAttribute("x",r.x),e.setAttribute("y",r.y);var s=e.getBBox();if(s){var h=e.getAttribute("x"),l=e.getAttribute("y"),c=t.pos.getp(!0),d=Math.PI,g=c.theta>d/2&&c.theta<3*d/2;g?(e.setAttribute("x",h-s.width),e.setAttribute("y",l-s.height)):t.id==a.root&&e.setAttribute("x",h-s.width/2);var f=g?c.theta+d:c.theta;t._depth&&e.setAttribute("transform","rotate("+360*f/(2*d)+" "+h+" "+l+")")}i.onPlaceLabel(e,t)}}),x.Label.HTML=new r({Implements:u.Label.HTML,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.clone(),a=this.viz.canvas,o=t.getData("height"),r=(o||0==t._depth?o:this.viz.config.levelDistance)/2,s=a.getSize();n.rho+=r,n=n.getc(!0);var h={x:Math.round(n.x+s.width/2),y:Math.round(n.y+s.height/2)},l=e.style;l.left=h.x+"px",l.top=h.y+"px",l.display=this.fitsInCanvas(h,a)?"":"none",i.onPlaceLabel(e,t)}}),x.Plot.NodeTypes=new r({none:{render:B.empty,contains:B.lambda(!1),anglecontains:function(e,t){var i=e.getData("span")/2,n=e.pos.theta,a=n-i,o=n+i;a<0&&(a+=2*Math.PI);var r=Math.atan2(t.y,t.x);return r<0&&(r+=2*Math.PI),o<a?a<r&&r<=2*Math.PI||r<o:a<r&&r<o}},pie:{render:function(e,t){var i=e.getData("span")/2,n=e.pos.theta,a=n-i,o=n+i,r=e.pos.getp(!0),s=new P(r.rho,a),h=s.getc(!0);s.theta=o;var l=s.getc(!0),c=t.getCtx();c.beginPath(),c.moveTo(0,0),c.lineTo(h.x,h.y),c.moveTo(0,0),c.lineTo(l.x,l.y),c.moveTo(0,0),c.arc(0,0,r.rho*e.getData("dim-quotient"),a,o,!1),c.fill()},contains:function(e,t){return!!this.nodeTypes.none.anglecontains.call(this,e,t)&&Math.sqrt(t.x*t.x+t.y*t.y)<=this.config.levelDistance*e._depth}},multipie:{render:function(e,t){var i=e.getData("height"),n=i||this.config.levelDistance,a=e.getData("span")/2,o=e.pos.theta,r=o-a,s=o+a,h=e.pos.getp(!0),l=new P(h.rho,r),c=l.getc(!0);l.theta=s;var d=l.getc(!0);l.rho+=n;var g=l.getc(!0);l.theta=r;var f=l.getc(!0),u=t.getCtx();u.moveTo(0,0),u.beginPath(),u.arc(0,0,h.rho,r,s,!1),u.arc(0,0,h.rho+n,s,r,!0),u.moveTo(c.x,c.y),u.lineTo(f.x,f.y),u.moveTo(d.x,d.y),u.lineTo(g.x,g.y),u.fill(),e.collapsed&&(u.save(),u.lineWidth=2,u.moveTo(0,0),u.beginPath(),u.arc(0,0,h.rho+n+5,s-.01,r+.01,!0),u.stroke(),u.restore())},contains:function(e,t){if(this.nodeTypes.none.anglecontains.call(this,e,t)){var i=Math.sqrt(t.x*t.x+t.y*t.y),n=e.getData("height"),a=n||this.config.levelDistance,o=this.config.levelDistance,r=e._depth;return o*r<=i&&i<=o*r+a}return!1}},"gradient-multipie":{render:function(e,t){var i=t.getCtx(),n=e.getData("height"),a=n||this.config.levelDistance,o=i.createRadialGradient(0,0,e.getPos().rho,0,0,e.getPos().rho+a),r=B.hexToRgb(e.getData("color")),s=[];B.each(r,function(e){s.push(parseInt(.5*e,10))});var h=B.rgbToHex(s);o.addColorStop(0,h),o.addColorStop(1,e.getData("color")),i.fillStyle=o,this.nodeTypes.multipie.render.call(this,e,t)},contains:function(e,t){return this.nodeTypes.multipie.contains.call(this,e,t)}},"gradient-pie":{render:function(e,t){var i=t.getCtx(),n=i.createRadialGradient(0,0,0,0,0,e.getPos().rho),a=B.hexToRgb(e.getData("color")),o=[];B.each(a,function(e){o.push(parseInt(.5*e,10))});var r=B.rgbToHex(o);n.addColorStop(1,r),n.addColorStop(0,e.getData("color")),i.fillStyle=n,this.nodeTypes.pie.render.call(this,e,t)},contains:function(e,t){return this.nodeTypes.pie.contains.call(this,e,t)}}}),x.Plot.EdgeTypes=new r({none:B.empty,line:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);this.edgeHelper.line.render(i,n,t)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(i,n,t,this.edge.epsilon)}},arrow:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0),a=e.getData("dim"),o=e.data.$direction,r=o&&1<o.length&&o[0]!=e.nodeFrom.id;this.edgeHelper.arrow.render(i,n,a,r,t)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(i,n,t,this.edge.epsilon)}},hyperline:{render:function(e,t){var i=e.nodeFrom.pos.getc(),n=e.nodeTo.pos.getc(),a=Math.max(i.norm(),n.norm());this.edgeHelper.hyperline.render(i.$scale(1/a),n.$scale(1/a),a,t)},contains:B.lambda(!1)}}),$jit.Sunburst.Plot.NodeTypes.implement({"piechart-stacked":{render:function(e,t){e.pos.getp(!0);var i=e.getData("dimArray"),n=e.getData("valueArray"),a=e.getData("colorArray"),o=a.length,r=e.getData("stringArray"),s=e.getData("span")/2,h=e.pos.theta,l=h-s,c=h+s,d=new P,g=t.getCtx(),f={},u=e.getData("gradient"),p=e.getData("border"),v=e.getData("config"),m=v.showLabels,y=v.resizeLabels,b=v.Label,A=v.sliceOffset*Math.cos((l+c)/2),x=v.sliceOffset*Math.sin((l+c)/2);if(a&&i&&r){for(var w=0,C=i.length,N=0;w<C;w++){var D=i[w],S=a[w%o];if(!(D<=0)){if(g.fillStyle=g.strokeStyle=S,u&&D){var E=g.createRadialGradient(A,x,N+v.sliceOffset,A,x,N+D+v.sliceOffset),L=B.hexToRgb(S),T=B.map(L,function(e){return.8*e>>0}),I=B.rgbToHex(T);E.addColorStop(0,S),E.addColorStop(.5,S),E.addColorStop(1,I),g.fillStyle=E}d.rho=N+v.sliceOffset,d.theta=l;d.getc(!0);d.theta=c;d.getc(!0);d.rho+=D;d.getc(!0);d.theta=l;d.getc(!0);g.beginPath(),g.arc(A,x,N+.01,l,c,!1),g.arc(A,x,N+D+.01,c,l,!0),g.fill(),p&&p.name==r[w]&&(f.acum=N,f.dimValue=i[w],f.begin=l,f.end=c),N+=D||0,n[w]||0}}if(p){g.save(),g.globalCompositeOperation="source-over",g.lineWidth=2,g.strokeStyle=p.color;g.beginPath(),g.arc(A,x,f.acum+.01+1,f.begin,f.end,!1),g.arc(A,x,f.acum+f.dimValue+.01-1,f.end,f.begin,!0),g.closePath(),g.stroke(),g.restore()}if(m&&"Native"==b.type){g.save(),g.fillStyle=g.strokeStyle=b.color;var M=y?e.getData("normalizedDim"):1,z=b.size*M>>0;z=z<+y?+y:z,g.font=b.style+" "+z+"px "+b.family,g.textBaseline="middle",g.textAlign="center",d.rho=N+v.labelOffset+v.sliceOffset,d.theta=e.pos.theta;var O=d.getc(!0);g.fillText(e.name,O.x,O.y),g.restore()}}},contains:function(e,t){if(this.nodeTypes.none.anglecontains.call(this,e,t)){var i=Math.sqrt(t.x*t.x+t.y*t.y),n=this.config.levelDistance,a=e._depth,o=e.getData("config");if(i<=n*a+o.sliceOffset)for(var r=e.getData("dimArray"),s=0,h=r.length,l=o.sliceOffset;s<h;s++){var c=r[s];if(l<=i&&i<=l+c)return{name:e.getData("stringArray")[s],color:e.getData("colorArray")[s],value:e.getData("valueArray")[s],label:e.name};l+=c}return!1}return!1}}}),$jit.PieChart=new r({sb:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:!1,initialize:function(e){this.controller=this.config=B.merge(o("Canvas","PieChart","Label"),{Label:{type:"Native"}},e),this.initializeViz()},initializeViz:function(){var b=this.config,A=this,e=b.type.split(":")[0],t=new $jit.Sunburst({injectInto:b.injectInto,width:b.width,height:b.height,useCanvas:b.useCanvas,withLabels:"Native"!=b.Label.type,Label:{type:b.Label.type},Node:{overridable:!0,type:"piechart-"+e,width:1,height:1},Edge:{type:"none"},Tips:{enable:b.Tips.enable,type:"Native",force:!0,onShow:function(e,t,i){var n=i;b.Tips.onShow(e,n,t)}},Events:{enable:!0,type:"Native",onClick:function(e,t,i){if(b.Events.enable){var n=t.getContains();b.Events.onClick(n,t,i)}},onMouseMove:function(e,t,i){if(b.hoveredColor)if(e){var n=t.getContains();A.select(e.id,n.name,n.index)}else A.select(!1,!1,!1)}},onCreateLabel:function(e,t){var i=b.Label;if(b.showLabels){var n=e.style;n.fontSize=i.size+"px",n.fontFamily=i.family,n.color=i.color,n.textAlign="center",e.innerHTML=t.name}},onPlaceLabel:function(e,t){if(b.showLabels){var i=t.pos.getp(!0),n=t.getData("dimArray"),a=t.getData("span")/2,o=t.pos.theta,r=o-a,s=o+a,h=new P,l=(b.showLabels,b.resizeLabels),c=b.Label;if(n){for(var d=0,g=n.length,f=0;d<g;d++)f+=n[d];var u=l?t.getData("normalizedDim"):1,p=c.size*u>>0;p=p<+l?+l:p,e.style.fontSize=p+"px",h.rho=f+b.labelOffset+b.sliceOffset,h.theta=(r+s)/2;i=h.getc(!0);var v=A.canvas.getSize(),m=Math.round(i.x+v.width/2),y=Math.round(i.y+v.height/2);e.style.left=m+"px",e.style.top=y+"px"}}}}),i=t.canvas.getSize(),n=Math.min;t.config.levelDistance=n(i.width,i.height)/2-b.offset-b.sliceOffset,this.delegate=t,this.canvas=this.delegate.canvas,this.canvas.getCtx().globalCompositeOperation="lighter"},loadJSON:function(e){for(var t=B.time(),i=[],n=this.delegate,a=B.splat(e.label),o=a.length,r=B.splat(e.color||this.colors),s=r.length,h=this.config,l=!!h.type.split(":")[1],c=h.animate,d=1==o,g=0,f=e.values,u=f.length;g<u;g++){var p=f[g],v=B.splat(p.values);i.push({id:t+p.label,name:p.label,data:{value:v,$valueArray:v,$colorArray:d?B.splat(r[g%s]):r,$stringArray:a,$gradient:l,$config:h,$angularWidth:B.reduce(v,function(e,t){return e+t})},children:[]})}var m={id:t+"$root",name:"",data:{$type:"none",$width:1,$height:1},children:i};n.loadJSON(m),this.normalizeDims(),n.refresh(),c&&n.fx.animate({modes:["node-property:dimArray"],duration:1500})},updateJSON:function(n,e){if(!this.busy){this.busy=!0;var t=this.delegate,a=t.graph,i=n.values,o=this.config.animate,r=this;B.each(i,function(e){var t=a.getByName(e.label),i=B.splat(e.values);t&&(t.setData("valueArray",i),t.setData("angularWidth",B.reduce(i,function(e,t){return e+t})),n.label&&t.setData("stringArray",B.splat(n.label)))}),this.normalizeDims(),o?(t.compute("end"),t.fx.animate({modes:["node-property:dimArray:span","linear"],duration:1500,onComplete:function(){r.busy=!1,e&&e.onComplete()}})):t.refresh()}},select:function(t,e){if(this.config.hoveredColor){var i=this.selected;i.id==t&&i.name==e||(i.id=t,i.name=e,i.color=this.config.hoveredColor,this.delegate.graph.eachNode(function(e){t==e.id?e.setData("border",i):e.setData("border",!1)}),this.delegate.plot())}},getLegend:function(){var t,i={};this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(e){t=e.nodeTo});var n=t.getData("colorArray"),a=n.length;return B.each(t.getData("stringArray"),function(e,t){i[e]=n[t%a]}),i},getMaxValue:function(){var n=0;return this.delegate.graph.eachNode(function(e){var t=e.getData("valueArray"),i=0;B.each(t,function(e){i+=+e}),n=i<n?n:i}),n},normalizeDims:function(){var e=this.delegate.graph.getNode(this.delegate.root);e.eachAdjacency(function(){0});var a=this.getMaxValue()||1,o=this.config,r=o.animate,s=this.delegate.config.levelDistance;this.delegate.graph.eachNode(function(e){var t=0,i=[];B.each(e.getData("valueArray"),function(e){t+=+e,i.push(1)});var n=1==i.length&&!o.updateHeights;r?(e.setData("dimArray",B.map(e.getData("valueArray"),function(e){return n?s:e*s/a}),"end"),e.getData("dimArray")||e.setData("dimArray",i)):e.setData("dimArray",B.map(e.getData("valueArray"),function(e){return n?s:e*s/a}));e.setData("normalizedDim",t/a)})}}),N.TM={},N.TM.SliceAndDice=new r({compute:function(e){var t=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(t);var i=this.canvas.getSize(),n=this.config,a=i.width,o=i.height;this.graph.computeLevels(this.root,0,"ignore"),t.getPos(e).setc(-a/2,-o/2),t.setData("width",a,e),t.setData("height",o+n.titleHeight,e),this.computePositions(t,t,this.layout.orientation,e),this.controller.onAfterCompute(t)},computePositions:function(e,i,n,a){var t=0;e.eachSubnode(function(e){t+=e.getData("area",a)});var o,r,s,h,l,c,d,g=this.config,f=(g.offset,e.getData("width",a)),u=Math.max(e.getData("height",a)-g.titleHeight,0),p=e==i?1:i.getData("area",a)/t;d="h"==n?(n="v",o=u,r=f*p,s="height",h="y",l="x",c=g.titleHeight,0):(n="h",o=u*p,r=f,s="width",h="x",l="y",c=0,g.titleHeight);var v=i.getPos(a);i.setData("width",r,a),i.setData("height",o,a);var m=0,y=this;i.eachSubnode(function(e){var t=e.getPos(a);t[h]=m+v[h]+c,t[l]=v[l]+d,y.computePositions(i,e,n,a),m+=e.getData(s,a)})}}),N.TM.Area={compute:function(e){e=e||"current";var t=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(t);var i=this.config,n=this.canvas.getSize(),a=n.width,o=n.height,r=i.offset,s=a-r,h=o-r;this.graph.computeLevels(this.root,0,"ignore"),t.getPos(e).setc(-a/2,-o/2),t.setData("width",a,e),t.setData("height",o,e);var l={top:-o/2+i.titleHeight+r/2,left:-a/2+r/2,width:s,height:h-i.titleHeight};this.computePositions(t,l,e),this.controller.onAfterCompute(t)},computeDim:function(e,t,i,n,a,o){if(e.length+t.length!=1)if(2<=e.length&&0==t.length&&(t=[e.shift()]),0!=e.length){var r=e[0];if(a(t,i)>=a([r].concat(t),i))this.computeDim(e.slice(1),t.concat([r]),i,n,a,o);else{var s=this.layoutRow(t,i,n,o);this.computeDim(e,[],s.dim,s,a,o)}}else 0<t.length&&this.layoutRow(t,i,n,o);else{var h=1==e.length?e:t;this.layoutLast(h,i,n,o)}},worstAspectRatio:function(e,t){if(!e||0==e.length)return Number.MAX_VALUE;for(var i=0,n=0,a=Number.MAX_VALUE,o=0,r=e.length;o<r;o++){var s=e[o]._area;i+=s,a=a<s?a:s,n=s<n?n:s}var h=t*t,l=i*i;return Math.max(h*n/l,l/(h*a))},avgAspectRatio:function(e,t){if(!e||0==e.length)return Number.MAX_VALUE;for(var i=0,n=0,a=e.length;n<a;n++){var o=e[n]._area/t;i+=o<t?t/o:o/t}return i/a},layoutLast:function(e,t,i,n){var a=e[0];a.getPos(n).setc(i.left,i.top),a.setData("width",i.width,n),a.setData("height",i.height,n)}},N.TM.Squarified=new r({Implements:N.TM.Area,computePositions:function(e,t,i){var n=this.config,a=Math.max;t.width>=t.height?this.layout.orientation="h":this.layout.orientation="v";var o=e.getSubnodes([1,1],"ignore");if(0<o.length){this.processChildrenLayout(e,o,t,i);for(var r=0,s=o.length;r<s;r++){var h=o[r],l=n.offset,c=a(h.getData("height",i)-l-n.titleHeight,0),d=a(h.getData("width",i)-l,0),g=h.getPos(i);t={width:d,height:c,top:g.y+n.titleHeight+l/2,left:g.x+l/2},this.computePositions(h,t,i)}}},processChildrenLayout:function(e,t,i,n){var a,o=i.width*i.height,r=t.length,s=0,h=[];for(a=0;a<r;a++)h[a]=parseFloat(t[a].getData("area",n)),s+=h[a];for(a=0;a<r;a++)t[a]._area=o*h[a]/s;var l=this.layout.horizontal()?i.height:i.width;t.sort(function(e,t){var i=t._area-e._area;return i||(t.id==e.id?0:t.id<e.id?1:-1)});var c=[t[0]],d=t.slice(1);this.squarify(d,c,l,i,n)},squarify:function(e,t,i,n,a){this.computeDim(e,t,i,n,this.worstAspectRatio,a)},layoutRow:function(e,t,i,n){return this.layout.horizontal()?this.layoutV(e,t,i,n):this.layoutH(e,t,i,n)},layoutV:function(e,t,i,n){var a=0,o=function(e){return e};B.each(e,function(e){a+=e._area});for(var r=o(a/t)||0,s=0,h=0,l=e.length;h<l;h++){var c=o(e[h]._area/r)||0,d=e[h];d.getPos(n).setc(i.left,i.top+s),d.setData("width",r,n),d.setData("height",c,n),s+=c}var g={height:i.height,width:i.width-r,top:i.top,left:i.left+r};return g.dim=Math.min(g.width,g.height),g.dim!=g.height&&this.layout.change(),g},layoutH:function(e,t,i,n){var a=0;B.each(e,function(e){a+=e._area});for(var o=a/t||0,r=i.top,s=0,h=0,l=e.length;h<l;h++){var c=e[h];t=c._area/o||0;c.getPos(n).setc(i.left+s,r),c.setData("width",t,n),c.setData("height",o,n),s+=t}var d={height:i.height-o,width:i.width,top:i.top+o,left:i.left};return d.dim=Math.min(d.width,d.height),d.dim!=d.width&&this.layout.change(),d}}),N.TM.Strip=new r({Implements:N.TM.Area,computePositions:function(e,t,i){var n=e.getSubnodes([1,1],"ignore"),a=this.config,o=Math.max;if(0<n.length){this.processChildrenLayout(e,n,t,i);for(var r=0,s=n.length;r<s;r++){var h=n[r],l=a.offset,c=o(h.getData("height",i)-l-a.titleHeight,0),d=o(h.getData("width",i)-l,0),g=h.getPos(i);t={width:d,height:c,top:g.y+a.titleHeight+l/2,left:g.x+l/2},this.computePositions(h,t,i)}}},processChildrenLayout:function(e,t,i,n){var a,o=i.width*i.height,r=t.length,s=0,h=[];for(a=0;a<r;a++)h[a]=+t[a].getData("area",n),s+=h[a];for(a=0;a<r;a++)t[a]._area=o*h[a]/s;var l=this.layout.horizontal()?i.width:i.height,c=[t[0]],d=t.slice(1);this.stripify(d,c,l,i,n)},stripify:function(e,t,i,n,a){this.computeDim(e,t,i,n,this.avgAspectRatio,a)},layoutRow:function(e,t,i,n){return this.layout.horizontal()?this.layoutH(e,t,i,n):this.layoutV(e,t,i,n)},layoutV:function(e,t,i,n){var a=0;B.each(e,function(e){a+=e._area});for(var o=a/t||0,r=0,s=0,h=e.length;s<h;s++){var l=e[s],c=l._area/o||0;l.getPos(n).setc(i.left,i.top+(t-c-r)),l.setData("width",o,n),l.setData("height",c,n),r+=c}return{height:i.height,width:i.width-o,top:i.top,left:i.left+o,dim:t}},layoutH:function(e,t,i,n){var a=0;B.each(e,function(e){a+=e._area});for(var o=a/t||0,r=i.height-o,s=0,h=0,l=e.length;h<l;h++){var c=e[h],d=c._area/o||0;c.getPos(n).setc(i.left+s,i.top+r),c.setData("width",d,n),c.setData("height",o,n),s+=d}return{height:i.height-o,width:i.width,top:i.top,left:i.left,dim:t}}}),N.TM.Voronoi=new r({Implements:N.TM.Area,compute:function(e){this.controller.onBeforeCompute(t);var t=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root),i=this.canvas.getSize(),n=this.config.offset,a=i.width,o=i.height;this.graph.computeLevels(this.root,0,0),t.getPos(e).setc(-5,-5),t.histoPos||(t.histoPos=[]),t.histoPos[0]=A(0,0);var r=[A(.5*-a,.5*-o),A(.5*a,.5*-o),A(.5*a,.5*o),A(.5*-a,.5*o)];r=Geometry.offsetConvex(r,.5*-n),t.setData("vertices",r,e),t.setData("width",0,e),t.setData("height",0,e),r=Geometry.offsetConvex(r,1.5*-n),this.computePositions(t,r,e,0),this.controller.onAfterCompute(t)},computePositions:function(e,i,a,o){var t,r,s=this,n=e.getSubnodes([1,1],"ignore"),h=this.config.offset,l=e.histoPos[o]||c(0,0);e.setData("width",0,a),e.setData("height",0,a),e.getPos(a).setc(l.x,l.y),0<n.length&&(n[0].histoPos&&n[0].histoPos[o+1]||(t=$jit.util.map(n,function(e){var t=Geometry.randPointInPolygon(i);return e.data&&e.data.$area&&(t.area=e.data.$area),t}),t=s[s.config.centroidType](t,i),$jit.util.each(t,function(e,t){n[t].histoPos||(n[t].histoPos=[]),n[t].histoPos[o+1]=e})),t=$jit.util.map(n,function(e){return e.histoPos[o+1]}),r=Geometry.voronoi(t,i),$jit.util.each(n,function(e,t){var i=r[t],n=i.slice(0);Geometry.area(i)<0&&i.reverse(),h&&(n=Geometry.offsetConvex(i,2*-h),i=Geometry.offsetConvex(i,.5*-h),e.offset=h),e.setData("vertices",i,a),s.computePositions(e,n,a,o+1)}))},centroid:function(n,e){for(var t,a=2;.001<a;)t=Geometry.voronoi(n,e),a=0,n=t.map(function(e,t){var i=Geometry.centroid(e);return a+=Geometry.dist2(i,n[t]),i});return n},doLayoutPressure:function(){this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root).eachNode(function(){})},weightedCentroid:function(l,e){var t,i,c=[],n=2,a=Geometry.area(e),o=0;B.each(l,function(e,t){o+=e.area}),i=a/o,t=Geometry.voronoi(l,e),B.each(t,function(e,t){c[t]=l[t].area*i/Geometry.area(e)});var r=0,s=0;for(B.each(c,function(e,t){r+=e,s+=e*e}),console.log("from "+(s-r*r/c.length)/c.length);.001<n;)t=Geometry.voronoi(l,e),B.each(t,function(e,t){c[t]=l[t].area*i/Geometry.area(e)}),n=0,l=t.map(function(o,r){var s=A(0,0),h=0;return B.each(o,function(e,t){var i=[l[r],e,o[t+1]||o[0]],n=e.attached?c[e.attached[0]]:1,a=Geometry.area(i)*Math.exp(2*(c[r]-n));h+=a,s.$add(e.add(i[2]).scale(.5*a))}),s.$scale(1/h),s.area=l[r].area,n+=Geometry.dist(s,l[r]),s});r=0,s=0;return B.each(c,function(e,t){r+=e,s+=e*e}),console.log("to "+(s-r*r/c.length)/c.length),l},byArea:function(t,e){t=this.centroid(t,e);var d,i,n=0,a=0;for($jit.util.each(t,function(e){n+=e.area}),n=Geometry.area(e)/n;a<100;a++){i=Geometry.voronoi(t,e);for(var o=0;o<t.length;o++)if(0==i[o].length){t=i.map(function(e,t){return Geometry.centroid(e)});break}d=i.map(function(e,t){return e.area*n/(Geometry.area(e)+1e-10)}),i=Geometry.voronoi(t,e),t=i.map(function(h,l){var c,e=A(t[l].x,t[l].y);return e.area=t[l].area,c=A(0,0),$jit.util.each(h,function(e,t){e.attached&&e.attached;var i=e.attached?d[e.attached[0]]:1,n=e,a=h[t+1]||h[0],o=d[l]-i,r=a.x-n.x,s=a.y-n.y;c.x+=s*o,c.y-=r*o}),e.x+=c.x/10,e.y+=c.y/10,e.tp=c,e})}return t}}),N.Icicle=new r({compute:function(e){e=e||"current";var t=this.graph.getNode(this.root),i=this.config,n=this.canvas.getSize(),a=n.width,o=n.height,r=(i.offset,i.constrained?i.levelsToShow:Number.MAX_VALUE);this.controller.onBeforeCompute(t),u.Util.computeLevels(this.graph,t.id,0,"ignore");var s=0;u.Util.eachLevel(t,0,!1,function(e,t){s<t&&(s=t)});var h=this.graph.getNode(this.clickedNode&&this.clickedNode.id||t.id),l=Math.min(s,r-1),c=h._depth;this.layout.horizontal()?this.computeSubtree(h,-a/2,-o/2,a/(l+1),o,c,l,e):this.computeSubtree(h,-a/2,-o/2,a,o/(l+1),c,l,e)},computeSubtree:function(e,t,i,n,a,o,r,s){e.getPos(s).setc(t,i),e.setData("width",n,s),e.setData("height",a,s);var h,l=0,c=u.Util.getSubnodes(e,[1,1],"ignore");if(c.length){B.each(c,function(e){l+=e.getData("dim")});for(var d=0,g=c.length;d<g;d++)this.layout.horizontal()?(h=a*c[d].getData("dim")/l,this.computeSubtree(c[d],t+n,i,n,h,o,r,s),i+=h):(h=n*c[d].getData("dim")/l,this.computeSubtree(c[d],t,i+a,h,a,o,r,s),t+=h)}}}),$jit.Icicle=new r({Implements:[C,g,N.Icicle],layout:{orientation:"h",vertical:function(){return"v"==this.orientation},horizontal:function(){return"h"==this.orientation},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(e){var t={animate:!1,orientation:"h",offset:2,levelsToShow:Number.MAX_VALUE,constrained:!1,Node:{type:"rectangle",overridable:!0},Edge:{type:"none"},Label:{type:"Native"},duration:700,fps:45},i=o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label");this.controller=this.config=B.merge(i,t,e),this.layout.orientation=this.config.orientation;var n=this.config;n.useCanvas?(this.canvas=n.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(this.canvas=new p(this,n),this.config.labelContainer=("string"==typeof n.injectInto?n.injectInto:n.injectInto.id)+"-label"),this.graphOptions={klass:v,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new u(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label),this.labels=new $jit.Icicle.Label[this.config.Label.type](this),this.fx=new $jit.Icicle.Plot(this,$jit.Icicle),this.op=new $jit.Icicle.Op(this),this.group=new $jit.Icicle.Group(this),this.clickedNode=null,this.initializeExtras()},refresh:function(){if("Native"!=this.config.Label.type){var t=this;this.graph.eachNode(function(e){t.labels.hideLabel(e,!1)})}this.compute(),this.plot()},plot:function(){this.fx.plot(this.config)},enter:function(e){if(!this.busy){this.busy=!0;var t=this,i=this.config,n={onComplete:function(){i.request&&t.compute(),i.animate?(t.graph.nodeList.setDataset(["current","end"],{alpha:[1,0]}),u.Util.eachSubgraph(e,function(e){e.setData("alpha",1,"end")},"ignore"),t.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){t.clickedNode=e,t.compute("end"),t.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){t.busy=!1,t.clickedNode=e}})}})):(t.clickedNode=e,t.busy=!1,t.refresh())}};i.request?this.requestNodes(e,n):n.onComplete()}},out:function(){if(!this.busy){var e,t=this,i=u.Util,n=this.config,a=this.graph,o=i.getParents(a.getNode(this.clickedNode&&this.clickedNode.id||this.root))[0],r=o,s=this.clickedNode;this.busy=!0,this.events.hoveredNode=!1,o?(e={onComplete:function(){t.clickedNode=o,n.request?t.requestNodes(o,{onComplete:function(){t.compute(),t.plot(),t.busy=!1}}):(t.compute(),t.plot(),t.busy=!1)}},n.animate?(this.clickedNode=r,this.compute("end"),this.clickedNode=s,this.fx.animate({modes:["linear","node-property:width:height"],duration:1e3,onComplete:function(){t.clickedNode=r,a.nodeList.setDataset(["current","end"],{alpha:[0,1]}),i.eachSubgraph(s,function(e){e.setData("alpha",1)},"ignore"),t.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){e.onComplete()}})}})):e.onComplete()):this.busy=!1}},requestNodes:function(e,t){var i=B.merge(this.controller,t),n=this.config.constrained?this.config.levelsToShow:Number.MAX_VALUE;if(i.request){var a=[],o=e._depth;u.Util.eachLevel(e,0,n,function(e){e.drawn&&!u.Util.anySubnode(e)&&(a.push(e),e._level=e._depth-o)}),this.group.requestNodes(a,i)}else i.onComplete()}}),$jit.Icicle.Op=new r({Implements:u.Op}),$jit.Icicle.Group=new r({initialize:function(e){this.viz=e,this.canvas=e.canvas,this.config=e.config},requestNodes:function(e,t){var i=0,n=e.length,a={},o=function(){t.onComplete()},r=this.viz;0==n&&o();for(var s=0;s<n;s++)a[e[s].id]=e[s],t.request(e[s].id,e[s]._level,{onComplete:function(e,t){t&&t.children&&(t.id=e,r.op.sum(t,{type:"nothing"})),++i==n&&(u.Util.computeLevels(r.graph,r.root,0),o())}})}}),$jit.Icicle.Plot=new r({Implements:u.Plot,plot:function(e,t){e=e||this.viz.controller;var i=this.viz,n=i.graph.getNode(i.clickedNode&&i.clickedNode.id||i.root),a=n._depth;i.canvas.clear(),this.plotTree(n,B.merge(e,{withLabels:!0,hideLabels:!1,plotSubtree:function(e,t){return!i.config.constrained||t._depth-a<i.config.levelsToShow}}),t)}}),$jit.Icicle.Label={},$jit.Icicle.Label.Native=new r({Implements:u.Label.Native,renderLabel:function(e,t,i){var n=e.getCtx(),a=t.getData("width"),o=t.getData("height"),r=t.getLabelData("size"),s=n.measureText(t.name);if(!(o<1.5*r||a<s.width)){var h=t.pos.getc(!0);n.fillText(t.name,h.x+a/2,h.y+o/2)}}}),$jit.Icicle.Label.SVG=new r({Implements:u.Label.SVG,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas.getSize(),o={x:Math.round(n.x+a.width/2),y:Math.round(n.y+a.height/2)};e.setAttribute("x",o.x),e.setAttribute("y",o.y),i.onPlaceLabel(e,t)}}),$jit.Icicle.Label.HTML=new r({Implements:u.Label.HTML,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas.getSize(),o=Math.round(n.x+a.width/2),r=Math.round(n.y+a.height/2),s=e.style;s.left=o+"px",s.top=r+"px",s.display="",i.onPlaceLabel(e,t)}}),$jit.Icicle.Plot.NodeTypes=new r({none:{render:B.empty},rectangle:{render:function(e,t,i){var n=this.viz.config,a=n.offset,o=e.getData("width"),r=e.getData("height"),s=e.getData("border"),h=e.pos.getc(!0),l=h.x+a/2,c=h.y+a/2,d=t.getCtx();if(!(o-a<2||r-a<2)){if(n.cushion){var g=e.getData("color"),f=d.createRadialGradient(l+(o-a)/2,c+(r-a)/2,1,l+(o-a)/2,c+(r-a)/2,o<r?r:o),u=B.rgbToHex(B.map(B.hexToRgb(g),function(e){return.3*e>>0}));f.addColorStop(0,g),f.addColorStop(1,u),d.fillStyle=f}s&&(d.strokeStyle=s,d.lineWidth=3),d.fillRect(l,c,Math.max(0,o-a),Math.max(0,r-a)),s&&d.strokeRect(h.x,h.y,o,r)}},contains:function(e,t){if(this.viz.clickedNode&&!$jit.Graph.Util.isDescendantOf(e,this.viz.clickedNode.id))return!1;var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");return this.nodeHelper.rectangle.contains({x:i.x+n/2,y:i.y+a/2},t,n,a)}}}),$jit.Icicle.Plot.EdgeTypes=new r({none:B.empty}),QuadTreeNode=new r({com:[0,0],children:[null,null,null,null],hasChildren:!1,mass:null,fItem:null}),QuadTreeNodeFactory=new r({maxNodes:5e4,nodes:null,setup:function(){this.nodes=new Array},getQuadTreeNode:function(){return 0<this.nodes.length?this.nodes.pop():new QuadTreeNode},reclaim:function(e){e.mass=0,e.com[0]=0,e.com[1]=0,e.fItem=null,e.hasChildren=!1,e.children=[null,null,null,null],this.nodes.length<this.maxNodes&&this.nodes.push(e)}}),NBodyForce=new r({pnames:["GravitationalConstant","Distance","BarnesHutTheta"],DEFAULT_GRAV_CONSTANT:-1,DEFAULT_MIN_GRAV_CONSTANT:-10,DEFAULT_MAX_GRAV_CONSTANT:10,DEFAULT_DISTANCE:-1,DEFAULT_MIN_DISTANCE:-1,DEFAULT_MAX_DISTANCE:500,DEFAULT_THETA:.9,DEFAULT_MIN_THETA:0,DEFAULT_MAX_THETA:1,GRAVITATIONAL_CONST:0,MIN_DISTANCE:1,BARNES_HUT_THETA:2,xMin:null,xMax:null,yMin:null,yMax:null,params:null,minValues:null,maxValues:null,factory:null,root:null,setup:function(){this.params=[this.DEFAULT_GRAV_CONSTANT,this.DEFAULT_DISTANCE,this.DEFAULT_THETA],this.minValues=[this.DEFAULT_MIN_GRAV_CONSTANT,this.DEFAULT_MIN_DISTANCE,this.DEFAULT_MIN_THETA],this.maxValues=[this.DEFAULT_MAX_GRAV_CONSTANT,this.DEFAULT_MAX_DISTANCE,this.DEFAULT_MAX_THETA],this.factory=new QuadTreeNodeFactory,this.factory.setup(),this.root=this.factory.getQuadTreeNode()},setBounds:function(e,t,i,n){this.xMin=e,this.yMin=t,this.xMax=i,this.yMax=n},insertHelper:function(e,t,i,n,a,o){var r=(i+a)/2,s=(n+o)/2,h=(r<=e.location[0]?1:0)+(s<=e.location[1]?2:0);null==t.children[h]&&(t.children[h]=this.factory.getQuadTreeNode(),t.hasChildren=!0),1==h||3==h?i=r:a=r,1<h?n=s:o=s,this.insert(e,t.children[h],i,n,a,o)},isSameLocation:function(e,t){var i=Math.abs(e.location[0]-t.location[0]),n=Math.abs(e.location[1]-t.location[1]);return i<.01&&n<.01},insert:function(e,t,i,n,a,o){if(t.hasChildren)this.insertHelper(e,t,i,n,a,o);else if(null!=t.fItem)if(this.isSameLocation(t.fItem,e))this.insertHelper(e,t,i,n,a,o);else{var r=t.fItem;t.fItem=null,this.insertHelper(r,t,i,n,a,o),this.insertHelper(e,t,i,n,a,o)}else t.fItem=e},calcMass:function(e){var t=0,i=0;if(e.mass=0,e.hasChildren)for(var n=0;n<e.children.length;n++)null!=e.children[n]&&(this.calcMass(e.children[n]),e.mass+=e.children[n].mass,t+=e.children[n].mass*e.children[n].com[0],i+=e.children[n].mass*e.children[n].com[1]);null!=e.fItem&&(e.mass+=e.fItem.mass,t+=e.fItem.mass*e.fItem.location[0],i+=e.fItem.mass*e.fItem.location[1]),e.com[0]=t/e.mass,e.com[1]=i/e.mass},insertRoot:function(e){this.insert(e,this.root,this.xMin,this.yMin,this.xMax,this.yMax)},clearHelper:function(e){for(var t=0;t<e.children.length;t++)null!=e.children[t]&&this.clearHelper(e.children[t]);this.factory.reclaim(e)},clear:function(){this.clearHelper(this.root),this.root=this.factory.getQuadTreeNode()},init:function(e){this.clear();for(var t=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE,a=Number.MIN_VALUE,o=0;o<e.items.length;o++){var r=e.items[o].location[0],s=e.items[o].location[1];r<t&&(t=r),s<i&&(i=s),n<r&&(n=r),a<s&&(a=s)}var h=n-t,l=a-i;l<h?a=i+h:n=t+l,this.setBounds(t,i,n,a);for(o=0;o<e.items.length;o++)this.insertRoot(e.items[o]);this.calcMass(this.root)},getForce:function(e){this.forceHelper(e,this.root,this.xMin,this.yMin,this.xMax,this.yMax)},forceHelper:function(e,t,i,n,a,o){var r=t.com[0]-e.location[0],s=t.com[1]-e.location[1],h=Math.sqrt(r*r+s*s),l=!1;0==h&&(r=(Math.random()-.5)/50,s=(Math.random()-.5)/50,h=Math.sqrt(r*r+s*s),l=!0);var c=0<this.params[this.MIN_DISTANCE]&&h>this.params[this.MIN_DISTANCE];if(!t.hasChildren&&t.fItem!=e||!l&&(a-i)/h<this.params[this.BARNES_HUT_THETA]){if(c)return;var d=this.params[this.GRAVITATIONAL_CONST]*e.mass*t.mass/(h*h*h);e.force[0]+=d*r,e.force[1]+=d*s}else if(t.hasChildren){for(var g=(i+a)/2,f=(n+o)/2,u=0;u<t.children.length;u++)null!=t.children[u]&&this.forceHelper(e,t.children[u],1==u||3==u?g:i,1<u?f:n,1==u||3==u?a:g,1<u?o:f);if(c)return;if(null!=t.fItem&&t.fItem!=e){d=this.params[this.GRAVITATIONAL_CONST]*e.mass*t.fItem.mass/(h*h*h);e.force[0]+=d*r,e.force[1]+=d*s}}}}),SpringForce=new r({pnames:["SpringCoefficient","DefaultSpringLength"],DEFAULT_SPRING_COEFF:1e-4,DEFAULT_MAX_SPRING_COEFF:.001,DEFAULT_MIN_SPRING_COEFF:1e-5,DEFAULT_SPRING_LENGTH:50,DEFAULT_MIN_SPRING_LENGTH:0,DEFAULT_MAX_SPRING_LENGTH:200,SPRING_COEFF:0,SPRING_LENGTH:1,params:null,minValues:null,maxValues:null,setup:function(){this.params=[this.DEFAULT_SPRING_COEFF,this.DEFAULT_SPRING_LENGTH],this.minValues=[this.DEFAULT_MIN_SPRING_COEFF,this.DEFAULT_MIN_SPRING_LENGTH],this.maxValues=[this.DEFAULT_MAX_SPRING_COEFF,this.DEFAULT_MAX_SPRING_LENGTH]},getForce:function(e){var t=e.item1,i=e.item2,n=e.length<0?this.params[this.SPRING_LENGTH]:e.length,a=t.location[0],o=t.location[1],r=i.location[0]-a,s=i.location[1]-o,h=Math.sqrt(r*r+s*s);0==h&&(r=(Math.random()-.5)/50,s=(Math.random()-.5)/50,h=Math.sqrt(r*r+s*s));var l=h-n,c=(e.coeff<0?this.params[this.SPRING_COEFF]:e.coeff)*l/h;t.force[0]+=c*r,t.force[1]+=c*s,i.force[0]+=-c*r,i.force[1]+=-c*s},init:function(){}}),DragForce=new r({pnames:["DragCoefficient"],DEFAULT_DRAG_COEFF:.01,DEFAULT_MIN_DRAG_COEFF:0,DEFAULT_MAX_DRAG_COEFF:.1,DRAG_COEFF:0,params:null,minValues:null,maxValues:null,setup:function(){this.params=[this.DEFAULT_DRAG_COEFF],this.minValues=[this.DEFAULT_MIN_DRAG_COEFF],this.maxValues=[this.DEFAULT_MAX_DRAG_COEFF]},getForce:function(e){e.force[0]-=this.params[this.DRAG_COEFF]*e.velocity[0],e.force[1]-=this.params[this.DRAG_COEFF]*e.velocity[1]},init:function(){}}),RungeKuttaIntegrator=new r({integrate:function(e,t){for(var i,n,a,o,r,s,h=e.speedLimit,l=0;l<e.items.length;l++){o=t/(c=e.items[l]).mass,r=c.k,s=c.l,c.plocation[0]=c.location[0],c.plocation[1]=c.location[1],r[0][0]=t*c.velocity[0],r[0][1]=t*c.velocity[1],s[0][0]=o*c.force[0],s[0][1]=o*c.force[1],c.location[0]+=.5*r[0][0],c.location[1]+=.5*r[0][1]}e.accumulate();for(l=0;l<e.items.length;l++){o=t/(c=e.items[l]).mass,r=c.k,s=c.l,i=c.velocity[0]+.5*s[0][0],n=c.velocity[1]+.5*s[0][1],h<(a=Math.sqrt(i*i+n*n))&&(i=h*i/a,n=h*n/a),r[1][0]=t*i,r[1][1]=t*n,s[1][0]=o*c.force[0],s[1][1]=o*c.force[1],c.location[0]=c.plocation[0]+.5*r[1][0],c.location[1]=c.plocation[1]+.5*r[1][1]}e.accumulate();for(l=0;l<e.items.length;l++){o=t/(c=e.items[l]).mass,r=c.k,s=c.l,i=c.velocity[0]+.5*s[1][0],n=c.velocity[1]+.5*s[1][1],h<(a=Math.sqrt(i*i+n*n))&&(i=h*i/a,n=h*n/a),r[2][0]=t*i,r[2][1]=t*n,s[2][0]=o*c.force[0],s[2][1]=o*c.force[1],c.location[0]=c.plocation[0]+.5*r[2][0],c.location[1]=c.plocation[1]+.5*r[2][1]}e.accumulate();for(l=0;l<e.items.length;l++){var c;o=t/(c=e.items[l]).mass,r=c.k,s=c.l;var d=c.plocation;i=c.velocity[0]+s[2][0],n=c.velocity[1]+s[2][1],h<(a=Math.sqrt(i*i+n*n))&&(i=h*i/a,n=h*n/a),r[3][0]=t*i,r[3][1]=t*n,s[3][0]=o*c.force[0],s[3][1]=o*c.force[1],c.location[0]=d[0]+(r[0][0]+r[3][0])/6+(r[1][0]+r[2][0])/3,c.location[1]=d[1]+(r[0][1]+r[3][1])/6+(r[1][1]+r[2][1])/3,i=(s[0][0]+s[3][0])/6+(s[1][0]+s[2][0])/3,n=(s[0][1]+s[3][1])/6+(s[1][1]+s[2][1])/3,h<(a=Math.sqrt(i*i+n*n))&&(i=h*i/a,n=h*n/a),c.velocity[0]+=i,c.velocity[1]+=n}}}),ForceSimulator=new r({speedLimit:1,iflen:0,sflen:0,integrator:null,items:null,springs:null,iforces:null,sforces:null,setup:function(){this.items=new Array,this.springs=new Array,this.iforces=new Array,this.sforces=new Array,this.integrator=new RungeKuttaIntegrator},accumulate:function(){for(var e=0;e<this.iforces.length;e++)this.iforces[e].init(this);for(e=0;e<this.sforces.length;e++)this.sforces[e].init(this);for(e=0;e<this.items.length;e++){this.items[e].force[0]=0;for(var t=this.items[e].force[1]=0;t<this.iforces.length;t++)this.iforces[t].getForce(this.items[e])}for(e=0;e<this.springs.length;e++)for(t=0;t<this.sforces.length;t++)this.sforces[t].getForce(this.springs[e])},runSimulator:function(e){this.accumulate(),this.integrator.integrate(this,e)},addForce:function(e,t){t?(this.iforces.push(e),this.iflen++):(this.sforces.push(e),this.sflen++)},addItem:function(e){this.items.push(e)},addSpring:function(e){this.springs.push(e)}}),Spring=new r({item1:null,item2:null,coeff:null,length:null,setup:function(e,t,i,n){this.item1=e,this.item2=t,this.coeff=i,this.length=n}}),ForceItem=new r({mass:1,force:null,velocity:null,location:null,plocation:null,k:[[0,0],[0,0],[0,0],[0,0]],l:[[0,0],[0,0],[0,0],[0,0]],setup:function(){this.force=new Array,this.velocity=new Array,this.location=new Array,this.plocation=new Array},init:function(e,t){this.force[0]=0,this.force[1]=0,this.velocity[0]=0,this.velocity[1]=0,this.location[0]=e,this.location[1]=t,this.plocation[0]=0,this.plocation[1]=0}}),N.ForceDirected=new r({getOptions:function(e){var t=this.canvas.getSize(),i=t.width,n=t.height,a=0;this.graph.eachNode(function(e){a++});var o=i*n/a,r=Math.sqrt(o),s=this.config.levelDistance;return{width:i-s,height:n-s,tstart:.1*i,nodef:function(e){return o/(e||1)},edgef:function(e){return r*(e-s)}}},compute:function(e,t){var n=B.splat(e||["current","start","end"]),a=this.getOptions();D.compute(this.graph,n,this.config),this.graph.computeLevels(this.root,0,"ignore"),this.graph.eachNode(function(i){B.each(n,function(e){var t=i.getPos(e);t.equals(v.KER)&&(t.x=a.width/5*(Math.random()-.5),t.y=a.height/5*(Math.random()-.5)),i.disp={},B.each(n,function(e){i.disp[e]=A(0,0)})})}),this.computePositions(n,a,t)},computePositions:function(n,a,o){var r=this.config.iterations,s=0,h=this;if(o)!function e(){for(var t=o.iter,i=0;i<t;i++)if(a.t=a.tstart,r&&(a.t*=1-s++/(r-1)),h.computePositionStep(n,a),r&&r<=s)return void o.onComplete();o.onStep(Math.round(s/(r-1)*100)),setTimeout(e,1)}();else for(;s<r;s++)a.t=a.tstart*(1-s/(r-1)),this.computePositionStep(n,a)},computePositionStep:function(t,r){var e=this.graph,a=Math.min,o=Math.max,s=A(0,0);e.eachNode(function(o){B.each(t,function(e){o.disp[e].x=0,o.disp[e].y=0}),e.eachNode(function(a){a.id!=o.id&&B.each(t,function(e){var t=o.getPos(e),i=a.getPos(e);s.x=t.x-i.x,s.y=t.y-i.y;var n=s.norm()||1;o.disp[e].$add(s.$scale(r.nodef(n)/n))})})});var i=!!e.getNode(this.root).visited;e.eachNode(function(o){o.eachAdjacency(function(e){var a=e.nodeTo;!!a.visited===i&&B.each(t,function(e){var t=o.getPos(e),i=a.getPos(e);s.x=t.x-i.x,s.y=t.y-i.y;var n=s.norm()||1;o.disp[e].$add(s.$scale(-r.edgef(n)/n)),a.disp[e].$add(s.$scale(-1))})}),o.visited=!i});var h=r.t,l=r.width/2,c=r.height/2;e.eachNode(function(n){B.each(t,function(e){var t=n.disp[e],i=t.norm()||1;(e=n.getPos(e)).$add(A(t.x*a(Math.abs(t.x),h)/i,t.y*a(Math.abs(t.y),h)/i)),e.x=a(l,o(-l,e.x)),e.y=a(c,o(-c,e.y))})})},computeFast:function(e,g){var f=new ForceSimulator;f.setup();var t=new NBodyForce;t.setup();var i=new SpringForce;i.setup();var n=new DragForce;n.setup(),f.addForce(t,!0),f.addForce(i,!1),f.addForce(n,!0);var u=1e3,p=B.splat(e||["current","start","end"]),v=this.getOptions(),a=[];D.compute(this.graph,p,this.config),this.graph.computeLevels(this.root,0,"ignore"),this.graph.eachNode(function(i){B.each(p,function(e){var t=i.getPos(e);t.x=v.width/2,t.y=v.height/2,i.forceItem=new ForceItem,i.forceItem.setup(),i.forceItem.init(t.x,t.y),f.addItem(i.forceItem),i.disp={},B.each(p,function(e){i.disp[e]=A(0,0)})})}),this.graph.eachNode(function(e){e.eachAdjacency(function(e){if(void 0===a[e.nodeTo.id]){var t=new Spring;t.setup(e.nodeFrom.forceItem,e.nodeTo.forceItem,-1,-1),f.addSpring(t),a[e.nodeFrom.id]=[],a[e.nodeFrom.id][e.nodeTo.id]=!0}})});Math.ceil(this.config.iterations/g.iter);var m=this.config.iterations,y=0,b=this.graph;!function e(){for(var t=g.iter,i=0;i<t;i++){v.t=v.tstart,m&&(v.t*=1-y++/(m-1));var n=(u*=1-y/m)+50;if(f.runSimulator(n),m&&m<=y){var a=v.width,o=v.height;b.eachNode(function(a){B.each(p,function(e){var t=a.forceItem.location[0],i=a.forceItem.location[1],n=(a.getData("dim"),a.getData("dim"),a.disp[e].norm(),a.getPos(e));n.x=t,n.y=i})}),g.onComplete();var r,s,h=-Number.MAX_VALUE,l=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=Number.MAX_VALUE;b.eachNode(function(i){B.each(p,function(e){var t=i.getPos(e);t.x>h&&(h=t.x),t.x<l&&(l=t.x),t.y>c&&(c=t.y),t.y<d&&(d=t.y)})}),s=h<0?Math.ceil(Math.floor(Math.abs(l))-Math.floor(Math.abs(h))):0<=l?Math.ceil(h-l):Math.ceil(h+Math.abs(l)),r=c<0?Math.ceil(Math.floor(Math.abs(d))-Math.floor(Math.abs(c))):0<=d?Math.ceil(c-d):Math.ceil(c+Math.abs(d));a=v.width/2,o=v.height/2;return void b.eachNode(function(n){B.each(p,function(e){var t=n.getPos(e),i=n.getData("dim");t.x=l<0?(t.x+Math.abs(l))*(v.width/s)-v.width/2:(t.x-l)*(v.width/s)-v.width/2,t.x<=-a+i&&(t.x=2*i-a),t.x>=a-i&&(t.x=a-2*i),t.y=d<0?(t.y+Math.abs(d))*(v.height/r)-v.height/2:(t.y-d)*(v.height/r)-v.height/2,t.y<=-o+i&&(t.y=2*i-o),t.y>=o-i&&(t.y=o-2*i)})})}}g.onStep(Math.round(y/(m-1)*100)),setTimeout(e,1)}()}}),$jit.ForceDirected=new r({Implements:[C,g,N.ForceDirected],initialize:function(e){var t=$jit.ForceDirected;this.controller=this.config=B.merge(o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),{iterations:50,levelDistance:50},e);var i=this.config;i.useCanvas?(this.canvas=i.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(i.background&&(i.background=B.merge({type:"Circles"},i.background)),this.canvas=new p(this,i),this.config.labelContainer=("string"==typeof i.injectInto?i.injectInto:i.injectInto.id)+"-label"),this.graphOptions={klass:v,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new u(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new t.Label[i.Label.type](this),this.fx=new t.Plot(this,t),this.op=new t.Op(this),this.json=null,this.busy=!1,this.initializeExtras()},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},computeIncremental:function(e){e=B.merge({iter:20,property:"end",onStep:B.empty,onComplete:B.empty},e||{}),this.config.onBeforeCompute(this.graph.getNode(this.root)),this.compute(e.property,e)},computePrefuse:function(e){e=B.merge({iter:20,property:"end",onStep:B.empty,onComplete:B.empty},e||{}),this.config.onBeforeCompute(this.graph.getNode(this.root)),this.computeFast(e.property,e)},plot:function(){this.fx.plot()},animate:function(e){this.fx.animate(B.merge({modes:["linear"]},e||{}))}}),$jit.ForceDirected.$extend=!0,(w=$jit.ForceDirected).Op=new r({Implements:u.Op}),w.Plot=new r({Implements:u.Plot}),w.Label={},w.Label.Native=new r({Implements:u.Label.Native}),w.Label.SVG=new r({Implements:u.Label.SVG,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c={x:Math.round(n.x*s+o+l.width/2),y:Math.round(n.y*h+r+l.height/2)};e.setAttribute("x",c.x),e.setAttribute("y",c.y),i.onPlaceLabel(e,t)}}),w.Label.HTML=new r({Implements:u.Label.HTML,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c={x:Math.round(n.x*s+o+l.width/2),y:Math.round(n.y*h+r+l.height/2)},d=e.style;d.left=c.x+"px",d.top=c.y+"px",d.display=this.fitsInCanvas(c,a)?"":"none",i.onPlaceLabel(e,t)}}),w.Plot.NodeTypes=new r({none:{render:B.empty,contains:B.lambda(!1)},circle:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.circle.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.circle.contains(i,t,n)}},ellipse:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");this.nodeHelper.ellipse.render("fill",i,n,a,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");return this.nodeHelper.ellipse.contains(i,t,n,a)}},square:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.square.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.square.contains(i,t,n)}},rectangle:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");this.nodeHelper.rectangle.render("fill",i,n,a,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");return this.nodeHelper.rectangle.contains(i,t,n,a)}},triangle:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.triangle.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.triangle.contains(i,t,n)}},star:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.star.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.star.contains(i,t,n)}}}),w.Plot.EdgeTypes=new r({none:B.empty,line:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);this.edgeHelper.line.render(i,n,t)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(i,n,t,this.edge.epsilon)}},arrow:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0),a=e.getData("dim"),o=e.data.$direction,r=o&&1<o.length&&o[0]!=e.nodeFrom.id;this.edgeHelper.arrow.render(i,n,a,r,t)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(i,n,t,this.edge.epsilon)}}}),$jit.TM={};var S,E,L=$jit.TM;$jit.TM.$extend=!0,L.Base={layout:{orientation:"h",vertical:function(){return"v"==this.orientation},horizontal:function(){return"h"==this.orientation},change:function(){this.orientation=this.vertical()?"h":"v"}},initialize:function(e){this.controller=this.config=B.merge(o("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),{orientation:"h",titleHeight:13,offset:2,levelsToShow:0,labelsToShow:[0,-1],constrained:!1,animate:!1,Node:{type:"rectangle",overridable:!0,width:3,height:3,color:"#444",props:"node-property:width:height"},Label:{textAlign:"center",textBaseline:"top"},Edge:{type:"none"},duration:700,fps:45},e),this.layout.orientation=this.config.orientation;var t=this.config;t.useCanvas?(this.canvas=t.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(t.background&&(t.background=B.merge({type:"Circles"},t.background)),this.canvas=new p(this,t),this.config.labelContainer=("string"==typeof t.injectInto?t.injectInto:t.injectInto.id)+"-label"),this.graphOptions={klass:v,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new u(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new L.Label[t.Label.type](this),this.fx=new L.Plot(this),this.op=new L.Op(this),this.group=new L.Group(this),this.geom=new L.Geom(this),this.clickedNode=null,this.busy=!1,this.initializeExtras()},refresh:function(){if(!this.busy){this.busy=!0;var t=this;if(this.config.animate)this.compute("end"),this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.fx.animate(B.merge(this.config,{modes:["linear",this.config.Node.props],onComplete:function(){t.busy=!1}}));else"Native"!=this.config.Label.type&&this.graph.eachNode(function(e){t.labels.hideLabel(e,!1)}),this.busy=!1,this.compute(),this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root)),this.plot()}},plot:function(){this.fx.plot()},leaf:function(e){return 0==e.getSubnodes([1,1],"ignore").length},enter:function(e){if(!this.busy){this.busy=!0;var t=this,i=this.config,n=this.graph,a=e,o=this.clickedNode,r={onComplete:function(){t.geom.setRightLevelToShow(e),i.request&&t.compute(),i.animate?(n.nodeList.setData("alpha",0,"end"),e.eachSubgraph(function(e){e.setData("alpha",1,"end"),e.selected=!1},"ignore"),a.selected=!0,t.fx.animate({duration:t.config.duration/3,modes:["node-property:alpha"],onComplete:function(){t.clickedNode=a,t.compute("end"),t.clickedNode=o,t.fx.animate({duration:2*t.config.duration/3,modes:["linear",t.config.Node.props],onComplete:function(){t.busy=!1,t.clickedNode=a,t.geom.setRightLevelToShow(a)}})}})):(t.busy=!1,t.clickedNode=e,t.refresh())}};this.geom.setRightLevelToShow(e),i.request?this.requestNodes(a,r):r.onComplete()}},out:function(){if(!this.busy){this.busy=!0,this.events.hoveredNode=!1;var e=this,t=this.config,i=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root).getParents()[0],n=i,a=this.clickedNode;if(i){i.selected=!0;var o=function(){a.selected=!1,e.clickedNode=i,t.request?e.requestNodes(i,{onComplete:function(){e.compute(),e.plot(),e.busy=!1}}):(e.compute(),e.plot(),e.busy=!1),e.geom.setRightLevelToShow(i),e.plot()};this.geom.setRightLevelToShow(i),t.animate?(this.clickedNode=n,this.compute("end"),this.clickedNode=a,this.fx.animate({duration:2*this.config.duration/3,modes:["linear",this.config.Node.props],onComplete:function(){(e.clickedNode=n).eachSubgraph(function(e){e.setDataset(["current","end"],{alpha:[0,1]})},"ignore"),a.eachSubgraph(function(e){e.setData("alpha",1)},"ignore"),e.geom.setRightLevelToShow(i),e.fx.animate({duration:e.config.duration/3,modes:["node-property:alpha"],onComplete:function(){o()}})}})):o()}else this.busy=!1}},requestNodes:function(e,t){var i=B.merge(this.controller,t),n=this.config.levelsToShow;if(i.request){var a=[],o=e._depth;e.eachLevel(0,n,function(e){var t=n-(e._depth-o);e.drawn&&!e.anySubnode()&&0<t&&(a.push(e),e._level=t)}),this.group.requestNodes(a,i)}else i.onComplete()},reposition:function(){this.compute("end")}},L.Op=new r({Implements:u.Op,initialize:function(e){this.viz=e}}),L.Geom=new r({Implements:u.Geom,getRightLevelToShow:function(){return this.viz.config.levelsToShow},setRightLevelToShow:function(i){var n=this.getRightLevelToShow(),a=this.viz.config.labelsToShow,o=this.viz.labels,r={};i.eachLevel(0,!1,function(e){var t=e._depth-i._depth;e._hideLabel=0<=a[0]&&t<a[0]||0<=a[1]&&t>a[1],0<n&&n<t?(e.drawn=!1,e.exist=!1,e.ignore=!0,o.hideLabel(e,!1)):(e.drawn=!0,e.exist=!0,delete e.ignore),r[e.name]=e._hideLabel}),i.drawn=!0,delete i.ignore}}),L.Group=new r({initialize:function(e){this.viz=e,this.canvas=e.canvas,this.config=e.config},requestNodes:function(e,t){var i=0,n=e.length,a={},o=function(){t.onComplete()},r=this.viz;0==n&&o();for(var s=0;s<n;s++)a[e[s].id]=e[s],t.request(e[s].id,e[s]._level,{onComplete:function(e,t){t&&t.children&&(t.id=e,r.op.sum(t,{type:"nothing"})),++i==n&&(r.graph.computeLevels(r.root,0),o())}})}}),L.Plot=new r({Implements:u.Plot,initialize:function(e){this.viz=e,this.config=e.config,this.node=this.config.Node,this.edge=this.config.Edge,this.animation=new d,this.nodeTypes=new L.Plot.NodeTypes,this.edgeTypes=new L.Plot.EdgeTypes,this.labels=e.labels},plot:function(e,t){var i=this.viz,n=i.graph;i.canvas.clear(),this.plotTree(n.getNode(i.clickedNode&&i.clickedNode.id||i.root),B.merge(i.config,e||{},{withLabels:!0,hideLabels:!1,plotSubtree:function(e,t){return e.anySubnode("exist")}}),t)}}),L.Label={},L.Label.Native=new r({Implements:u.Label.Native,initialize:function(e){this.config=e.config,this.leaf=e.leaf},renderLabel:function(e,t,i){if(!t._hideLabel&&(this.leaf(t)||this.config.titleHeight)){var n=t.pos.getc(!0),a=e.getCtx(),o=t.getData("width"),r=(t.getData("height"),n.x+o/2),s=n.y;isNaN(o)||0===o?a.fillText(t.name,r,s):a.fillText(t.name,r,s,o)}}}),L.Label.SVG=new r({Implements:u.Label.SVG,initialize:function(e){this.viz=e,this.leaf=e.leaf,this.config=e.config},placeLabel:function(e,t,i){i=i||this.viz.controller;var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c={x:Math.round(n.x*s+o+l.width/2),y:Math.round(n.y*h+r+l.height/2)};e.setAttribute("x",c.x),e.setAttribute("y",c.y),(t._hideLabel||!this.leaf(t)&&!this.config.titleHeight)&&(e.style.display="none"),i.onPlaceLabel(e,t)}}),L.Label.HTML=new r({Implements:u.Label.HTML,initialize:function(e){this.viz=e,this.leaf=e.leaf,this.config=e.config},placeLabel:function(e,t,i){i=i||this.viz.controller;var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c=Math.round(n.x*s+o+l.width/2),d=Math.round(n.y*h+r+l.height/2),g=e.style;g.left=c+"px",g.top=d+"px",g.width=Math.max(0,t.getData("width")*s)+"px",g.height=Math.max(0,t.getData("height")*h)+"px",g.zIndex=100*t._depth,g.display="",(t._hideLabel||!this.leaf(t)&&!this.config.titleHeight)&&(e.style.display="none"),i.onPlaceLabel(e,t)}}),L.Plot.NodeTypes=new r({none:{render:B.empty},rectangle:{render:function(e,t,i){var n=this.viz.leaf(e),a=this.config,o=a.offset,r=a.titleHeight,s=e.pos.getc(!0),h=e.getData("width"),l=e.getData("height"),c=e.getData("border"),d=t.getCtx(),g=s.x+o/2,f=s.y+o/2;if(!(h<=o||l<=o))if(n){if(a.cushion){var u=d.createRadialGradient(g+(h-o)/2,f+(l-o)/2,1,g+(h-o)/2,f+(l-o)/2,h<l?l:h),p=e.getData("color"),v=B.rgbToHex(B.map(B.hexToRgb(p),function(e){return.2*e>>0}));u.addColorStop(0,p),u.addColorStop(1,v),d.fillStyle=u}d.fillRect(g,f,h-o,l-o),c&&(d.save(),d.strokeStyle=c,d.strokeRect(g,f,h-o,l-o),d.restore())}else 0<r&&(d.fillRect(s.x+o/2,s.y+o/2,h-o,r-o),c&&(d.save(),d.strokeStyle=c,d.strokeRect(s.x+o/2,s.y+o/2,h-o,l-o),d.restore()))},contains:function(e,t){if(this.viz.clickedNode&&!e.isDescendantOf(this.viz.clickedNode.id)||e.ignore)return!1;var i=e.pos.getc(!0),n=e.getData("width"),a=this.viz.leaf(e)?e.getData("height"):this.config.titleHeight;return this.nodeHelper.rectangle.contains({x:i.x+n/2,y:i.y+a/2},t,n,a)}}}),L.Plot.EdgeTypes=new r({none:B.empty}),L.SliceAndDice=new r({Implements:[C,g,L.Base,N.TM.SliceAndDice]}),L.Squarified=new r({Implements:[C,g,L.Base,N.TM.Squarified]}),L.Strip=new r({Implements:[C,g,L.Base,N.TM.Strip]}),$jit.RGraph=new r({Implements:[C,g,N.Radial],initialize:function(e){var t=$jit.RGraph;this.controller=this.config=B.merge(o("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),{interpolation:"linear",levelDistance:100},e);var i=this.config;i.useCanvas?(this.canvas=i.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(i.background&&(i.background=B.merge({type:"Circles"},i.background)),this.canvas=new p(this,i),this.config.labelContainer=("string"==typeof i.injectInto?i.injectInto:i.injectInto.id)+"-label"),this.graphOptions={klass:P,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new u(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new t.Label[i.Label.type](this),this.fx=new t.Plot(this,t),this.op=new t.Op(this),this.json=null,this.root=null,this.busy=!1,this.parent=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var t=this.config.levelDistance;return function(e){return(e._depth+1)*t}},refresh:function(){this.compute(),this.plot()},reposition:function(){this.compute("end")},plot:function(){this.fx.plot()},getNodeAndParentAngle:function(e){var t=!1,i=this.graph.getNode(e),n=i.getParents(),a=0<n.length&&n[0];if(a){var o=a.pos.getc(),r=i.pos.getc(),s=o.add(r.scale(-1));(t=Math.atan2(s.y,s.x))<0&&(t+=2*Math.PI)}return{parent:a,theta:t}},tagChildren:function(e,t){if(e.angleSpan){var i=[];e.eachAdjacency(function(e){i.push(e.nodeTo)},"ignore");for(var n=i.length,a=0;a<n&&t!=i[a].id;a++);for(var o=(a+1)%n,r=0;t!=i[o].id;o=(o+1)%n)i[o].dist=r++}},onClick:function(e,t){if(this.root!=e&&!this.busy){this.busy=!0,this.root=e;var i=this;this.controller.onBeforeCompute(this.graph.getNode(e));var n=this.getNodeAndParentAngle(e);this.tagChildren(n.parent,e),this.parent=n.parent,this.compute("end");var a=n.theta-n.parent.endPos.theta;this.graph.eachNode(function(e){e.endPos.set(e.endPos.getp().add(y(a,0)))});var o=this.config.interpolation;t=B.merge({onComplete:B.empty},t||{}),this.fx.animate(B.merge({hideLabels:!0,modes:[o]},t,{onComplete:function(){i.busy=!1,t.onComplete()}}))}}}),$jit.RGraph.$extend=!0,(S=$jit.RGraph).Op=new r({Implements:u.Op}),S.Plot=new r({Implements:u.Plot}),S.Label={},S.Label.Native=new r({Implements:u.Label.Native}),S.Label.SVG=new r({Implements:u.Label.SVG,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c={x:Math.round(n.x*s+o+l.width/2),y:Math.round(n.y*h+r+l.height/2)};e.setAttribute("x",c.x),e.setAttribute("y",c.y),i.onPlaceLabel(e,t)}}),S.Label.HTML=new r({Implements:u.Label.HTML,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c={x:Math.round(n.x*s+o+l.width/2),y:Math.round(n.y*h+r+l.height/2)},d=e.style;d.left=c.x+"px",d.top=c.y+"px",d.display=this.fitsInCanvas(c,a)?"":"none",i.onPlaceLabel(e,t)}}),S.Plot.NodeTypes=new r({none:{render:B.empty,contains:B.lambda(!1)},circle:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.circle.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.circle.contains(i,t,n)}},ellipse:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");this.nodeHelper.ellipse.render("fill",i,n,a,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");return this.nodeHelper.ellipse.contains(i,t,n,a)}},square:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.square.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.square.contains(i,t,n)}},rectangle:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");this.nodeHelper.rectangle.render("fill",i,n,a,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("width"),a=e.getData("height");return this.nodeHelper.rectangle.contains(i,t,n,a)}},triangle:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.triangle.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.triangle.contains(i,t,n)}},star:{render:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");this.nodeHelper.star.render("fill",i,n,t)},contains:function(e,t){var i=e.pos.getc(!0),n=e.getData("dim");return this.nodeHelper.star.contains(i,t,n)}}}),S.Plot.EdgeTypes=new r({none:B.empty,line:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);this.edgeHelper.line.render(i,n,t)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);return this.edgeHelper.line.contains(i,n,t,this.edge.epsilon)}},arrow:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0),a=e.getData("dim"),o=e.data.$direction,r=o&&1<o.length&&o[0]!=e.nodeFrom.id,s=this.edge.arrowPosition||"end";this.edgeHelper.arrow.render(i,n,a,r,t,s)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0);return this.edgeHelper.arrow.contains(i,n,t,this.edge.epsilon)}}}),v.prototype.moebiusTransformation=function(e){var t=this.add(e),i=e.$conjugate().$prod(this);return i.x++,t.$div(i)},u.Util.moebiusTransformation=function(e,a,o,r,t){this.eachNode(e,function(e){for(var t=0;t<o.length;t++){var i=a[t].scale(-1),n=r||o[t];e.getPos(o[t]).set(e.getPos(n).getc().moebiusTransformation(i))}},t)},$jit.Hypertree=new r({Implements:[C,g,N.Radial],initialize:function(e){var t=$jit.Hypertree;this.controller=this.config=B.merge(o("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),{radius:"auto",offset:0,Edge:{type:"hyperline"},duration:1500,fps:35},e);var i=this.config;i.useCanvas?(this.canvas=i.useCanvas,this.config.labelContainer=this.canvas.id+"-label"):(i.background&&(i.background=B.merge({type:"Circles"},i.background)),this.canvas=new p(this,i),this.config.labelContainer=("string"==typeof i.injectInto?i.injectInto:i.injectInto.id)+"-label"),this.graphOptions={klass:P,Node:{selected:!1,exist:!0,drawn:!0}},this.graph=new u(this.graphOptions,this.config.Node,this.config.Edge),this.labels=new t.Label[i.Label.type](this),this.fx=new t.Plot(this,t),this.op=new t.Op(this),this.json=null,this.root=null,this.busy=!1,this.initializeExtras()},createLevelDistanceFunc:function(){var o=this.getRadius(),t=0,i=Math.max,r=this.config;this.graph.eachNode(function(e){t=i(e._depth,t)},"ignore"),t++;for(var e=function(a){return function(e){e.scale=o;for(var t=e._depth+1,i=0,n=Math.pow;t;)i+=n(a,t--);return i-r.offset}},n=.51;n<=1;n+=.01){if(2<=(1-Math.pow(n,t))/(1-n))return e(n-.01)}return e(.75)},getRadius:function(){var e=this.config.radius;if("auto"!==e)return e;var t=this.canvas.getSize();return Math.min(t.width,t.height)/2},refresh:function(e){e?(this.reposition(),this.graph.eachNode(function(e){e.startPos.rho=e.pos.rho=e.endPos.rho,e.startPos.theta=e.pos.theta=e.endPos.theta})):this.compute(),this.plot()},reposition:function(){this.compute("end");var e=this.graph.getNode(this.root).pos.getc().scale(-1);u.Util.moebiusTransformation(this.graph,[e],["end"],"end","ignore"),this.graph.eachNode(function(e){e.ignore&&(e.endPos.rho=e.pos.rho,e.endPos.theta=e.pos.theta)})},plot:function(){this.fx.plot()},onClick:function(e,t){var i=this.graph.getNode(e).pos.getc(!0);this.move(i,t)},move:function(e,t){var i=A(e.x,e.y);if(!1===this.busy&&i.norm()<1){this.busy=!0;var n=this.graph.getClosestNodeToPos(i),a=this;this.graph.computeLevels(n.id,0),this.controller.onBeforeCompute(n),t=B.merge({onComplete:B.empty},t||{}),this.fx.animate(B.merge({modes:["moebius"],hideLabels:!0},t,{onComplete:function(){a.busy=!1,t.onComplete()}}),i)}}}),$jit.Hypertree.$extend=!0,(E=$jit.Hypertree).Op=new r({Implements:u.Op}),E.Plot=new r({Implements:u.Plot}),E.Label={},E.Label.Native=new r({Implements:u.Label.Native,initialize:function(e){this.viz=e},renderLabel:function(e,t,i){var n=e.getCtx(),a=t.pos.getc(!0),o=this.viz.getRadius();n.fillText(t.name,a.x*o,a.y*o)}}),E.Label.SVG=new r({Implements:u.Label.SVG,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c=this.viz.getRadius(),d={x:Math.round(n.x*s*c+o+l.width/2),y:Math.round(n.y*h*c+r+l.height/2)};e.setAttribute("x",d.x),e.setAttribute("y",d.y),i.onPlaceLabel(e,t)}}),E.Label.HTML=new r({Implements:u.Label.HTML,initialize:function(e){this.viz=e},placeLabel:function(e,t,i){var n=t.pos.getc(!0),a=this.viz.canvas,o=a.translateOffsetX,r=a.translateOffsetY,s=a.scaleOffsetX,h=a.scaleOffsetY,l=a.getSize(),c=this.viz.getRadius(),d={x:Math.round(n.x*s*c+o+l.width/2),y:Math.round(n.y*h*c+r+l.height/2)},g=e.style;g.left=d.x+"px",g.top=d.y+"px",g.display=this.fitsInCanvas(d,a)?"":"none",i.onPlaceLabel(e,t)}}),E.Plot.NodeTypes=new r({none:{render:B.empty,contains:B.lambda(!1)},circle:{render:function(e,t){var i=this.node,n=e.getData("dim"),a=e.pos.getc();n=i.transform?n*(1-a.squaredNorm()):n,a.$scale(e.scale),.2<n&&this.nodeHelper.circle.render("fill",a,n,t)},contains:function(e,t){var i=e.getData("dim"),n=e.pos.getc().$scale(e.scale);return this.nodeHelper.circle.contains(n,t,i)}},ellipse:{render:function(e,t){var i=e.pos.getc().$scale(e.scale),n=e.getData("width"),a=e.getData("height");this.nodeHelper.ellipse.render("fill",i,n,a,t)},contains:function(e,t){var i=e.getData("width"),n=e.getData("height"),a=e.pos.getc().$scale(e.scale);return this.nodeHelper.circle.contains(a,t,i,n)}},square:{render:function(e,t){var i=this.node,n=e.getData("dim"),a=e.pos.getc();n=i.transform?n*(1-a.squaredNorm()):n,a.$scale(e.scale),.2<n&&this.nodeHelper.square.render("fill",a,n,t)},contains:function(e,t){var i=e.getData("dim"),n=e.pos.getc().$scale(e.scale);return this.nodeHelper.square.contains(n,t,i)}},rectangle:{render:function(e,t){var i=this.node,n=e.getData("width"),a=e.getData("height"),o=e.pos.getc();n=i.transform?n*(1-o.squaredNorm()):n,a=i.transform?a*(1-o.squaredNorm()):a,o.$scale(e.scale),.2<n&&.2<a&&this.nodeHelper.rectangle.render("fill",o,n,a,t)},contains:function(e,t){var i=e.getData("width"),n=e.getData("height"),a=e.pos.getc().$scale(e.scale);return this.nodeHelper.rectangle.contains(a,t,i,n)}},triangle:{render:function(e,t){var i=this.node,n=e.getData("dim"),a=e.pos.getc();n=i.transform?n*(1-a.squaredNorm()):n,a.$scale(e.scale),.2<n&&this.nodeHelper.triangle.render("fill",a,n,t)},contains:function(e,t){var i=e.getData("dim"),n=e.pos.getc().$scale(e.scale);return this.nodeHelper.triangle.contains(n,t,i)}},star:{render:function(e,t){var i=this.node,n=e.getData("dim"),a=e.pos.getc();n=i.transform?n*(1-a.squaredNorm()):n,a.$scale(e.scale),.2<n&&this.nodeHelper.star.render("fill",a,n,t)},contains:function(e,t){var i=e.getData("dim"),n=e.pos.getc().$scale(e.scale);return this.nodeHelper.star.contains(n,t,i)}}}),E.Plot.EdgeTypes=new r({none:B.empty,line:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0),a=e.nodeFrom.scale;this.edgeHelper.line.render({x:i.x*a,y:i.y*a},{x:n.x*a,y:n.y*a},t)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0),a=e.nodeFrom.scale;this.edgeHelper.line.contains({x:i.x*a,y:i.y*a},{x:n.x*a,y:n.y*a},t,this.edge.epsilon)}},arrow:{render:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0),a=e.nodeFrom.scale,o=e.getData("dim"),r=e.data.$direction,s=r&&1<r.length&&r[0]!=e.nodeFrom.id;this.edgeHelper.arrow.render({x:i.x*a,y:i.y*a},{x:n.x*a,y:n.y*a},o,s,t)},contains:function(e,t){var i=e.nodeFrom.pos.getc(!0),n=e.nodeTo.pos.getc(!0),a=e.nodeFrom.scale;this.edgeHelper.arrow.contains({x:i.x*a,y:i.y*a},{x:n.x*a,y:n.y*a},t,this.edge.epsilon)}},hyperline:{render:function(e,t){var i=e.nodeFrom.pos.getc(),n=e.nodeTo.pos.getc(),a=this.viz.getRadius();this.edgeHelper.hyperline.render(i,n,a,t)},contains:B.lambda(!1)}})}(),function(){var e=navigator.userAgent,t=e.match(/iPhone/i)||e.match(/iPad/i),i=typeof HTMLCanvasElement,n="object"==i||"function"==i,a=n&&"function"==typeof document.createElement("canvas").getContext("2d").fillText;nativeTextSupport="Native"==(labelType=!n||a&&!t?"Native":"HTML"),useGradients=n,animate=!(t||!n)}();var isBirdEyeRefreshInvoked,rgraph=null,clickedNodes=[],relations=new Array,birdeyeMultiplier=3,distanceBetweenLines=4,maxNameLength=20,birdEyeBackCanvas=null,previousHeight=0,previousWidth=0,labelFontSize=13,rootLabelFontSize=15,headerHeightBreak=600,headerHeight=calculateHeaderHeight(),isLoadingNode=!1,change_dates=[],currentZoom=1,companyImg=new Image;companyImg.src="data:image/png;base64,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",companyImg.height=49,companyImg.width=48;var personImg=new Image;personImg.src="data:image/png;base64,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",personImg.height=48,personImg.width=48;var companyPlusImg=new Image;companyPlusImg.src="data:image/png;base64,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",companyPlusImg.height=49,companyPlusImg.width=55;var personPlusImg=new Image;personPlusImg.src="data:image/png;base64,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",personPlusImg.height=49,personPlusImg.width=56;var companyBigImg=new Image;companyBigImg.src="data:image/png;base64,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",companyBigImg.height=90,companyBigImg.width=89;var personBigImg=new Image;personBigImg.src="data:image/png;base64,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",personBigImg.height=90,personBigImg.width=90;var smallcompanyImg=new Image;smallcompanyImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAACXBIWXMAAAsSAAALEgHS3X78AAAAWUlEQVQImS3FIQ6CUAAA0McfjKabo5BIzmagWDyAmcNxHxKDUS0EL0CW8lEsvvKSrp8859cjz7NzjJ+hOB3HgCsuaFHiHnDDGw121AErFmz/1xQRB6So8P0BSlMU/9kl8V8AAAAASUVORK5CYII=",smallcompanyImg.height=5,smallcompanyImg.width=5;var smallpersonImg=new Image;smallpersonImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAACXBIWXMAAAsSAAALEgHS3X78AAAAVklEQVQImTXIoQ6CQAAA0HcEb4NiMzE3A8V/oNj8Cv/Uma5QZcxwmfkDDCwGdi++8EqD9yf3MR7add3ytbukyq7BE0coWeOBUPKOExaccasw4osfZkx/h4cR2FrHg08AAAAASUVORK5CYII=",smallpersonImg.height=5,smallpersonImg.width=5;var smallcompanyBigImg=new Image;smallcompanyBigImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsSAAALEgHS3X78AAAAo0lEQVQYlTXMoU5CUQCA4e8crzrmlM05kmwEwt0o+gY+hIniaxichUqlE4w2AsFGIjAJFDIB5264Wpy7MCRw/PO3P6w/C6O3SRZjqOERFyGEp6rafOftVowONTHGKwZ4Rh27f9BFH3MsMUQP5xnu0MIiwYApPvAQ8YdVOgVscYMNviJ+cYUSp7jELOGjDGd4T8sSOX7S6ThDgXucoIFrdHCLlz3vYiSAvFcsbQAAAABJRU5ErkJggg==",smallcompanyBigImg.height=8,smallcompanyBigImg.width=8;var smallpersonBigImg=new Image;function init(){var e=1;graph_data.children.length<10?e=.75:30<graph_data.children.length&&$(window).height()<1400&&(e=1.33),$jit.RGraph.Plot.NodeTypes.implement({icon:{render:function(e,t){var i=t.getCtx(),n=e.getPos().toComplex(),a=rootid==e.id?graph_data:c(graph_data.children,e.id),o=null,r=computeNodeOffsets(rgraph,e),s=computeNodeOffsets(rgraph,e);o="company"==e.data.type?rgraph.graph.getNode(rgraph.root).id==e.id?companyBigImg:0==a.data.isExpandable?companyImg:companyPlusImg:rgraph.graph.getNode(rgraph.root).id==e.id?personBigImg:0==a.data.isExpandable?personImg:personPlusImg;var h=n.x-r,l=n.y-s;i.drawImage(o,h,l),isBirdEyeRefreshInvoked=!0},contains:function(e,t){var i=e.pos.getc(!0),n=rgraph.graph.getNode(rgraph.root).id==e.id?30:16;return this.nodeHelper.square.contains(i,t,n)}}});var c=function(e,t){if(e)for(var i=0;i<e.length;i++){if(e[i].id==t)return e[i];var n=c(e[i].children,t);if(n)return n}},l=function(e,t,n){var a=[],o=rootid==t?graph_data:c(graph_data.children,t);if(null!=o.children)for(i=0;i<o.children.length;i++)o.children[i].id==e&&a.push(o.children[i].data.relationColor);else 1==n&&a.push(o.data.relationColor);return a};function n(a){if(1!=isLoadingNode)if(isLoadingNode=!0,"newpage"==sessionStorage.graphClickType){var e=$("[name=referencedate]").val();e=e.replace(".","").replace(".",""),window.location=baseurl+"vazby/"+a.id+"/i/"+e}else if("opennode"==sessionStorage.graphClickType){var t=!1;for(var i in clickedNodes)if(clickedNodes[i]==a.id){t=!0;break}var o=c(graph_data.children,a.id);null==o&&(o=rgraph.graph.getNode(rgraph.root));var n=-rgraph.canvas.translateOffsetX,r=-rgraph.canvas.translateOffsetY;rgraph.canvas.translate(n,r),0==o.data.isExpandable||1==t?(rgraph.onClick(a.id,null),isLoadingNode=!1):$.post(baseurl+"relations/getchildren/"+a.id,makeChildrenPostData($("[name=referencedate]").val()),function(t,e){var i=0;for(i=0;i<t.children.length;i++){var n=!1;rgraph.graph.eachNode(function(e){0==n&&e.id==t.children[i].id&&(t.children[i].data.details=e.data.details,n=!0)})}o.children=t.children,o.data.isExpandable=!1,o.data.details=t.data.details,rgraph.loadJSON(graph_data),rgraph.refresh(),rgraph.onClick(a.id,null),clickedNodes.push(a.id),loadchangedates(),isLoadingNode=!1},"json")}}$jit.RGraph.Plot.EdgeTypes.implement({midArrow:{render:function(e,t){var i,n=l(e.nodeFrom.id,e.nodeTo.id,!1);for(0==n.length&&(n=l(e.nodeTo.id,e.nodeFrom.id,!0)),i=0;i<n.length;i++){var a=e.nodeFrom.pos.getc(!0),o=e.nodeTo.pos.getc(!0),r=Math.abs(a.x-o.x),s=Math.abs(a.y-o.y),h=Math.round(n.length/2*distanceBetweenLines-2-i*distanceBetweenLines)+.5;Math.abs(Math.floor(s)/Math.floor(0==r?1:r))<1?(a.y=a.y-h+distanceBetweenLines,o.y=o.y-h+distanceBetweenLines):(a.x=a.x-h,o.x=o.x-h),renderLine(a.x,a.y,o.x,o.y,t.getCtx(),"#"+n[i])}},contains:function(e,t){var i,n,a,o,r=e.nodeFrom.pos.getc(!0),s=e.nodeTo.pos.getc(!0);return i=r,n=s,a=t,o=this.edge.epsilon,$jit.EdgeHelper.line.contains(i,n,a,o)}}}),(rgraph=new $jit.RGraph({injectInto:"infovis",background:{CanvasStyles:{strokeStyle:"#BFCCD4",fillStyle:"#FFFFFF"}},duration:500,levelsToShow:1,levelDistance:($(window).height()-150)/2*e,numberOfCircles:8,Navigation:{enable:!0,panning:"avoid nodes"},Node:{overridable:!0,type:"icon"},Edge:{overridable:!0,type:"midArrow"},onBeforeCompute:function(e){var t=c(graph_data.children,e.id);null==t&&(t=rgraph.graph.getNode(rgraph.root)),$jit.id("subject_data").innerHTML=t.data.details},onCreateLabel:function(e,t){var i=htmlDecode(t.name);i.length>maxNameLength&&(i=(e.title=i).substr(0,maxNameLength)+"..."),e.innerHTML=htmlEncode(i),t.name!=hidden_node_name&&(e.onclick=function(){n(t)})},onPlaceLabel:function(e,t){var i=e.style;i.display="",i.cursor="pointer";var n=parseInt(i.top),a=currentZoom,o=currentZoom;currentZoom<.8&&.7<=currentZoom?(a=.8*currentZoom,o=.5*currentZoom):currentZoom<.7&&.6<=currentZoom?(a=.7*currentZoom,o=.4*currentZoom):currentZoom<.6&&(a=.6*currentZoom,o=.2*currentZoom,i.display="none"),t.id==rgraph.root?(i.fontSize=rootLabelFontSize*rgraph.canvas.scaleOffsetX+"px",i.fontWeight="bold",n+=32*a):(i.fontSize=labelFontSize*rgraph.canvas.scaleOffsetX+"px",i.fontWeight="normal",n+=12*o),i.top=n+11*rgraph.canvas.scaleOffsetX+"px",t.name==hidden_node_name&&(e.className=e.className+" blurred");var r=parseInt(i.left),s=e.offsetWidth;i.left=r-s/2+"px"},Events:{enable:!0,type:"Native",onMouseEnter:function(e,t,i){rgraph.canvas.getElement().style.cursor="pointer"},onMouseLeave:function(e,t,i){rgraph.canvas.getElement().style.cursor=""},onDragMove:function(e,t,i){var n=t.getPos();e.pos.setc(n.x,n.y),rgraph.plot()},onClick:function(e,t,i){e&&e.name!=hidden_node_name&&n(e)}}})).loadJSON(graph_data),rgraph.compute("end"),rgraph.fx.animate({modes:["polar"],duration:200}),$jit.id("subject_data").innerHTML=rgraph.graph.getNode(rgraph.root).data.details,clickedNodes.push(rgraph.root)}function renderLine(e,t,i,n,a,o){a.beginPath(),a.moveTo(e,t),a.lineTo(i,n),a.strokeStyle=o,a.stroke()}function graphclicktype_visualize(){var e="newpage"==sessionStorage.graphClickType?"Zobraz se jen vazby posledn zadanho subjektu":"Zobrazuj se pvodn vyhledan i dal zadan vazby";"newpage"==sessionStorage.graphClickType&&$("#graphstructure_checkbox").removeAttr("checked"),$("#graphstructure_tooltip").attr("title",e)}function relation_types_visualise(){if(sessionStorage.showrelationcolors&&null!=sessionStorage.showrelationcolors){for(var e=JSON.parse(sessionStorage.showrelationcolors),t=[],i=0;i<e.length;i++)t[e[i]]=!0;$(".relationtype_checkbox").each(function(){null==t||t[$(this).attr("data-color")]||$(this).removeAttr("checked")})}}function initializeArrowNavigation(e,t,i){var n,a=function(){return n=setInterval(function(){return rgraph.canvas.translate(t,i),!1},100),!1};e.mousedown(function(e){return a()}),e.on({touchstart:function(){return a()}}),e.click(function(e){e.preventDefault()}),$(document).mouseup(function(){return clearInterval(n),!1}),$(document).on({touchend:function(){return clearInterval(n),!1}})}function htmlEncode(e){return $("<div/>").text(e).html()}function htmlDecode(e){return $("<div/>").html(e).text()}function initBirdEyeBackground(){birdEyeBackCanvas=document.getElementById("birdeyeback").getContext("2d");var e=$("#birdeyeback").height()/birdeyeMultiplier,t=$("#birdeyeback").width()/birdeyeMultiplier;$("#birdeye").height(e),$("#birdeye").css("top",-e*(birdeyeMultiplier-.7)),$("#birdeye").css("left",t),$("#birdeye").data("draggable")||$("#birdeye").draggable({containment:"parent",revert:!0,stop:function(e,t){var i=previousWidth*birdeyeMultiplier/$("#birdeye").width()/birdeyeMultiplier,n=previousHeight*birdeyeMultiplier/$("#birdeye").width()/birdeyeMultiplier;rgraph.canvas.translate((t.originalPosition.left-t.position.left)*i,(t.originalPosition.top-t.position.top)*n)}})}function refreshBirdEyeBackground(){if(isBirdEyeRefreshInvoked){var h=previousWidth*birdeyeMultiplier/birdEyeBackCanvas.canvas.width,l=previousHeight*(birdeyeMultiplier-.5)/birdEyeBackCanvas.canvas.height;birdEyeBackCanvas.clearRect(0,0,2*$("#birdeyeback").width()+9,2*$("#birdeyeback").height()),rgraph.graph.eachNode(function(e){var t=e.getPos().toComplex(),i=null,a=computeNodeOffsets(rgraph,e),o=computeNodeOffsets(rgraph,e);i="company"==e.data.type?rgraph.graph.getNode(rgraph.root).id==e.id?smallcompanyBigImg:smallcompanyImg:rgraph.graph.getNode(rgraph.root).id==e.id?smallpersonBigImg:smallpersonImg;var r=computeBirdEyeDrawTo(t.x,a,h,birdEyeBackCanvas.canvas.width,rgraph.canvas.translateOffsetX),s=computeBirdEyeDrawTo(t.y,o,l,birdEyeBackCanvas.canvas.height,rgraph.canvas.translateOffsetY);birdEyeBackCanvas.drawImage(i,r,s-2),e.eachAdjacency(function(e){var t=e.nodeTo.getPos().toComplex(),i=computeBirdEyeDrawTo(t.x,a,h,birdEyeBackCanvas.canvas.width,rgraph.canvas.translateOffsetX),n=computeBirdEyeDrawTo(t.y,o,l,birdEyeBackCanvas.canvas.height,rgraph.canvas.translateOffsetY);renderLine(r+2,s+2,i+2,n+2,birdEyeBackCanvas,"rgba(0,0,0,0.2)")})}),isBirdEyeRefreshInvoked=!1}}function computeNodeOffsets(e,t){return e.graph.getNode(e.root).id==t.id?45:24}function computeBirdEyeDrawTo(e,t,i,n,a){return(e-t)/i+n/2+a/i}function recalculateBirdEyeHeight(){var e=$("#infovis").width()*birdeyeMultiplier,t=$("#infovis").height()*birdeyeMultiplier/(e/$("#birdeyeback").width());$("#birdeyeback").height(t),$("#navigation .content").height(t)}function resizeBirdeye(){recalculateBirdEyeHeight(),initBirdEyeBackground(),isBirdEyeRefreshInvoked=!0}function drawLabels(o){rgraph.graph.eachNode(function(e){var t=rgraph.canvas.getCtx(),i=e.pos.getc(!0),n=0;n=e.id==rgraph.root?(t.font="bold "+rootLabelFontSize,34):(t.font=labelFontSize,22),t.fillStyle=o,t.textAlign="center";var a=htmlDecode(e.name);a.length>maxNameLength&&(a=a.substr(0,maxNameLength)+"..."),t.fillText(a,i.x,i.y+n)})}function getShowRelationColors(){var e=[];return $(".relationtype_checkbox:checked").each(function(){e.push($(this).attr("data-color"))}),e}function makeChildrenPostData(e){return{referencedate:e,showrelationcolors:getShowRelationColors()}}function loadrelations(e){$.post(baseurl+"relations/getchildren/"+rgraph.root,makeChildrenPostData(e),function(e,t){rgraph.graph.empty(),rgraph.labels.clearLabels(!0),rgraph.canvas.clear(),clickedNodes=[],graph_data=e,rgraph.loadJSON(e),rgraph.compute(),rootid=rgraph.root,rgraph.onClick(rgraph.root),rgraph.canvas.translate(0,0),$jit.id("subject_data").innerHTML=rgraph.graph.getNode(rgraph.root).data.details,clickedNodes.push(rgraph.root)},"json")}function setreferencedate(e){$("[name=referencedate]").val(e),loadrelations(e)}function parseDate(e){var t=e.match(/(\d+)/g);return new Date(t[2],t[1]-1,t[0])}function change_timeline_arrow(e,t){$("#"+e).css("opacity",t?.5:1),$("#"+e).css("cursor",t?"default":"pointer")}function loadchangedates(){change_timeline_arrow("timeline_back",!0),change_timeline_arrow("timeline_forward",!0),$.post(baseurl+"relations/getchangedates/"+rgraph.root,null,function(e,t){if(0<(change_dates=e).length){$("#timeline_line table tr").empty();var i=parseDate($("[name=referencedate]").val());for(x in change_dates){if(parseDate(change_dates[x])<i){change_timeline_arrow("timeline_back",!1);break}}for(x in change_dates){if(i<parseDate(change_dates[x])){change_timeline_arrow("timeline_forward",!1);break}}for(x in change_dates){var n=change_dates[x].replace(/\.([^.]+)$/,":$1").split(":"),a=n[0].replace("."," / "),o=n[1],r='<a href="'+change_dates[x]+'" style="position: relative; top: -16px;">';r+=a,r+="</a>";var s='<a href="'+change_dates[x]+'">';s+='<img src="images/relations_timeline_dot.png" alt="" style="position: relative; top: -18px;" />',s+="</a>";var h='<a href="'+change_dates[x]+'" style="position: relative; top: -20px;">';h+=o,h+="</a>",$("#timeline_line table tr").append("<td>"+r+s+h+"</td>")}$("#timeline_line").scrollLeft($("#timeline_line table").width()),$("#timeline_line div").width($("#timeline_line table").width())}},"json")}smallpersonBigImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsSAAALEgHS3X78AAAAoklEQVQYlTXOIU9CUQDF8R+XC5uBxgegG7RYsUh8BCIWA7PRDX4VK2STBpuBUZ7B8jY2o4U5g3Mz8O41eD3bCSf8/zud12YXnrcvqd/vneecp8hYpZTrajIOEQlHuMANBliiRgr+EhFwKP3fIrr4whNuC3BfzN2AFme4LNoG1zhGG3CCCg+4wgyPmGMUix42+MQP3nGK74g3rLHAsJz8wB32v8YZLLP38sD4AAAAAElFTkSuQmCC",smallpersonBigImg.height=8,smallpersonBigImg.width=8,$(document).ready(function(){var e;function a(){$("#timeline_line div").width($("#timeline_line table").width())}null==sessionStorage.graphClickType&&(sessionStorage.graphClickType="opennode"),previousHeight=$(window).height(),previousWidth=$(window).width(),$("#infovis").height($(window).height()-headerHeight),$("#infovis").width($("#subject_data").width()),recalculateBirdEyeHeight(),initBirdEyeBackground(),setInterval(refreshBirdEyeBackground,100),init(graph_data),graphclicktype_visualize(),relation_types_visualise(),loadrelations($("[name=referencedate]").val()),$(window).resize(function(e,t){var i=$(window).width(),n=$(window).height();headerHeight=calculateHeaderHeight(),$("#infovis").height($(window).height()-headerHeight),$("#infovis").width($("#subject_data").width()),rgraph.canvas.resize($("#infovis").width(),$("#infovis").height()),previousHeight=n,previousWidth=i,resizeBirdeye(),a()}),$(document).on("click","#subject_data ul > li",function(){var e=$(this).attr("id").replace("target_","");return $("div[id*='"+e+"']").click(),!1}),$("#graphstructure_checkbox").change(function(){return sessionStorage.graphClickType="opennode"==sessionStorage.graphClickType?"newpage":"opennode",graphclicktype_visualize(),!1}),$(".relationtype_checkbox").change(function(){return sessionStorage.showrelationcolors=JSON.stringify(getShowRelationColors()),loadrelations($("[name=referencedate]").val()),!1}),$("#zoom_in").click(function(){return currentZoom<2&&(currentZoom+=.1,rgraph.canvas.setZoom(currentZoom,currentZoom)),!1}),$("#zoom_out").click(function(){return.3<currentZoom&&(currentZoom-=.1,rgraph.canvas.setZoom(currentZoom,currentZoom)),!1}),initializeArrowNavigation($("#direction_left"),-10,0),initializeArrowNavigation($("#direction_right"),10,0),initializeArrowNavigation($("#direction_top"),0,-10),initializeArrowNavigation($("#direction_bottom"),0,10),(e=jQuery).datepicker.regional.cs={renderer:e.ui.datepicker.defaultRenderer,monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],monthNamesShort:["led","no","be","dub","kv","er","vc","srp","z","j","lis","pro"],dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],dayNamesMin:["ne","po","t","st","t","p","so"],dateFormat:"dd.mm.yy",firstDay:1,prevText:"&#x3c;Dve",prevStatus:"",prevJumpText:"&#x3c;&#x3c;",prevJumpStatus:"",nextText:"Pozdji&#x3e;",nextStatus:"",nextJumpText:"&#x3e;&#x3e;",nextJumpStatus:"",currentText:"Dnes",currentStatus:"",todayText:"Dnes",todayStatus:"",clearText:"-",clearStatus:"",closeText:"Zavt",closeStatus:"",yearStatus:"",monthStatus:"",weekText:"Td",weekStatus:"",dayStatus:"DD d MM",defaultStatus:"",isRTL:!1},e.extend(e.datepicker.defaults,e.datepicker.regional.cs),$.datepicker.setDefaults($.datepicker.regional.cs),$("[name=referencedate]").datepicker({changeMonth:!0,changeYear:!0,showButtonPanel:!0,showOn:"both",buttonImage:"images/calendar_relations.png",buttonImageOnly:!0,yearRange:"-110:+0",onSelect:function(e){loadrelations(e)}}),loadchangedates(),$("#timeline_back").click(function(){for(var e=parseDate($("[name=referencedate]").val()),t=!0,i=change_dates.length-1;0<=i;i--){if(parseDate(change_dates[i])<e){setreferencedate(change_dates[i]),t=0==i,1<change_dates.length&&change_timeline_arrow("timeline_forward",!1);break}}return 1==t&&change_timeline_arrow("timeline_back",!0),!1}),$(document).on("click","#timeline_line a",function(){var e=$(this).attr("href");return setreferencedate(e),0<change_dates.length&&(change_timeline_arrow("timeline_back",e==change_dates[0]),change_timeline_arrow("timeline_forward",e==change_dates[change_dates.length-1])),!1}),$("#timeline_forward").click(function(){for(var e=parseDate($("[name=referencedate]").val()),t=!0,i=0;i<change_dates.length;i++){if(e<parseDate(change_dates[i])){setreferencedate(change_dates[i]),t=i==change_dates.length-1,1<change_dates.length&&change_timeline_arrow("timeline_back",!1);break}}return 1==t&&change_timeline_arrow("timeline_forward",!0),!1}),a()});